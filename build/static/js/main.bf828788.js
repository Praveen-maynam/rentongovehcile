/*! For license information please see main.bf828788.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},64:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAARNJREFUWAntltENwjAMRDMCIzAKIzACIzACo1N/RHp2ZTl1U8iHI1W9OPH5coZAazXKgXJgHQcem5TPgUf2XzpKUMZetjCTPz2nBHVLb6219zahIxnc+U69Z4mRA3DIt5bPnYseninGCrIOq3uLdwwXGBcCrnmHsHEW5hrjO24WZlHGn2Q7gFmYaYynBFEoiSPMwtzL+N8EWRGcqwOzNS98+gX3JJXAowa450dvxU9BXqJKCERw2eOzccW/tKDlWkbr6BzjbEmEbWu8ueL3CjNOIvldk1t8ZDCP+xkXfEqQEIyKYuFLBY2KSgmi8gh7bWRhD5Pb7lEt48YRnBVFbuHgM/T3gwQWZ0RZjpqXA+XAzx34AlLsslHradz/AAAAAElFTkSuQmCC"},75:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAELklEQVR4AezZoZcTMRAG8D4eAolEIBAIJAKBQCCRSORJJBLJn4BEIhBIJAKBRCCQSCQCgUAgEMyv76Yv3bbX7G1ybe/al+kk2STffJnZzG57bXbJP0eCh+7gowevsgdvBPlbIfdP5XHoGnkY48y5F9r8UP3K2BBFConnYdLLEPppaKK/Rp6cjn8W2vxXoU9CkA7VtowhaLcZhIR6S0vuxGI2idjEaLYptQRvBpxdpqM6L3/j+2fIt1P5HLpGvsQ4c36ENj/UovAinEXH1EotQaC5s4h9CODXIW9C1EkNOWM+ns55G9p86yAczXkRHaJk3pj6VUNQ+JSeYxSDEJ2Kb/7v+MoNiuq8OIjmlalfNQSFTeIgxqBst9S8m5smWmzs5PVrCAqZBEIw6z10uX6Jm1hIC18ppoyqvL6iawiWCw0PhZUFJ3aU0TEkyKvOAgSlmBeBJeWE2lxqCFo4V8gQynZrXRIscRNniO9eRTqvr+htBEvvleArCzXqKAkMCbrm5HWvSjEJKWwRzfaS3kZwafAeNNwiCCbRNEnYls7I/tm+ESyjZK3BC8tnM0TTk7ztKWg2/IwjOJy9+7b8KXRZsjZUD50gj/MkgkSo8qb6XA6dIBKebctQXTpwaghej1XsCnFf9BY4JGCrC5I5eCl/1hB8EDPtCvdLrj3F6xgscjtwa4vTNceOImgnSU6+SL1k6HmBt3nQCSW+/wSAupu6t8AhcAN2WtlG0OqAvkbFaeXdrad4FXM/kV+BObnUEJwMsssFjgQb7L600mCZ8y3R24OOfWll7XPi+UweN6snQS+jedSnHmddg9G9CErUJE0sf4rIvk1agjd3+GBxEhP0jcrLPQi65xgS9syLI5/MG1u+GH83xtDEWineFqwr7F2LYdtLa4KA7TQN3UOB/KleI/9ikCQfamNBmIc3DigvtCY4/LWL5xhUYp5VR9AcYmPKhwo/GOdcOFk/U7cmmJ5LUAeNkHKSVhsVk3mRiICU79GfZYiT/Su6NUGHCYMAlcKLUkW1YeXkKfXWBO26sMofhbTTPuRIti9EtyaYRntA58mSkHc2fTmmpS5xltbtRdD9JiQTDLH32TinLqNByJNcSgrJOqysd/nZ0FPLkJyQXQJeWFBfQVBk5AzpyCEGi85+50DWuxD0v0GGDFItyKXBUgWi2jwoH5b/fsHrShAxwgBgLclZ0328aU3edc24hbS+B+2ut3JJGhiSC7BGFSSd1O5pOLwKi6zgtSaIAxDAtHYvkfjheOrhvbU4PQiuBdpV55Uj6IBwMnktIY9i5+UYIrc5mnuKExgW8drEhpTytAyz6srQgwDklFx0nwjKd6NJDgnWbcsBjRoS9H+bkynlU3Bx/O5C3gV22kGzbSmJx/WtZUjQ0W6xlH0iOJoc9kOC+i6VHAlemDs7AV16D/4HAAD//3NRpXMAAAAGSURBVAMA5LAsgP6oq58AAAAASUVORK5CYII="},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,f(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,i)&&!N.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+j(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),E(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+j(s=e[c],c);l+=E(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=E(s=s.value,t,i,u=a+j(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return E(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!N.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},228:function(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var a=0;function o(e){return"_leaflet_id"in e||(e._leaflet_id=++a),e._leaflet_id}function s(e,t,n){var r,i,a,o;return o=function(){r=!1,i&&(a.apply(n,i),i=!1)},a=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(o,t),r=!0)},a}function l(e,t,n){var r=t[1],i=t[0],a=r-i;return e===r&&n?e:((e-i)%a+a)%a+i}function c(){return!1}function u(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return d(e).split(/\s+/)}function p(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function m(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var f=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(f,function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r})}var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function k(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var S=window.requestAnimationFrame||b("RequestAnimationFrame")||k,N=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function _(e,t,n){if(!n||S!==k)return S.call(window,i(e,t));e.call(t)}function C(e){e&&N.call(window,e)}var A={__proto__:null,extend:n,create:r,bind:i,get lastId(){return a},stamp:o,throttle:s,wrapNum:l,falseFn:c,formatNum:u,trim:d,splitWords:h,setOptions:p,getParamString:m,template:g,isArray:y,indexOf:v,emptyImageUrl:x,requestFn:S,cancelFn:N,requestAnimFrame:_,cancelAnimFrame:C};function j(){}function E(e){if("undefined"!==typeof L&&L&&L.Mixin){e=y(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}j.extend=function(e){var t=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,a=r(i);for(var o in a.constructor=t,t.prototype=a,this)Object.prototype.hasOwnProperty.call(this,o)&&"prototype"!==o&&"__super__"!==o&&(t[o]=this[o]);return e.statics&&n(t,e.statics),e.includes&&(E(e.includes),n.apply(null,[a].concat(e.includes))),n(a,e),delete a.statics,delete a.includes,a.options&&(a.options=i.options?r(i.options):{},n(a.options,e.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},t},j.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},j.mergeOptions=function(e){return n(this.prototype.options,e),this},j.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var T={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,a=(e=h(e)).length;i<a;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=h(e);for(var i=1===arguments.length,a=0,o=e.length;a<o;a++)i?this._off(e[a]):this._off(e[a],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,a;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var o=this._listens(e,t,n);if(!1!==o){var s=r[o];this._firingCount&&(s.fn=c,this._events[e]=r=r.slice()),r.splice(o,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,a=r.length;i<a;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var a=this._events[e];if(a){this._firingCount=this._firingCount+1||1;for(var o=0,s=a.length;o<s;o++){var l=a[o],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){"string"!==typeof e&&console.warn('"string" type argument expected');var i=t;"function"!==typeof t&&(r=!!t,i=void 0,n=void 0);var a=this._events&&this._events[e];if(a&&a.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var o in this._eventParents)if(this._eventParents[o].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,a=r.length;i<a;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,a=(e=h(e)).length;i<a;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};T.addEventListener=T.on,T.removeEventListener=T.clearAllEventListeners=T.off,T.addOneTimeEventListener=T.once,T.fireEvent=T.fire,T.hasEventListeners=T.listens;var I=j.extend(T);function R(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var P=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function M(e,t,n){return e instanceof R?e:y(e)?new R(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new R(e.x,e.y):new R(e,t,n)}function D(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function B(e,t){return!e||e instanceof D?e:new D(e,t)}function O(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function F(e,t){return e instanceof O?e:new O(e,t)}function V(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function z(e,t,n){return e instanceof V?e:y(e)&&"object"!==typeof e[0]?3===e.length?new V(e[0],e[1],e[2]):2===e.length?new V(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new V(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new V(e,t,n)}R.prototype={clone:function(){return new R(this.x,this.y)},add:function(e){return this.clone()._add(M(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(M(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new R(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new R(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=P(this.x),this.y=P(this.y),this},distanceTo:function(e){var t=(e=M(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=M(e)).x===this.x&&e.y===this.y},contains:function(e){return e=M(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},D.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof R||"number"===typeof e[0]||"x"in e)t=n=M(e);else if(t=(e=B(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof R?M(e):B(e))instanceof D?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=B(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>=t.x&&r.x<=n.x,o=i.y>=t.y&&r.y<=n.y;return a&&o},overlaps:function(e){e=B(e);var t=this.min,n=this.max,r=e.min,i=e.max,a=i.x>t.x&&r.x<n.x,o=i.y>t.y&&r.y<n.y;return a&&o},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return B(M(t.x-r,t.y-i),M(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=B(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},O.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof V)t=e,n=e;else{if(!(e instanceof O))return e?this.extend(z(e)||F(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new V(t.lat,t.lng),this._northEast=new V(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new O(new V(t.lat-r,t.lng-i),new V(n.lat+r,n.lng+i))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof V||"lat"in e?z(e):F(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof O?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=F(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>=t.lat&&r.lat<=n.lat,o=i.lng>=t.lng&&r.lng<=n.lng;return a&&o},overlaps:function(e){e=F(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),a=i.lat>t.lat&&r.lat<n.lat,o=i.lng>t.lng&&r.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=F(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},V.prototype={equals:function(e,t){return!!e&&(e=z(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return H.distance(this,z(e))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return F([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new V(this.lat,this.lng,this.alt)}};var U={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new D(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new V(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var a=e.getSouthWest(),o=e.getNorthEast();return new O(new V(a.lat-r,a.lng-i),new V(o.lat-r,o.lng-i))}},H=n({},U,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),s=a*a+Math.cos(r)*Math.cos(i)*o*o,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),G=6378137,K={R:G,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new R(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new V((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=G*Math.PI;return new D([-e,-e],[e,e])}()};function W(e,t,n,r){if(y(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function Z(e,t,n,r){return new W(e,t,n,r)}W.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new R((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var q=n({},H,{code:"EPSG:3857",projection:K,transformation:function(){var e=.5/(Math.PI*K.R);return Z(e,.5,-e,.5)}()}),Y=n({},q,{code:"EPSG:900913"});function X(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function J(e,t){var n,r,i,a,o,s,l="";for(n=0,i=e.length;n<i;n++){for(r=0,a=(o=e[n]).length;r<a;r++)l+=(r?"L":"M")+(s=o[r]).x+" "+s.y;l+=t?De.svg?"z":"x":""}return l||"M0 0"}var Q=document.documentElement.style,$="ActiveXObject"in window,ee=$&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Le("webkit"),re=Le("android"),ie=Le("android 2")||Le("android 3"),ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),oe=re&&Le("Google")&&ae<537&&!("AudioNode"in window),se=!!window.opera,le=!te&&Le("chrome"),ce=Le("gecko")&&!ne&&!se&&!$,ue=!le&&Le("safari"),de=Le("phantom"),he="OTransition"in Q,pe=0===navigator.platform.indexOf("Win"),me=$&&"transition"in Q,fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,ge="MozPerspective"in Q,ye=!window.L_DISABLE_3D&&(me||fe||ge)&&!he&&!de,ve="undefined"!==typeof orientation||Le("mobile"),xe=ve&&ne,be=ve&&fe,we=!window.PointerEvent&&window.MSPointerEvent,ke=!(!window.PointerEvent&&!we),Se="ontouchstart"in window||!!window.TouchEvent,Ne=!window.L_NO_TOUCH&&(Se||ke),_e=ve&&se,Ce=ve&&ce,Ae=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,je=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Ee=!!document.createElement("canvas").getContext,Te=!(!document.createElementNS||!X("svg").createSVGRect),Ie=!!Te&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Re=!Te&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Pe=0===navigator.platform.indexOf("Mac"),Me=0===navigator.platform.indexOf("Linux");function Le(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var De={ie:$,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:oe,opera:se,chrome:le,gecko:ce,safari:ue,phantom:de,opera12:he,win:pe,ie3d:me,webkit3d:fe,gecko3d:ge,any3d:ye,mobile:ve,mobileWebkit:xe,mobileWebkit3d:be,msPointer:we,pointer:ke,touch:Ne,touchNative:Se,mobileOpera:_e,mobileGecko:Ce,retina:Ae,passiveEvents:je,canvas:Ee,svg:Te,vml:Re,inlineSvg:Ie,mac:Pe,linux:Me},Be=De.msPointer?"MSPointerDown":"pointerdown",Oe=De.msPointer?"MSPointerMove":"pointermove",Fe=De.msPointer?"MSPointerUp":"pointerup",Ve=De.msPointer?"MSPointerCancel":"pointercancel",ze={touchstart:Be,touchmove:Oe,touchend:Fe,touchcancel:Ve},Ue={touchstart:Qe,touchmove:Je,touchend:Je,touchcancel:Je},He={},Ge=!1;function Ke(e,t,n){return"touchstart"===t&&Xe(),Ue[t]?(n=Ue[t].bind(this,n),e.addEventListener(ze[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function We(e,t,n){ze[t]?e.removeEventListener(ze[t],n,!1):console.warn("wrong event specified:",t)}function Ze(e){He[e.pointerId]=e}function qe(e){He[e.pointerId]&&(He[e.pointerId]=e)}function Ye(e){delete He[e.pointerId]}function Xe(){Ge||(document.addEventListener(Be,Ze,!0),document.addEventListener(Oe,qe,!0),document.addEventListener(Fe,Ye,!0),document.addEventListener(Ve,Ye,!0),Ge=!0)}function Je(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],He)t.touches.push(He[n]);t.changedTouches=[t],e(t)}}function Qe(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Zt(t),Je(e,t)}function $e(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Yt(e);if(!i.some(function(e){return e instanceof HTMLLabelElement&&e.attributes.for})||i.some(function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement})){var a=Date.now();a-r<=et?2===++n&&t($e(e)):n=1,r=a}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var rt,it,at,ot,st,lt=_t(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=_t(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ut="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function dt(e){return"string"===typeof e?document.getElementById(e):e}function ht(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function pt(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function mt(e){var t=e.parentNode;t&&t.removeChild(e)}function ft(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function yt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function vt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=kt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function xt(e,t){if(void 0!==e.classList)for(var n=h(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!vt(e,t)){var a=kt(e);wt(e,(a?a+" ":"")+t)}}function bt(e,t){void 0!==e.classList?e.classList.remove(t):wt(e,d((" "+kt(e)+" ").replace(" "+t+" "," ")))}function wt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function kt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function St(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Nt(e,t)}function Nt(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function _t(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Ct(e,t,n){var r=t||new R(0,0);e.style[lt]=(De.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function At(e,t){e._leaflet_pos=t,De.any3d?Ct(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function jt(e){return e._leaflet_pos||new R(0,0)}if("onselectstart"in document)rt=function(){Bt(window,"selectstart",Zt)},it=function(){Ft(window,"selectstart",Zt)};else{var Et=_t(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rt=function(){if(Et){var e=document.documentElement.style;at=e[Et],e[Et]="none"}},it=function(){Et&&(document.documentElement.style[Et]=at,at=void 0)}}function Tt(){Bt(window,"dragstart",Zt)}function It(){Ft(window,"dragstart",Zt)}function Rt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Pt(),ot=e,st=e.style.outlineStyle,e.style.outlineStyle="none",Bt(window,"keydown",Pt))}function Pt(){ot&&(ot.style.outlineStyle=st,ot=void 0,st=void 0,Ft(window,"keydown",Pt))}function Mt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Lt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Dt={__proto__:null,TRANSFORM:lt,TRANSITION:ct,TRANSITION_END:ut,get:dt,getStyle:ht,create:pt,remove:mt,empty:ft,toFront:gt,toBack:yt,hasClass:vt,addClass:xt,removeClass:bt,setClass:wt,getClass:kt,setOpacity:St,testProp:_t,setTransform:Ct,setPosition:At,getPosition:jt,get disableTextSelection(){return rt},get enableTextSelection(){return it},disableImageDrag:Tt,enableImageDrag:It,preventOutline:Rt,restoreOutline:Pt,getSizedParentNode:Mt,getScale:Lt};function Bt(e,t,n,r){if(t&&"object"===typeof t)for(var i in t)Ut(e,i,t[i],n);else for(var a=0,o=(t=h(t)).length;a<o;a++)Ut(e,t[a],n,r);return this}var Ot="_leaflet_events";function Ft(e,t,n,r){if(1===arguments.length)Vt(e),delete e[Ot];else if(t&&"object"===typeof t)for(var i in t)Ht(e,i,t[i],n);else if(t=h(t),2===arguments.length)Vt(e,function(e){return-1!==v(t,e)});else for(var a=0,o=t.length;a<o;a++)Ht(e,t[a],n,r);return this}function Vt(e,t){for(var n in e[Ot]){var r=n.split(/\d/)[0];t&&!t(r)||Ht(e,r,null,null,n)}}var zt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ut(e,t,n,r){var i=t+o(n)+(r?"_"+o(r):"");if(e[Ot]&&e[Ot][i])return this;var a=function(t){return n.call(r||e,t||window.event)},s=a;!De.touchNative&&De.pointer&&0===t.indexOf("touch")?a=Ke(e,t,a):De.touch&&"dblclick"===t?a=tt(e,a):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(zt[t]||t,a,!!De.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(a=function(t){t=t||window.event,$t(e,t)&&s(t)},e.addEventListener(zt[t],a,!1)):e.addEventListener(t,s,!1):e.attachEvent("on"+t,a),e[Ot]=e[Ot]||{},e[Ot][i]=a}function Ht(e,t,n,r,i){i=i||t+o(n)+(r?"_"+o(r):"");var a=e[Ot]&&e[Ot][i];if(!a)return this;!De.touchNative&&De.pointer&&0===t.indexOf("touch")?We(e,t,a):De.touch&&"dblclick"===t?nt(e,a):"removeEventListener"in e?e.removeEventListener(zt[t]||t,a,!1):e.detachEvent("on"+t,a),e[Ot][i]=null}function Gt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Kt(e){return Ut(e,"wheel",Gt),this}function Wt(e){return Bt(e,"mousedown touchstart dblclick contextmenu",Gt),e._leaflet_disable_click=!0,this}function Zt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function qt(e){return Zt(e),Gt(e),this}function Yt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Xt(e,t){if(!t)return new R(e.clientX,e.clientY);var n=Lt(t),r=n.boundingClientRect;return new R((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Jt=De.linux&&De.chrome?window.devicePixelRatio:De.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qt(e){return De.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Jt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function $t(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var en={__proto__:null,on:Bt,off:Ft,stopPropagation:Gt,disableScrollPropagation:Kt,disableClickPropagation:Wt,preventDefault:Zt,stop:qt,getPropagationPath:Yt,getMousePosition:Xt,getWheelDelta:Qt,isExternalTarget:$t,addListener:Bt,removeListener:Ft},tn=I.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=jt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),At(this._el,n),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=I.extend({options:{crs:q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(z(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Bt(this._proxy,ut,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(z(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),a=(e instanceof R?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),o=this.containerPointToLatLng(i.add(a));return this.setView(o,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():F(e);var n=M(t.paddingTopLeft||t.padding||[0,0]),r=M(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var a=r.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(o.add(s).divideBy(2).add(a),i),zoom:i}},fitBounds:function(e,t){if(!(e=F(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=M(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){xt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!De.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),a=this.getSize(),o=this._zoom;e=z(e),t=void 0===t?o:t;var s=Math.max(a.x,a.y),l=s*this.getZoomScale(o,t),c=i.distanceTo(r)||1,u=1.42,d=u*u;function h(e){var t=(l*l-s*s+(e?-1:1)*d*d*c*c)/(2*(e?l:s)*d*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function m(e){return(Math.exp(e)+Math.exp(-e))/2}function f(e){return p(e)/m(e)}var g=h(0);function y(e){return s*(m(g)/m(g+u*e))}function v(e){return s*(m(g)*f(g+u*e)-p(g))/d}function x(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),w=(h(1)-g)/u,k=n.duration?1e3*n.duration:1e3*w*.8;function S(){var n=(Date.now()-b)/k,a=x(n)*w;n<=1?(this._flyToFrame=_(S,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(v(a)/c)),o),this.getScaleZoom(s/y(a),o),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=F(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,F(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=M((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=M(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),a=this.project(e),o=this.getPixelBounds(),s=B([o.min.add(n),o.max.subtract(r)]),l=s.getSize();if(!s.contains(a)){this._enforcingBounds=!0;var c=a.subtract(s.getCenter()),u=s.extend(a).getSize().subtract(l);i.x+=c.x<0?-u.x:u.x,i.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),a=t.divideBy(2).round(),o=r.divideBy(2).round(),s=a.subtract(o);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new V(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var a={latlng:t,bounds:n,timestamp:e.timestamp};for(var o in e.coords)"number"===typeof e.coords[o]&&(a[o]=e.coords[o]);this.fire("locationfound",a)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)mt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=pt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new O(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=F(e),n=M(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),a=this.getMaxZoom(),o=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),c=B(this.project(s,r),this.project(o,r)).getSize(),u=De.any3d?this.options.zoomSnap:1,d=l.x/c.x,h=l.y/c.y,p=t?Math.max(d,h):Math.min(d,h);return r=this.getScaleZoom(p,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(a,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new D(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(z(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(M(e),t)},layerPointToLatLng:function(e){var t=M(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(z(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(z(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(F(e))},distance:function(e,t){return this.options.crs.distance(z(e),z(t))},containerPointToLayerPoint:function(e){return M(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return M(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(M(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(z(e)))},mouseEventToContainerPoint:function(e){return Xt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=dt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Bt(t,"scroll",this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,xt(e,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ht(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),At(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(e.markerPane,"leaflet-zoom-hide"),xt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){At(this._mapPane,new R(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){At(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?Ft:Bt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=_(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,s=!1;a;){if((n=this._targets[o(a)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(i&&!$t(a,e))break;if(r.push(n),i)break}if(a===this._container)break;a=a.parentNode}return r.length||s||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Rt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var a=this._findEventTargets(e,t);if(r){for(var o=[],s=0;s<r.length;s++)r[s].listens(t,!0)&&o.push(r[s]);a=o.concat(a)}if(a.length){"contextmenu"===t&&Zt(e);var l=a[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<a.length;s++)if(a[s].fire(t,c,!0),c.originalEvent._stopped||!1===a[s].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return jt(this._mapPane)||new R(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return B([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),a=new D(r.subtract(i),r.add(i)),o=this._getBoundsOffset(a,n,t);return Math.abs(o.x)<=1&&Math.abs(o.y)<=1?e:this.unproject(r.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new D(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=B(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),a=r.max.subtract(e.max);return new R(this._rebound(i.x,-a.x),this._rebound(i.y,-a.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=De.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=lt,n=this._proxy.style[t];Ct(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Ct(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(_(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var an=j.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return xt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),on=function(e){return new an(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=pt("div",t+"control-container",this._container);function r(r,i){var a=t+r+" "+t+i;e[r+i]=pt("div",a,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)mt(this._controlCorners[e]);mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return an.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=pt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Wt(t),Kt(t);var r=this._section=pt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Bt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=pt("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),Bt(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Zt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=pt("div",e+"-base",r),this._separator=pt("div",e+"-separator",r),this._overlaysList=pt("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ft(this._baseLayersList),ft(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+o(this),r),this._layerControlInputs.push(t),t.layerId=o(e.layer),Bt(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var a=document.createElement("span");return n.appendChild(a),a.appendChild(t),a.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var a=n.length-1;a>=0;a--)e=n[a],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])&&this._map.removeLayer(i[a]);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])||this._map.addLayer(r[a]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Bt(e,"click",Zt),this.expand();var t=this;setTimeout(function(){Ft(e,"click",Zt),t._preventClick=!1})}}),ln=function(e,t,n){return new sn(e,t,n)},cn=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=pt("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var a=pt("a",n,r);return a.innerHTML=e,a.href="#",a.title=t,a.setAttribute("role","button"),a.setAttribute("aria-label",t),Wt(a),Bt(a,"click",qt),Bt(a,"click",i,this),Bt(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";bt(this._zoomInButton,t),bt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(xt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(xt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))});var un=function(e){return new cn(e)},dn=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=pt("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=pt("div",t,n)),e.imperial&&(this._iScale=pt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),hn=function(e){return new dn(e)},pn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',mn=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?pn+" ":"")+"Leaflet</a>"},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),Wt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook(function(){this.options.attributionControl&&(new mn).addTo(this)});var fn=function(e){return new mn(e)};an.Layers=sn,an.Zoom=cn,an.Scale=dn,an.Attribution=mn,on.layers=ln,on.zoom=un,on.scale=hn,on.attribution=fn;var gn=j.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var yn={Events:T},vn=De.touch?"touchstart mousedown":"mousedown",xn=I.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){p(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Bt(this._dragStartTarget,vn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xn._dragging===this&&this.finishDrag(!0),Ft(this._dragStartTarget,vn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!vt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)xn._dragging===this&&this.finishDrag();else if(!(xn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(xn._dragging=this,this._preventOutline&&Rt(this._element),Tt(),rt(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Mt(this._element);this._startPoint=new R(t.clientX,t.clientY),this._startPos=jt(this._element),this._parentScale=Lt(n);var r="mousedown"===e.type;Bt(document,r?"mousemove":"touchmove",this._onMove,this),Bt(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new R(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Zt(e),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),At(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ft(document,"mousemove touchmove",this._onMove,this),Ft(document,"mouseup touchend touchcancel",this._onUp,this),It(),it();var t=this._moved&&this._moving;this._moving=!1,xn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function bn(e,t,n){var r,i,a,o,s,l,c,u,d,h=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=Pn(e[i],t);for(o=0;o<4;o++){for(u=h[o],r=[],i=0,a=(c=e.length)-1;i<c;a=i++)s=e[i],l=e[a],s._code&u?l._code&u||((d=Rn(l,s,u,t,n))._code=Pn(d,t),r.push(d)):(l._code&u&&((d=Rn(l,s,u,t,n))._code=Pn(d,t),r.push(d)),r.push(s));e=r}return e}function wn(e,t){var n,r,i,a,o,s,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");Dn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=z([0,0]),h=F(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(d=kn(e));var p=e.length,m=[];for(n=0;n<p;n++){var f=z(e[n]);m.push(t.project(z([f.lat-d.lat,f.lng-d.lng])))}for(s=l=c=0,n=0,r=p-1;n<p;r=n++)i=m[n],a=m[r],o=i.y*a.x-a.y*i.x,l+=(i.x+a.x)*o,c+=(i.y+a.y)*o,s+=3*o;u=0===s?m[0]:[l/s,c/s];var g=t.unproject(M(u));return z([g.lat+d.lat,g.lng+d.lng])}function kn(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var a=z(e[i]);t+=a.lat,n+=a.lng,r++}return z([t/r,n/r])}var Sn,Nn={__proto__:null,clipPolygon:bn,polygonCenter:wn,centroid:kn};function _n(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=jn(e=Tn(e,n),n)}function Cn(e,t,n){return Math.sqrt(Ln(e,t,n,!0))}function An(e,t,n){return Ln(e,t,n)}function jn(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,En(e,r,t,0,n-1);var i,a=[];for(i=0;i<n;i++)r[i]&&a.push(e[i]);return a}function En(e,t,n,r,i){var a,o,s,l=0;for(o=r+1;o<=i-1;o++)(s=Ln(e[o],e[r],e[i],!0))>l&&(a=o,l=s);l>n&&(t[a]=1,En(e,t,n,r,a),En(e,t,n,a,i))}function Tn(e,t){for(var n=[e[0]],r=1,i=0,a=e.length;r<a;r++)Mn(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<a-1&&n.push(e[a-1]),n}function In(e,t,n,r,i){var a,o,s,l=r?Sn:Pn(e,n),c=Pn(t,n);for(Sn=c;;){if(!(l|c))return[e,t];if(l&c)return!1;s=Pn(o=Rn(e,t,a=l||c,n,i),n),a===l?(e=o,l=s):(t=o,c=s)}}function Rn(e,t,n,r,i){var a,o,s=t.x-e.x,l=t.y-e.y,c=r.min,u=r.max;return 8&n?(a=e.x+s*(u.y-e.y)/l,o=u.y):4&n?(a=e.x+s*(c.y-e.y)/l,o=c.y):2&n?(a=u.x,o=e.y+l*(u.x-e.x)/s):1&n&&(a=c.x,o=e.y+l*(c.x-e.x)/s),new R(a,o,i)}function Pn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Mn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Ln(e,t,n,r){var i,a=t.x,o=t.y,s=n.x-a,l=n.y-o,c=s*s+l*l;return c>0&&((i=((e.x-a)*s+(e.y-o)*l)/c)>1?(a=n.x,o=n.y):i>0&&(a+=s*i,o+=l*i)),s=e.x-a,l=e.y-o,r?s*s+l*l:new R(a,o)}function Dn(e){return!y(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function Bn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dn(e)}function On(e,t){var n,r,i,a,o,s,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Dn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=z([0,0]),d=F(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=kn(e));var h=e.length,p=[];for(n=0;n<h;n++){var m=z(e[n]);p.push(t.project(z([m.lat-u.lat,m.lng-u.lng])))}for(n=0,r=0;n<h-1;n++)r+=p[n].distanceTo(p[n+1])/2;if(0===r)c=p[0];else for(n=0,a=0;n<h-1;n++)if(o=p[n],s=p[n+1],(a+=i=o.distanceTo(s))>r){l=(a-r)/i,c=[s.x-l*(s.x-o.x),s.y-l*(s.y-o.y)];break}var f=t.unproject(M(c));return z([f.lat+u.lat,f.lng+u.lng])}var Fn={__proto__:null,simplify:_n,pointToSegmentDistance:Cn,closestPointOnSegment:An,clipSegment:In,_getEdgeIntersection:Rn,_getBitCode:Pn,_sqClosestPointOnSegment:Ln,isFlat:Dn,_flat:Bn,polylineCenter:On},Vn={project:function(e){return new R(e.lng,e.lat)},unproject:function(e){return new V(e.y,e.x)},bounds:new D([-180,-90],[180,90])},zn={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,a=Math.sqrt(1-i*i),o=a*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-o)/(1+o),a/2);return r=-n*Math.log(Math.max(s,1e-10)),new R(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,a=Math.sqrt(1-i*i),o=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(o),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=a*Math.sin(s),t=Math.pow((1-t)/(1+t),a/2),s+=c=Math.PI/2-2*Math.atan(o*t)-s;return new V(s*n,e.x*n/r)}},Un={__proto__:null,LonLat:Vn,Mercator:zn,SphericalMercator:K},Hn=n({},H,{code:"EPSG:3395",projection:zn,transformation:function(){var e=.5/(Math.PI*zn.R);return Z(e,.5,-e,.5)}()}),Gn=n({},H,{code:"EPSG:4326",projection:Vn,transformation:Z(1/180,1,-1/180,.5)}),Kn=n({},U,{projection:Vn,transformation:Z(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});U.Earth=H,U.EPSG3395=Hn,U.EPSG3857=q,U.EPSG900913=Y,U.EPSG4326=Gn,U.Simple=Kn;var Wn=I.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=o(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?y(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zn=Wn.extend({initialize:function(e,t){var n,r;if(p(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return o(e)}}),qn=function(e,t){return new Zn(e,t)},Yn=Zn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Zn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Zn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new O;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Xn=function(e,t){return new Yn(e,t)},Jn=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=M(r),a=M("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),a&&(e.style.marginLeft=-a.x+"px",e.style.marginTop=-a.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return De.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Qn(e){return new Jn(e)}var $n=Jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof $n.imagePath&&($n.imagePath=this._detectIconPath()),(this.options.imagePath||$n.imagePath)+Jn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=pt("div","leaflet-default-icon-path",document.body),t=ht(e,"background-image")||ht(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),er=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new xn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,a=jt(t._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),l=B(o.min._subtract(s).add(i),o.max._subtract(s).subtract(i));if(!l.contains(a)){var c=M((Math.max(l.max.x,a.x)-l.max.x)/(o.max.x-l.max.x)-(Math.min(l.min.x,a.x)-l.min.x)/(o.min.x-l.min.x),(Math.max(l.max.y,a.y)-l.max.y)/(o.max.y-l.max.y)-(Math.min(l.min.y,a.y)-l.min.y)/(o.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),At(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=_(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=_(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=jt(t._icon),i=t._map.layerPointToLatLng(r);n&&At(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),tr=Wn.extend({options:{icon:new $n,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=z(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=z(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),xt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),a=!1;i!==this._shadow&&(this._removeShadow(),a=!0),i&&(xt(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&a&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(this._icon,"focus",this._panOnFocus,this),mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&mt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&At(this._icon,e),this._shadow&&At(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),er)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new er(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&St(this._icon,e),this._shadow&&St(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?M(t.iconSize):M(0,0),r=t.iconAnchor?M(t.iconAnchor):M(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nr(e,t){return new tr(e,t)}var rr=Wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ir=rr.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=z(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=z(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return rr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new D(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ar(e,t){return new ir(e,t)}var or=ir.extend({initialize:function(e,t,r){if("number"===typeof t&&(t=n({},r,{radius:t})),p(this,t),this._latlng=z(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new O(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:rr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===H.distance){var i=Math.PI/180,a=this._mRadius/H.R/i,o=n.project([t+a,e]),s=n.project([t-a,e]),l=o.add(s).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(a*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(u)||0===u)&&(u=a/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-o.y}else{var d=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function sr(e,t,n){return new or(e,t,n)}var lr=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,a=Ln,o=0,s=this._parts.length;o<s;o++)for(var l=this._parts[o],c=1,u=l.length;c<u;c++){var d=a(e,t=l[c-1],n=l[c],!0);d<r&&(r=d,i=a(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return On(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=z(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new O,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Dn(e),r=0,i=e.length;r<i;r++)n?(t[r]=z(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new R(e,e);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,a=e[0]instanceof V,o=e.length;if(a){for(i=[],r=0;r<o;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<o;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,a,o,s,l=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,a=(s=this._rings[t]).length;n<a-1;n++)(o=In(s[n],s[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(o[0]),o[1]===s[n+1]&&n!==a-2||(l[r].push(o[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=_n(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,a,o,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(r=0,i=(o=(s=this._parts[n]).length)-1;r<o;i=r++)if((t||0!==r)&&Cn(e,s[i],s[r])<=l)return!0;return!1}});function cr(e,t){return new lr(e,t)}lr._flat=Bn;var ur=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=lr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof V&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){lr.prototype._setLatLngs.call(this,e),Dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new R(t,t);if(e=new D(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,a=this._rings.length;i<a;i++)(r=bn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,a,o,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(a=0,o=(l=(t=this._parts[i]).length)-1;a<l;o=a++)n=t[a],r=t[o],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||lr.prototype._containsPoint.call(this,e,!0)}});function dr(e,t){return new ur(e,t)}var hr=Yn.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=y(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var o=pr(e,a);return o?(o.feature=br(e),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function pr(e,t){var n,r,i,a,o="Feature"===e.type?e.geometry:e,s=o?o.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||fr;if(!s&&!o)return null;switch(o.type){case"Point":return mr(c,e,n=u(s),t);case"MultiPoint":for(i=0,a=s.length;i<a;i++)n=u(s[i]),l.push(mr(c,e,n,t));return new Yn(l);case"LineString":case"MultiLineString":return r=gr(s,"LineString"===o.type?0:1,u),new lr(r,t);case"Polygon":case"MultiPolygon":return r=gr(s,"Polygon"===o.type?1:2,u),new ur(r,t);case"GeometryCollection":for(i=0,a=o.geometries.length;i<a;i++){var d=pr({geometry:o.geometries[i],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new Yn(l);case"FeatureCollection":for(i=0,a=o.features.length;i<a;i++){var h=pr(o.features[i],t);h&&l.push(h)}return new Yn(l);default:throw new Error("Invalid GeoJSON object.")}}function mr(e,t,n,r){return e?e(t,n):new tr(n,r&&r.markersInheritOptions&&r)}function fr(e){return new V(e[1],e[0],e[2])}function gr(e,t,n){for(var r,i=[],a=0,o=e.length;a<o;a++)r=t?gr(e[a],t-1,n):(n||fr)(e[a]),i.push(r);return i}function yr(e,t){return void 0!==(e=z(e)).alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function vr(e,t,n,r){for(var i=[],a=0,o=e.length;a<o;a++)i.push(t?vr(e[a],Dn(e[a])?0:t-1,n,r):yr(e[a],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function xr(e,t){return e.feature?n({},e.feature,{geometry:t}):br(t)}function br(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var wr={toGeoJSON:function(e){return xr(this,{type:"Point",coordinates:yr(this.getLatLng(),e)})}};function kr(e,t){return new hr(e,t)}tr.include(wr),or.include(wr),ir.include(wr),lr.include({toGeoJSON:function(e){var t=!Dn(this._latlngs);return xr(this,{type:(t?"Multi":"")+"LineString",coordinates:vr(this._latlngs,t?1:0,!1,e)})}}),ur.include({toGeoJSON:function(e){var t=!Dn(this._latlngs),n=t&&!Dn(this._latlngs[0]),r=vr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),xr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Zn.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),xr(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var a=br(i);"FeatureCollection"===a.type?r.push.apply(r,a.features):r.push(a)}}}),n?xr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Sr=kr,Nr=Wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=F(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&yt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=F(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:pt("img");xt(t,"leaflet-image-layer"),this._zoomAnimated&&xt(t,"leaflet-zoom-animated"),this.options.className&&xt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Ct(this._image,n,t)},_reset:function(){var e=this._image,t=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();At(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){St(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),_r=function(e,t,n){return new Nr(e,t,n)},Cr=Nr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:pt("video");if(xt(t,"leaflet-image-layer"),this._zoomAnimated&&xt(t,"leaflet-zoom-animated"),this.options.className&&xt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],a=0;a<n.length;a++)r.push(n[a].src);this._url=n.length>0?r:[t.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var s=pt("source");s.src=this._url[o],t.appendChild(s)}}}});function Ar(e,t,n){return new Cr(e,t,n)}var jr=Nr.extend({_initImage:function(){var e=this._image=this._url;xt(e,"leaflet-image-layer"),this._zoomAnimated&&xt(e,"leaflet-zoom-animated"),this.options.className&&xt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Er(e,t,n){return new jr(e,t,n)}var Tr=Wn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof V||y(e))?(this._latlng=z(e),p(this,t)):(p(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&St(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&St(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(St(this._container,0),this._removeTimeout=setTimeout(i(mt,void 0,this._container),200)):mt(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=z(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&yt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Yn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=M(this.options.offset),n=this._getAnchor();this._zoomAnimated?At(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Wn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(p(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var Ir=Tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Tr.prototype.openOn.call(this,e)},onAdd:function(e){Tr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",Gt))},onRemove:function(e){Tr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",Gt))},getEvents:function(){var e=Tr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=pt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=pt("div",e+"-content-wrapper",t);if(this._contentNode=pt("div",e+"-content",n),Wt(t),Kt(this._contentNode),Bt(t,"contextmenu",Gt),this._tipContainer=pt("div",e+"-tip-container",t),this._tip=pt("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=pt("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Bt(r,"click",function(e){Zt(e),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,a="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",xt(e,a)):bt(e,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();At(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(ht(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new R(this._containerLeft,-n-this._containerBottom);i._add(jt(this._container));var a=e.layerPointToContainerPoint(i),o=M(this.options.autoPanPadding),s=M(this.options.autoPanPaddingTopLeft||o),l=M(this.options.autoPanPaddingBottomRight||o),c=e.getSize(),u=0,d=0;a.x+r+l.x>c.x&&(u=a.x+r-c.x+l.x),a.x-u-s.x<0&&(u=a.x-s.x),a.y+n+l.y>c.y&&(d=a.y+n-c.y+l.y),a.y-d-s.y<0&&(d=a.y-s.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,d]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rr=function(e,t){return new Ir(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Ir,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Wn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Ir,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Yn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){qt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof rr?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Pr=Tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Tr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Tr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Tr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,a=r.latLngToContainerPoint(r.getCenter()),o=r.layerPointToContainerPoint(e),s=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,u=M(this.options.offset),d=this._getAnchor();"top"===s?(t=l/2,n=c):"bottom"===s?(t=l/2,n=0):"center"===s?(t=l/2,n=c/2):"right"===s?(t=0,n=c/2):"left"===s?(t=l,n=c/2):o.x<a.x?(s="right",t=0,n=c/2):(s="left",t=l+2*(u.x+d.x),n=c/2),e=e.subtract(M(t,n,!0)).add(u).add(d),bt(i,"leaflet-tooltip-right"),bt(i,"leaflet-tooltip-left"),bt(i,"leaflet-tooltip-top"),bt(i,"leaflet-tooltip-bottom"),xt(i,"leaflet-tooltip-"+s),At(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&St(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Mr=function(e,t){return new Pr(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Pr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Wn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Pr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Yn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(Bt(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),Bt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)})}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Lr=Jn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ft(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=M(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Dr(e){return new Lr(e)}Jn.Default=$n;var Br=Wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),mt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof R?e:new R(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,a=n.length;i<a;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){St(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var a=Math.min(1,(e-i.loaded)/200);St(i.el,a),a<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(C(this._fadeFrame),this._fadeFrame=_(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(mt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)mt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),a=Math.floor(t/2),o=n-1,s=new R(+i,+a);s.z=+o;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),o>r&&this._retainParent(i,a,o,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var a=2*t;a<2*t+2;a++){var o=new R(i,a);o.z=n+1;var s=this._tileCoordsToKey(o),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,a,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var a=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!a||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();De.any3d?Ct(e.el,i,r):At(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(2*r);return new D(i.subtract(a),i.add(a))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),a=i.getCenter(),o=[],s=this.options.keepBuffer,l=new D(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new R(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var d=i.min.y;d<=i.max.y;d++)for(var h=i.min.x;h<=i.max.x;h++){var p=new R(h,d);if(p.z=this._tileZoom,this._isValidTile(p)){var m=this._tiles[this._tileCoordsToKey(p)];m?m.current=!0:o.push(p)}}if(o.sort(function(e,t){return e.distanceTo(a)-t.distanceTo(a)}),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var f=document.createDocumentFragment();for(h=0;h<o.length;h++)this._addTile(o[h],f);this._level.el.appendChild(f)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return F(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new O(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new R(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(mt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){xt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,De.ielt9&&this.options.opacity<1&&St(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),a=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(a),this.createTile.length<2&&_(i(this._tileReady,this,e,null,a)),At(a,n),this._tiles[r]={el:a,coords:e,current:!0},t.appendChild(a),this.fire("tileloadstart",{tile:a,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(St(n.el,0),C(this._fadeFrame),this._fadeFrame=_(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(xt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?_(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new R(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new D(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Or(e){return new Br(e)}var Fr=Br.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&De.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Bt(n,"load",i(this._tileOnLoad,this,t,n)),Bt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:De.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){De.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=x;var n=this._tiles[e].coords;mt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",x),Br.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==x))return Br.prototype._tileReady.call(this,e,t,n)}});function Vr(e,t){return new Fr(e,t)}var zr=Fr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);var a=(t=p(this,t)).detectRetina&&De.retina?2:1,o=this.getTileSize();r.width=o.x*a,r.height=o.y*a,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Fr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=B(n.project(t[0]),n.project(t[1])),i=r.min,a=r.max,o=(this._wmsVersion>=1.3&&this._crs===Gn?[i.y,i.x,a.y,a.x]:[i.x,i.y,a.x,a.y]).join(","),s=Fr.prototype.getTileUrl.call(this,e);return s+m(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Ur(e,t){return new zr(e,t)}Fr.WMS=zr,Vr.wms=Ur;var Hr=Wn.extend({options:{padding:.1},initialize:function(e){p(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),a=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));De.any3d?Ct(this._container,a,n):At(this._container,a)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new D(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gr=Hr.extend({options:{tolerance:0},getEvents:function(){var e=Hr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Bt(e,"mousemove",this._onMouseMove,this),Bt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Bt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,mt(this._container),Ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Hr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=De.retina?2:1;At(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Hr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||_(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,a,o=e._parts,s=o.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,i=o[n].length;r<i;r++)a=o[n][r],l[r?"lineTo":"moveTo"](a.x,a.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(bt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,a=this._drawFirst;a;a=a.next)(n=a.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(xt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Kr(e){return De.canvas?new Gr(e):null}var Wr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Zr={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Wr("shape");xt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Wr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;mt(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Wr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=y(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Wr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){yt(e._container)}},qr=De.vml?Wr:X,Yr=Hr.extend({_initContainer:function(){this._container=qr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){mt(this._container),Ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Hr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),At(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=qr("path");e.options.className&&xt(t,e.options.className),e.options.interactive&&xt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){mt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,J(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){yt(e._path)}});function Xr(e){return De.svg||De.vml?new Yr(e):null}De.vml&&Yr.include(Zr),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Kr(e)||Xr(e)}});var Jr=ur.extend({initialize:function(e,t){ur.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=F(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Qr(e,t){return new Jr(e,t)}Yr.create=qr,Yr.pointsToPath=J,hr.geometryToLayer=pr,hr.coordsToLatLng=fr,hr.coordsToLatLngs=gr,hr.latLngToCoords=yr,hr.latLngsToCoords=vr,hr.getFeature=xr,hr.asFeature=br,nn.mergeOptions({boxZoom:!0});var $r=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),rt(),Tt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Bt(document,{contextmenu:qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new D(this._point,this._startPoint),n=t.getSize();At(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(mt(this._box),bt(this._container,"leaflet-crosshair")),it(),It(),Ft(document,{contextmenu:qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new O(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",$r),nn.mergeOptions({doubleClickZoom:!0});var ei=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",ei),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ti=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new xn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=F(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,a=(r+t+n)%e-t-n,o=Math.abs(i+n)<Math.abs(a+n)?i:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=i.multiplyBy(o/a),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=s.multiplyBy(c/l),d=c/(n.inertiaDeceleration*o),h=u.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),_(function(){t.panBy(h,{duration:d,easeLinearity:o,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ti),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ni=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Bt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=M(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(M(t),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(i)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}qt(e)}}});nn.addInitHook("addHandler","keyboard",ni),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ri=gn.extend({addHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Qt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),qt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,a=n?Math.ceil(i/n)*n:i,o=e._limitZoom(t+(this._delta>0?a:-a))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});nn.addInitHook("addHandler","scrollWheelZoom",ri);var ii=600;nn.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var ai=gn.extend({addHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new R(t.clientX,t.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(Bt(document,"touchend",Zt),Bt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),ii),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ft(document,"touchend",Zt),Ft(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new R(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",ai),nn.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var oi=gn.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),Zt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),a=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(a,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&a<1||this._zoom>t.getMaxZoom()&&a>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{var o=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===a&&0===o.x&&0===o.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var s=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_(s,this,!0),Zt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",oi),nn.BoxZoom=$r,nn.DoubleClickZoom=ei,nn.Drag=ti,nn.Keyboard=ni,nn.ScrollWheelZoom=ri,nn.TapHold=ai,nn.TouchZoom=oi,e.Bounds=D,e.Browser=De,e.CRS=U,e.Canvas=Gr,e.Circle=or,e.CircleMarker=ir,e.Class=j,e.Control=an,e.DivIcon=Lr,e.DivOverlay=Tr,e.DomEvent=en,e.DomUtil=Dt,e.Draggable=xn,e.Evented=I,e.FeatureGroup=Yn,e.GeoJSON=hr,e.GridLayer=Br,e.Handler=gn,e.Icon=Jn,e.ImageOverlay=Nr,e.LatLng=V,e.LatLngBounds=O,e.Layer=Wn,e.LayerGroup=Zn,e.LineUtil=Fn,e.Map=nn,e.Marker=tr,e.Mixin=yn,e.Path=rr,e.Point=R,e.PolyUtil=Nn,e.Polygon=ur,e.Polyline=lr,e.Popup=Ir,e.PosAnimation=tn,e.Projection=Un,e.Rectangle=Jr,e.Renderer=Hr,e.SVG=Yr,e.SVGOverlay=jr,e.TileLayer=Fr,e.Tooltip=Pr,e.Transformation=W,e.Util=A,e.VideoOverlay=Cr,e.bind=i,e.bounds=B,e.canvas=Kr,e.circle=sr,e.circleMarker=ar,e.control=on,e.divIcon=Dr,e.extend=n,e.featureGroup=Xn,e.geoJSON=kr,e.geoJson=Sr,e.gridLayer=Or,e.icon=Qn,e.imageOverlay=_r,e.latLng=z,e.latLngBounds=F,e.layerGroup=qn,e.map=rn,e.marker=nr,e.point=M,e.polygon=dr,e.polyline=cr,e.popup=Rr,e.rectangle=Qr,e.setOptions=p,e.stamp=o,e.svg=Xr,e.svgOverlay=Er,e.tileLayer=Vr,e.tooltip=Mr,e.transformation=Z,e.version=t,e.videoOverlay=Ar;var si=window.L;e.noConflict=function(){return window.L=si,this},window.L=e}(t)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,f=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!f)if(null!==r(c))f=!0,P(k);else{var t=r(u);null!==t&&M(w,t.startTime-e)}}function k(e,n){f=!1,g&&(g=!1,v(C),C=-1),m=!0;var a=p;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!E());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&M(w,d.startTime-n),l=!1}return l}finally{h=null,p=a,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,N=!1,_=null,C=-1,A=5,j=-1;function E(){return!(t.unstable_now()-j<A)}function T(){if(null!==_){var e=t.unstable_now();j=e;var n=!0;try{n=_(!0,e)}finally{n?S():(N=!1,_=null)}}else N=!1}if("function"===typeof x)S=function(){x(T)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=T,S=function(){R.postMessage(null)}}else S=function(){y(T,0)};function P(e){_=e,N||(N=!0,S())}function M(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,P(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(v(C),C=-1):g=!0,M(w,a-o))):(e.sortIndex=s,n(c,e),f||m||(f=!0,P(k))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.H=r.createRoot,r.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var D,B=Object.assign;function O(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function z(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case _:return"Profiler";case N:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ne=null;function _e(e){if(e=xi(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Ce(e){Se?Ne?Ne.push(e):Ne=[e]:Se=e}function Ae(){if(Se){var e=Se,t=Ne;if(Ne=Se=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function je(e,t){return e(t)}function Ee(){}var Te=!1;function Ie(e,t,n){if(Te)return e(t,n);Te=!0;try{return je(e,t,n)}finally{Te=!1,(null!==Se||null!==Ne)&&(Ee(),Ae())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Pe=!1}function Le(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Be=null,Oe=!1,Fe=null,Ve={onError:function(e){De=!0,Be=e}};function ze(e,t,n,r,i,a,o,s,l){De=!1,Be=null,Le.apply(Ve,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ue(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ze=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,St,Nt,_t,Ct=!1,At=[],jt=null,Et=null,Tt=null,It=new Map,Rt=new Map,Pt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=vi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ot(e)&&n.delete(t)}function Vt(){Ct=!1,null!==jt&&Ot(jt)&&(jt=null),null!==Et&&Ot(Et)&&(Et=null),null!==Tt&&Ot(Tt)&&(Tt=null),It.forEach(Ft),Rt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return zt(t,e)}if(0<At.length){zt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&zt(jt,e),null!==Et&&zt(Et,e),null!==Tt&&zt(Tt,e),It.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Bt(n),null===n.blockedOn&&Pt.shift()}var Ht=b.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=xt,a=Ht.transition;Ht.transition=null;try{xt=1,Zt(e,t,n,r)}finally{xt=i,Ht.transition=a}}function Wt(e,t,n,r){var i=xt,a=Ht.transition;Ht.transition=null;try{xt=4,Zt(e,t,n,r)}finally{xt=i,Ht.transition=a}}function Zt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return jt=Dt(jt,e,t,n,r,i),!0;case"dragenter":return Et=Dt(Et,e,t,n,r,i),!0;case"mouseover":return Tt=Dt(Tt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return It.set(a,Dt(It.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Dt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var a=xi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Gr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var qt=null;function Yt(e,t,n,r){if(qt=null,null!==(e=vi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,$t=null;function en(){if($t)return $t;var e,t,n=Qt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=B({},cn,{view:0,detail:0}),hn=an(dn),pn=B({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),mn=an(pn),fn=an(B({},pn,{dataTransfer:0})),gn=an(B({},dn,{relatedTarget:0})),yn=an(B({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=B({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(vn),bn=an(B({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function _n(){return Nn}var Cn=B({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Cn),jn=an(B({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=an(B({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Tn=an(B({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=B({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(In),Pn=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Dn=u&&"TextEvent"in window&&!Ln,Bn=u&&(!Mn||Ln&&8<Ln&&11>=Ln),On=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Zn=null;function qn(e){Or(e,0)}function Yn(e){if(Z(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Qn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Qn=$n}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Zn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Zn)){var t=[];Kn(t,Zn,e,we(e)),Ie(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Zn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Nr={};function _r(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return Sr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=_r("animationend"),Ar=_r("animationiteration"),jr=_r("animationstart"),Er=_r("transitionend"),Tr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Tr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ir.length;Pr++){var Mr=Ir[Pr];Rr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Ar,"onAnimationIteration"),Rr(jr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Er,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(ze.apply(this,arguments),De){if(!De)throw Error(a(198));var u=Be;De=!1,Be=null,Oe||(Oe=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Br(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Br(i,s,c),a=l}}}if(Oe)throw e=Fe,Oe=!1,Fe=null,e}function Fr(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[zr]){e[zr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=vi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Ie(function(){var r=a,i=we(n),o=[];e:{var s=Tr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Cr:case Ar:case jr:l=yn;break;case Er:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,m=r;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Re(m,h))&&u.push(Kr(m,f,p)))),d)break;m=m.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[mi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=jn,f="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?s:bi(l),p=null==c?s:bi(c),(s=new u(f,m+"leave",l,n,i)).target=d,s.relatedTarget=p,f=null,vi(i)===r&&((u=new u(h,m+"enter",c,n,i)).target=p,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,m=0,p=u=l;p;p=Zr(p))m++;for(p=0,f=h;f;f=Zr(f))p++;for(;0<m-p;)u=Zr(u),m--;for(;0<p-m;)h=Zr(h),p--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Zr(u),h=Zr(h)}u=null}else u=null;null!==l&&qr(o,s,l,u,!1),null!==c&&null!==d&&qr(o,d,c,u,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Gn(s))if(Jn)g=or;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Kn(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Un?Vn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Bn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==x?"onCompositionEnd"===x&&Un&&(v=en()):(Qt="value"in(Jt=i)?Jt.value:Jt.textContent,Un=!0)),0<(y=Wr(r,x)).length&&(x=new bn(x,e,null,n,i),o.push({event:x,listeners:y}),v?x.data=v:null!==(v=zn(n))&&(x.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,On);case"textInput":return(e=t.data)===On&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Mn&&Vn(e,t)?(e=en(),$t=Qt=Jt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Or(o,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Re(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Re(n,a))&&o.unshift(Kr(n,l,s)):i||null!=(l=Re(n,a))&&o.push(Kr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,mi="__reactContainer$"+di,fi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[hi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[pi]||null}var ki=[],Si=-1;function Ni(e){return{current:e}}function _i(e){0>Si||(e.current=ki[Si],ki[Si]=null,Si--)}function Ci(e,t){Si++,ki[Si]=e.current,e.current=t}var Ai={},ji=Ni(Ai),Ei=Ni(!1),Ti=Ai;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){_i(Ei),_i(ji)}function Mi(e,t,n){if(ji.current!==Ai)throw Error(a(168));Ci(ji,t),Ci(Ei,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return B({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ti=ji.current,Ci(ji,e),Ci(Ei,Ei.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,_i(Ei),_i(ji),Ci(ji,e)):_i(Ei),Ci(Ei,n)}var Oi=null,Fi=!1,Vi=!1;function zi(e){null===Oi?Oi=[e]:Oi.push(e)}function Ui(){if(!Vi&&null!==Oi){Vi=!0;var e=0,t=xt;try{var n=Oi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oi=null,Fi=!1}catch(i){throw null!==Oi&&(Oi=Oi.slice(e+1)),Ze($e,Ui),i}finally{xt=t,Vi=!1}}return null}var Hi=[],Gi=0,Ki=null,Wi=0,Zi=[],qi=0,Yi=null,Xi=1,Ji="";function Qi(e,t){Hi[Gi++]=Wi,Hi[Gi++]=Ki,Ki=e,Wi=t}function $i(e,t,n){Zi[qi++]=Xi,Zi[qi++]=Ji,Zi[qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Qi(e,1),$i(e,1,0))}function ta(e){for(;e===Ki;)Ki=Hi[--Gi],Hi[Gi]=null,Wi=Hi[--Gi],Hi[Gi]=null;for(;e===Yi;)Yi=Zi[--qi],Zi[qi]=null,Ji=Zi[--qi],Zi[qi]=null,Xi=Zi[--qi],Zi[qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function pa(){ra=na=null,ia=!1}function ma(e){null===aa?aa=[e]:aa.push(e)}var fa=b.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&va(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case k:return(t=Oc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case R:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);ya(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return m(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);ya(t,r)}return null}function f(i,a,s,l){for(var c=null,u=null,d=a,f=a=0,g=null;null!==d&&f<s.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var y=p(i,d,s[f],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,f),null===u?c=y:u.sibling=y,u=y,d=g}if(f===s.length)return n(i,d),ia&&Qi(i,f),c;if(null===d){for(;f<s.length;f++)null!==(d=h(i,s[f],l))&&(a=o(d,a,f),null===u?c=d:u.sibling=d,u=d);return ia&&Qi(i,f),c}for(d=r(i,d);f<s.length;f++)null!==(g=m(d,i,f,s[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),a=o(g,a,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ia&&Qi(i,f),c}function g(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,f=s,g=s=0,y=null,v=l.next();null!==f&&!v.done;g++,v=l.next()){f.index>g?(y=f,f=null):y=f.sibling;var x=p(i,f,v.value,c);if(null===x){null===f&&(f=y);break}e&&f&&null===x.alternate&&t(i,f),s=o(x,s,g),null===d?u=x:d.sibling=x,d=x,f=y}if(v.done)return n(i,f),ia&&Qi(i,g),u;if(null===f){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return ia&&Qi(i,g),u}for(f=r(i,f);!v.done;g++,v=l.next())null!==(v=m(f,i,g,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&f.forEach(function(e){return t(i,e)}),ia&&Qi(i,g),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&va(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=ga(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((a=Lc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Mc(o.type,o.key,o.props,null,r.mode,l)).ref=ga(r,a,o),l.return=r,r=l)}return s(r);case k:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Oc(o,r.mode,l)).return=r,r=a}return s(r);case R:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return f(r,a,o,l);if(L(o))return g(r,a,o,l);ya(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Bc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var ba=xa(!0),wa=xa(!1),ka=Ni(null),Sa=null,Na=null,_a=null;function Ca(){_a=Na=Sa=null}function Aa(e){var t=ka.current;_i(ka),e._currentValue=t}function ja(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){Sa=e,_a=Na=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===Na){if(null===Sa)throw Error(a(308));Na=e,Sa.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var Ia=null;function Ra(e){null===Ia?Ia=[e]:Ia.push(e)}function Pa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ra(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ma(e,r)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ma(e,n)}return null===(i=r.interleaved)?(t.next=t,Ra(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ma(e,n)}function Va(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;La=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,f=s;switch(h=t,p=n,f.tag){case 1:if("function"===typeof(m=f.payload)){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(p,d,h):m)||void 0===h)break e;d=B({},d,h);break e;case 2:La=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=d}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ga={},Ka=Ni(Ga),Wa=Ni(Ga),Za=Ni(Ga);function qa(e){if(e===Ga)throw Error(a(174));return e}function Ya(e,t){switch(Ci(Za,t),Ci(Wa,e),Ci(Ka,Ga),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Ka),Ci(Ka,t)}function Xa(){_i(Ka),_i(Wa),_i(Za)}function Ja(e){qa(Za.current);var t=qa(Ka.current),n=le(t,e.type);t!==n&&(Ci(Wa,e),Ci(Ka,n))}function Qa(e){Wa.current===e&&(_i(Ka),_i(Wa))}var $a=Ni(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,po=0;function mo(){throw Error(a(321))}function fo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?$o:es,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(uo)}if(ro.current=Qo,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,co=!1,t)throw Error(a(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function xo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((ao&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,oo.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Dl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function No(e,t){var n=oo,r=xo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,xs=!0),r=r.queue,Do(Ao.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Io(9,Co.bind(null,n,r,i,t),void 0,null),null===El)throw Error(a(349));0!==(30&ao)||_o(n,t,i)}return i}function _o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Eo(e)}function Ao(e,t,n){return n(function(){jo(t)&&Eo(e)})}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Eo(e){var t=Ma(e,1);null!==t&&nc(t,e,1,-1)}function To(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=qo.bind(null,oo,e),[t.memoizedState,e]}function Io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return xo().memoizedState}function Po(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=Io(1|t,n,void 0,void 0===r?null:r)}function Mo(e,t,n,r){var i=xo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&fo(r,o.deps))return void(i.memoizedState=Io(t,n,a,r))}oo.flags|=e,i.memoizedState=Io(1|t,n,a,r)}function Lo(e,t){return Po(8390656,8,e,t)}function Do(e,t){return Mo(2048,8,e,t)}function Bo(e,t){return Mo(4,2,e,t)}function Oo(e,t){return Mo(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4,4,Fo.bind(null,t,e),n)}function zo(){}function Uo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=ft(),oo.lanes|=n,Dl|=n,e.baseState=!0),t)}function Ko(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{xt=n,io.transition=r}}function Wo(){return xo().memoizedState}function Zo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Xo(t,n);else if(null!==(n=Pa(e,t,n,r))){nc(n,e,r,ec()),Jo(n,t,r)}}function qo(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Xo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ra(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Pa(e,t,i,r))&&(nc(n,e,r,i=ec()),Jo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qo={readContext:Ta,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},$o={readContext:Ta,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:To,useDebugValue:zo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=To(!1),t=e[0];return e=Ko.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===El)throw Error(a(349));0!==(30&ao)||_o(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Ao.bind(null,r,o,e),[e]),r.flags|=2048,Io(9,Co.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=El.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ta,useCallback:Uo,useContext:Ta,useEffect:Do,useImperativeHandle:Vo,useInsertionEffect:Bo,useLayoutEffect:Oo,useMemo:Ho,useReducer:wo,useRef:Ro,useState:function(){return wo(bo)},useDebugValue:zo,useDeferredValue:function(e){return Go(xo(),so.memoizedState,e)},useTransition:function(){return[wo(bo)[0],xo().memoizedState]},useMutableSource:So,useSyncExternalStore:No,useId:Wo,unstable_isNewReconciler:!1},ts={readContext:Ta,useCallback:Uo,useContext:Ta,useEffect:Do,useImperativeHandle:Vo,useInsertionEffect:Bo,useLayoutEffect:Oo,useMemo:Ho,useReducer:ko,useRef:Ro,useState:function(){return ko(bo)},useDebugValue:zo,useDeferredValue:function(e){var t=xo();return null===so?t.memoizedState=e:Go(t,so.memoizedState,e)},useTransition:function(){return[ko(bo)[0],xo().memoizedState]},useMutableSource:So,useSyncExternalStore:No,useId:Wo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(nc(t,e,i,r),Va(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(nc(t,e,i,r),Va(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fa(e,i,r))&&(nc(t,e,r,n),Va(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function os(e,t,n){var r=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Ri(t)?Ti:ji.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Ai),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Ri(t)?Ti:ji.current,i.context=Ii(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Kl=r),ds(0,t)},n}function ms(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=b.ReactCurrentOwner,xs=!1;function bs(e,t,n,r){t.child=null===e?wa(t,null,n,r):ba(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=go(e,t,n,r,a,i),n=yo(),null===e||xs?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Cs(e,t,n,r,i)}function Ns(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Pl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Pl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Pl,Rl),Rl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Pl,Rl),Rl|=r;return bs(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Ri(n)?Ti:ji.current;return a=Ii(t,a),Ea(t,i),n=go(e,t,n,r,a,i),r=yo(),null===e||xs?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function As(e,t,n,r,i){if(Ri(n)){var a=!0;Di(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Hs(e,t),os(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Ii(t,c=Ri(n)?Ti:ji.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),La=!1;var h=t.memoizedState;o.state=h,Ua(t,r,o,i),l=t.memoizedState,s!==r||h!==l||Ei.current||La?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=La||as(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ba(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ta(l):l=Ii(t,l=Ri(n)?Ti:ji.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),La=!1,h=t.memoizedState,o.state=h,Ua(t,r,o,i);var m=t.memoizedState;s!==d||h!==m||Ei.current||La?("function"===typeof p&&(rs(t,n,p,r),m=t.memoizedState),(c=La||as(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,m,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return js(e,t,n,r,a,i)}function js(e,t,n,r,i,a){_s(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Bi(t,n,!1),Gs(e,t,a);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Ya(e,t.containerInfo)}function Ts(e,t,n,r,i){return pa(),ma(i),t.flags|=256,bs(e,t,n,r),t.child}var Is,Rs,Ps,Ms,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,i=t.pendingProps,o=$a.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci($a,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Dc(l,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ls,e):Os(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ba(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=us(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=El)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ma(e,i),nc(r,e,i,-1))}return fc(),Fs(e,t,s,r=us(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Zi[qi++]=Xi,Zi[qi++]=Ji,Zi[qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Os(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Lc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Os(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&ma(r),ba(t,e.child,null,n),(e=Os(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ja(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=$a.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci($a,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Ws(t),null;case 3:return r=t.stateNode,Xa(),_i(Ei),_i(ji),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Rs(e,t),Ws(t),null;case 5:Qa(t);var i=qa(Za.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=qa(Ka.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Is(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=qa(Za.current),qa(Ka.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(_i($a),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$a.current)?0===Ml&&(Ml=3):fc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Xa(),Rs(e,t),null===e&&Ur(t.stateNode.containerInfo),Ws(t),null;case 10:return Aa(t.type._context),Ws(t),null;case 19:if(_i($a),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ks(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci($a,1&$a.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Ul&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Ws(t),null}else 2*Je()-o.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=$a.current,Ci($a,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function qs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),_i(Ei),_i(ji),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qa(t),null;case 13:if(_i($a),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i($a),null;case 4:return Xa(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,qa(Ka.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[fi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||$s(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Xs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Nc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hl(e,t,n),Xs=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach(function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));pl(o,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Nc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Nc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:fl(t,e),yl(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(fl(t,e),yl(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Nc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),xe(l,s);var u=xe(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):x(i,d,h,u)}switch(l){case"input":Q(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;null!=m?ne(i,!!o.multiple,m,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(g){Nc(e,e.return,g)}}break;case 6:if(fl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Nc(e,e.return,g)}}break;case 3:if(fl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:fl(t,e),yl(e);break;case 13:fl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,fl(t,e),Xs=u):fl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(h=Qs=d;null!==Qs;){switch(m=(p=Qs).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:$s(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){r=p,n=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Nc(r,n,g)}}break;case 5:$s(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==m?(m.return=p,Qs=m):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",s))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Nc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qs=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=o,(Xs=l)&&!c)for(Qs=i;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?kl(i):null!==l?(l.return=o,Qs=l):kl(i);for(;null!==a;)Qs=a,xl(a,t,n),a=a.sibling;Qs=i,Ys=s,Xs=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qs=a):bl(e)}}function bl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ha(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&il(t)}catch(p){Nc(t,t.return,p)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function kl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Nc(t,i,l)}}var a=t.return;try{il(t)}catch(l){Nc(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Nc(t,o,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,Nl=Math.ceil,_l=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,Al=b.ReactCurrentBatchConfig,jl=0,El=null,Tl=null,Il=0,Rl=0,Pl=Ni(0),Ml=0,Ll=null,Dl=0,Bl=0,Ol=0,Fl=null,Vl=null,zl=0,Ul=1/0,Hl=null,Gl=!1,Kl=null,Wl=null,Zl=!1,ql=null,Yl=0,Xl=0,Jl=null,Ql=-1,$l=0;function ec(){return 0!==(6&jl)?Je():-1!==Ql?Ql:Ql=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==Il?Il&-Il:null!==fa.transition?(0===$l&&($l=ft()),$l):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(a(185));yt(e,n,r),0!==(2&jl)&&e===El||(e===El&&(0===(2&jl)&&(Bl|=n),4===Ml&&sc(e,Il)),rc(e,r),1===n&&0===jl&&0===(1&t.mode)&&(Ul=Je()+500,Fi&&Ui()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===El?Il:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),oi(function(){0===(6&jl)&&Ui()}),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ec(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ql=-1,$l=0,0!==(6&jl))throw Error(a(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===El?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=jl;jl|=2;var o=mc();for(El===e&&Il===t||(Hl=null,Ul=Je()+500,hc(e,t));;)try{vc();break}catch(l){pc(e,l)}Ca(),_l.current=o,jl=i,null!==Tl?t=0:(El=null,Il=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,hc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=mt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ll,hc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vl,Hl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vl,Hl),t);break}wc(e,Vl,Hl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vl,Hl),r);break}wc(e,Vl,Hl);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&oc(t)),e}function oc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function sc(e,t){for(t&=~Ol,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&jl))throw Error(a(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,hc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vl,Hl),rc(e,Je()),null}function cc(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(Ul=Je()+500,Fi&&Ui())}}function uc(e){null!==ql&&0===ql.tag&&0===(6&jl)&&kc();var t=jl;jl|=1;var n=Al.transition,r=xt;try{if(Al.transition=null,xt=1,e)return e()}finally{xt=r,Al.transition=n,0===(6&(jl=t))&&Ui()}}function dc(){Rl=Pl.current,_i(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Xa(),_i(Ei),_i(ji),no();break;case 5:Qa(r);break;case 4:Xa();break;case 13:case 19:_i($a);break;case 10:Aa(r.type._context);break;case 22:case 23:dc()}n=n.return}if(El=e,Tl=e=Pc(e.current,null),Il=Rl=t,Ml=0,Ll=null,Ol=Bl=Dl=0,Vl=Fl=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Tl;try{if(Ca(),ro.current=Qo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(ao=0,lo=so=oo=null,uo=!1,ho=0,Cl.current=null,null===n||null===n.return){Ml=1,Ll=t,Tl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gs(s);if(null!==m){m.flags&=-257,ys(m,s,l,0,t),1&m.mode&&fs(o,u,t),c=u;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fs(o,u,t),fc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),ma(cs(c,l));break e}}o=c=cs(c,l),4!==Ml&&(Ml=2),null===Fl?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,za(o,ps(0,c,t));break e;case 1:l=c;var v=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Wl||!Wl.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,za(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function mc(){var e=_l.current;return _l.current=Qo,null===e?Qo:e}function fc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===El||0===(268435455&Dl)&&0===(268435455&Bl)||sc(El,Il)}function gc(e,t){var n=jl;jl|=2;var r=mc();for(El===e&&Il===t||(Hl=null,hc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Ca(),jl=n,_l.current=r,null!==Tl)throw Error(a(261));return El=null,Il=0,Ml}function yc(){for(;null!==Tl;)xc(Tl)}function vc(){for(;null!==Tl&&!Ye();)xc(Tl)}function xc(e){var t=Sl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bc(e):Tl=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zs(n,t,Rl)))return void(Tl=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ml=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ml&&(Ml=5)}function wc(e,t,n){var r=xt,i=Al.transition;try{Al.transition=null,xt=1,function(e,t,n,r){do{kc()}while(null!==ql);if(0!==(6&jl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===El&&(Tl=El=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zl||(Zl=!0,Ec(tt,function(){return kc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Al.transition,Al.transition=null;var s=xt;xt=1;var l=jl;jl|=4,Cl.current=null,function(e,t){if(ei=Gt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=s),p===o&&++d===r&&(c=s),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,y=f.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}f=tl,tl=!1}(e,n),gl(n,e),mr(ti),Gt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Xe(),jl=l,xt=s,Al.transition=o}else e.current=n;if(Zl&&(Zl=!1,ql=e,Yl=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Kl,Kl=null,e;0!==(1&Yl)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Ui()}(e,t,n,r)}finally{Al.transition=i,xt=r}return null}function kc(){if(null!==ql){var e=bt(Yl),t=Al.transition,n=xt;try{if(Al.transition=null,xt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Yl=0,0!==(6&jl))throw Error(a(331));var i=jl;for(jl|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var p=(d=Qs).sibling,m=d.return;if(al(d),d===u){Qs=null;break}if(null!==p){p.return=m,Qs=p;break}Qs=m}}}var f=o.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Qs=v;break e}Qs=o.return}}var x=e.current;for(Qs=x;null!==Qs;){var b=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Qs=b;else e:for(s=x;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Nc(l,l.return,k)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(jl=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{xt=n,Al.transition=t}}return!1}function Sc(e,t,n){e=Fa(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Nc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Fa(t,e=ms(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Il&n)===n&&(4===Ml||3===Ml&&(130023424&Il)===Il&&500>Je()-zl?hc(e,0):Ol|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ma(e,t))&&(yt(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function jc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Ec(e,t){return Ze(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Tc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lc(n.children,i,o,t);case N:s=8,i|=8;break;case _:return(e=Ic(12,n,t,2|i)).elementType=_,e.lanes=o,e;case E:return(e=Ic(13,n,t,i)).elementType=E,e.lanes=o,e;case T:return(e=Ic(19,n,t,i)).elementType=T,e.lanes=o,e;case P:return Dc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case A:s=9;break e;case j:s=11;break e;case I:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ic(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Oc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,l){return e=new Fc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ic(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function zc(e){if(!e)return Ai;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Uc(e,t,n,r,i,a,o,s,l){return(e=Vc(n,r,!0,e,0,a,0,s,l)).context=zc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fa(i,t,o))&&(nc(e,i,o,a),Va(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Es(t),pa();break;case 5:Ja(t);break;case 1:Ri(t.type)&&Di(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ka,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci($a,1&$a.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(Ci($a,1&$a.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ci($a,1&$a.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci($a,$a.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n)}return Gs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ii(t,ji.current);Ea(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=js(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===I)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Es(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ba(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ts(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ts(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Gs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),_s(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Bs(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ba(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(ka,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ei.current){t=Gs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ja(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ja(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ta(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),ks(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Hs(e,t),t.tag=1,Ri(r)?(e=!0,Di(t)):e=!1,Ea(t,n),os(t,r,i),ls(t,r,i,n),js(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Ns(e,t,n)}throw Error(a(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function $c(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=Uc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[mi]=o.current,Ur(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gc(l);s.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[mi]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Yc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[mi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Bt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&jl)&&(Ul=Je()+500,Ui()))}break;case 13:uc(function(){var t=Ma(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},kt=function(e){if(13===e.tag){var t=Ma(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ma(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},Nt=function(){return xt},_t=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},ke=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));Z(r),Q(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=cc,Ee=uc;var eu={usingClientEntryPoint:!1,Events:[xi,bi,wi,Ce,Ae,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,o,s),e[mi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},836:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAFz0lEQVR4AezZK5QsNRAG4DkoJBKJRCKRSCQSiUQikUgkEolEIpFIJBKJRCKR5Ju7WWprqpN+rrjn7umaVCr1+pNKOjP73u0t/3sH8OACf9jsP2n0WaMvEpF93GR0WnPNc8UKftRSBebb1n7dCA8MoJHIvmzjdL5pLT22jT3vOROg5CX6VUsP/35r1z4fNEU2bPnAN9Hx5wyAZl1SVkCiR7Pigy8++T7k7yjAz1t0sy6pxp768Mm3Ut7teC9A5Sf4p4PI/7axPxr90ujHRt83+u6J8GTG6PzT5EsPgGKJuaSzKN8DUCABl8rnrxbt50Y/NOoA/m48wK25P3gy4Oh03SWgYokp9t3B2o89AAWqjnZJ/9oC/9Toz0b6rVn9ADsCKqbYm0BuBWjPCZSzthpK7vc8sKMPqEmqVlNsJbva7RaAju5qz40SWp1IUgTOhKmENHSTgwtClpf9tQCdaNXMWTl7aGs5lskkIZ/2shhp6OY1sqpU1wIEDshb+DPLEgiiS9iqXIGzktOAawACpjyzMwcKkFme+05AM+7F3V8TrmeuaWtKzUqqkuwXQECz/EV/DUAJvjBqHfuu2h9t6PlhB4iTzwSZqD7osAAOSMDjWNeJrVcPijLggIyyB34NQOWZDX/LgtQHCDBA0tBDFzgg2TwMBkEVc2ZzmwGUoARCnJuZHJWmlVGSt41/bKz6kpm4KI7LTY5R9oKfAXwZ8I2p8nzDPX4K6F35OHK72UvKWpJLE6RklV5lT8ZeG6nK8Xl8D0AJPjtIjJIBMooBcyC5fzp1nYpuLGRRDw/caF9VAA+tYJXs0uxLEEBtJECqGw4ZwFEXPwIotgmj1+lUgNVLNwbKE2LGRyVtPFeEVcx+egwtkNpO9Dv/0M5KNBvn2YsOs66xnDxZJiCzbLQqGeBoMqanaA48AlgFGul335VONVkj/T720M5WMBuMAueZZVuBJo9U6VS+uk2l38ce2hnAHGjkvNqf1aGTk6h0Kl/dLk9yzrHr3dsZwFw+I4B0856jv/RelIBbEh18Jz746v3cZv1DAAWLAcze6ACoTkzHvhd4fyHzgXeVAzD6x1c+yJHY7PGdRqs9PWQqY8l157mVXJ4UOq5vAPk24QdhfOVHPD7YVLRkU+neZbMSXUr2brzw4avNsGwW7NhUL/6obqJiH1/lSH6nGUBBswOzqFTuDooPNq5j2mK4FNGd2dh7YkcHVpxtlL3gZwApZ4Bk1UySdxLUfdNXHHyX59ZhQsfvLyM9dtV+dd0ztkhrAFZOHBx5s1dBJA+o0uPH/kJ4MmN0AK3su8zqVa+TavK7zb1dA1BwSd0Nnj6Aq2b0afihcR1z6bY/EZ6M7wflQlDFktNs1aenaI/FWed7axXNbO9f1YpRrZ6Vn8Zcs4KcKIUKpG/hxq+kKoZcpqsnqbUA6ZqxXFJONStpPNMZfb7FyL7kkmVlfwtAM+ZwyI7sD2WU5Uf7fFbXPODkssr/FoAccu7dg+/kwHEz0XbZ0ZYvPrMfwOSQ5Yv9rQA5cgpqI5ntaq9EnS08X3xmG5eBLBv29wC0go757NjLX7lm+dY+H3xlOytnBbN82N8DkEN70UmGjyQ5FGVbeLYo24gFYJZP+3sBcmwVqxmVoNOPzhZiwzbbiCFWlq/qHwHolWFPSCAHc/pVL+es1/t02fR+b/kWQ6wu29QeASiQBNwpqwQcFNWKsItEh26U4fkETgz9XXQUoKAOHYlISD+S5FGURd4YijI8X3weAsfRGQD5mYGsyo9sBI5Pvg/RWQAlISGzbvb1IzlA/K/Qu62/xMmiDp4tH3zpH6YzAUpGYhKsSsuvAG4ngFb3y9PBSehsgHyOQFpBRC+SCfGtnm2UH+avACgpCVvJNQnTocuG7al0FUBJStiquPXoV2SMDt1q/LDsSoA9ObcQ1Pta+40M6V9GrwFQ8lbKD0xWSklaNTJjl9JrAQQCOCCBw5P9TxdxrwnwIghjt/8BAAD//yZk9F4AAAAGSURBVAMAOCwYgN0JH90AAAAASUVORK5CYII="},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},993:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/AutomaticLogo.fae40ab9dc540ec388f6.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>Wn,Encoder:()=>Gn,PacketType:()=>Hn,protocol:()=>Un});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>ai,hasStandardBrowserEnv:()=>si,hasStandardBrowserWebWorkerEnv:()=>li,navigator:()=>oi,origin:()=>ci});var r=n(43);function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=["sri"],d=["page"],h=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var g="popstate";function y(){return N(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return w("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:k(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(nl){}}}function b(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function N(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",l=null,u=d();function d(){return(o.state||{idx:null}).idx}function h(){s="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:s,location:m.location,delta:t})}function p(e){return _(e)}null==u&&(u=0,o.replaceState(c(c({},o.state),{},{idx:u}),""));let m={get action(){return s},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(g,h),l=e,()=>{i.removeEventListener(g,h),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=w(m.location,e,t);n&&n(r,e),u=d()+1;let c=b(r,u),h=m.createHref(r);try{o.pushState(c,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}a&&l&&l({action:s,location:m.location,delta:1})},replace:function(e,t){s="REPLACE";let r=w(m.location,e,t);n&&n(r,e),u=d();let i=b(r,u),c=m.createHref(r);o.replaceState(i,"",c),a&&l&&l({action:s,location:m.location,delta:0})},go:e=>o.go(e)};return m}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),v(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:k(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function C(e,t){return A(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function A(e,t,n,r){let i=U(("string"===typeof t?S(t):t).pathname||"/",n);if(null==i)return null;let a=j(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=z(i);o=O(a[s],e,r)}return o}function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;v(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=X([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),j(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:B(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of E(e.path))a(e,t,!0,r);else a(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=E(r.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var T=/^:[\w-]+$/,I=3,R=2,P=1,M=10,L=-2,D=e=>"*"===e;function B(e,t){let n=e.split("/"),r=n.length;return n.some(D)&&(r+=L),t&&(r+=R),n.filter(e=>!D(e)).reduce((e,t)=>e+(T.test(t)?I:""===t?P:M),r)}function O(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:X([a,u.pathname]),pathnameBase:J(X([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=X([a,u.pathnameBase]))}return o}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=V(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function V(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function z(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return x(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var H=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G=e=>H.test(e);function K(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function W(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Z(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function q(e){let t=Z(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Y(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=S(e):(r=c({},e),v(!r.pathname||!r.pathname.includes("?"),W("?","pathname","search",r)),v(!r.pathname||!r.pathname.includes("#"),W("#","pathname","hash",r)),v(!r.search||!r.search.includes("#"),W("#","search","hash",r)));let a,o=""===e||""===r.pathname,s=o?"/":r.pathname;if(null==s)a=n;else{let e=t.length-1;if(!i&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:i="",hash:a=""}="string"===typeof e?S(e):e;if(r)if(G(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),x(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?K(r.substring(1),"/"):K(r,n)}else t=n;return{pathname:t,search:Q(i),hash:$(a)}}(r,a),u=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var X=e=>e.join("/").replace(/\/\/+/g,"/"),J=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var te=["POST","PUT","PATCH","DELETE"],ne=(new Set(te),["GET",...te]);new Set(ne),Symbol("ResetLoaderData");var re=r.createContext(null);re.displayName="DataRouter";var ie=r.createContext(null);ie.displayName="DataRouterState";var ae=r.createContext(!1);var oe=r.createContext({isTransitioning:!1});oe.displayName="ViewTransition";var se=r.createContext(new Map);se.displayName="Fetchers";var le=r.createContext(null);le.displayName="Await";var ce=r.createContext(null);ce.displayName="Navigation";var ue=r.createContext(null);ue.displayName="Location";var de=r.createContext({outlet:null,matches:[],isDataRoute:!1});de.displayName="Route";var he=r.createContext(null);he.displayName="RouteError";function pe(){return null!=r.useContext(ue)}function me(){return v(pe(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ue).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ge(e){r.useContext(ce).static||r.useLayoutEffect(e)}function ye(){let{isDataRoute:e}=r.useContext(de);return e?function(){let{router:e}=Ae("useNavigate"),t=Ee("useNavigate"),n=r.useRef(!1);ge(()=>{n.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(n.current,fe),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,c({fromRouteId:t},i)))},[e,t]);return i}():function(){v(pe(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(re),{basename:t,navigator:n}=r.useContext(ce),{matches:i}=r.useContext(de),{pathname:a}=me(),o=JSON.stringify(q(i)),s=r.useRef(!1);ge(()=>{s.current=!0});let l=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(s.current,fe),!s.current)return;if("number"===typeof r)return void n.go(r);let l=Y(r,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:X([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,o,a,e]);return l}()}r.createContext(null);function ve(){let{matches:e}=r.useContext(de),t=e[e.length-1];return t?t.params:{}}function xe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(de),{pathname:i}=me(),a=JSON.stringify(q(n));return r.useMemo(()=>Y(e,JSON.parse(a),i,"path"===t),[e,a,i,t])}function be(e,t,n,i,a){v(pe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=r.useContext(ce),{matches:s}=r.useContext(de),l=s[s.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";Re(d,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,f=me();if(t){var g;let e="string"===typeof t?S(t):t;v("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=f;let y=m.pathname||"/",b=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=C(e,{pathname:b});x(p||null!=w,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),x(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=_e(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:X([h,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:X([h,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,n,i,a);return t&&k?r.createElement(ue.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},k):k}function we(){let e=Te(),t=ee(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:o},"ErrorBoundary")," or"," ",r.createElement("code",{style:o},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,s)}var ke=r.createElement(we,null),Se=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(de.Provider,{value:this.props.routeContext},r.createElement(he.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ne(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext(re);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(de.Provider,{value:t},i)}function _e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=a.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,l=-1;if(n)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){s=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}let c=n&&i?(e,t)=>{var r,a;i(e,{location:n.location,params:null!==(r=null===(a=n.matches)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.params)&&void 0!==r?r:{},errorInfo:t})}:void 0;return a.reduceRight((e,i,u)=>{let d,h=!1,p=null,m=null;n&&(d=o&&i.route.id?o[i.route.id]:void 0,p=i.route.errorElement||ke,s&&(l<0&&0===u?(Re("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):l===u&&(h=!0,m=i.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,u+1)),g=()=>{let t;return t=d?p:h?m:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ne,{match:i,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===u)?r.createElement(Se,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0},onError:c}):g()},null)}function Ce(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ae(e){let t=r.useContext(re);return v(t,Ce(e)),t}function je(e){let t=r.useContext(ie);return v(t,Ce(e)),t}function Ee(e){let t=function(e){let t=r.useContext(de);return v(t,Ce(e)),t}(e),n=t.matches[t.matches.length-1];return v(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Te(){var e;let t=r.useContext(he),n=je("useRouteError"),i=Ee("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Ie={};function Re(e,t,n){t||Ie[e]||(Ie[e]=!0,x(!1,n))}var Pe={};function Me(e,t){e||Pe[t]||(Pe[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return be(t,void 0,r,i,n)});function Le(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function De(e){let{basename:t="/",children:n=null,location:i,navigationType:a="POP",navigator:o,static:s=!1}=e;v(!pe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:o,static:s,future:{}}),[l,o,s]);"string"===typeof i&&(i=S(i));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=i,f=r.useMemo(()=>{let e=U(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:m},navigationType:a}},[l,u,d,h,p,m,a]);return x(null!=f,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:r.createElement(ce.Provider,{value:c},r.createElement(ue.Provider,{children:n,value:f}))}function Be(e){let{children:t,location:n}=e;return be(Oe(t),n)}r.Component;function Oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let a=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Oe(e.props.children,a));v(e.type===Le,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Oe(e.props.children,a)),n.push(o)}),n}var Fe="get",Ve="application/x-www-form-urlencoded";function ze(e){return null!=e&&"string"===typeof e.tagName}function Ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}var He=null;var Ge=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ke(e){return null==e||Ge.has(e)?e:(x(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ve,'"')),null)}function We(e,t){let n,r,i,a,o;if(ze(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?U(o,t):null,n=e.getAttribute("method")||Fe,i=Ke(e.getAttribute("enctype"))||Ve,a=new FormData(e)}else if(function(e){return ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?U(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Fe,i=Ke(e.getAttribute("formenctype"))||Ke(o.getAttribute("enctype"))||Ve,a=new FormData(o,e),!function(){if(null===He)try{new FormData(document.createElement("form"),0),He=!1}catch(nl){He=!0}return He}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fe,r=null,i=Ve,o=e}var s;return a&&"text/plain"===i&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ze(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function qe(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===U(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ye(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xe(e){return null!=e&&"string"===typeof e.page}function Je(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Qe(e,t,n,r,i,a){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function $e(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function et(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Xe(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function tt(e,t){return"lazy"===e.mode&&!0===t}function nt(){let e=r.useContext(re);return Ze(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rt(){let e=r.useContext(ie);return Ze(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var it=r.createContext(void 0);function at(){let e=r.useContext(it);return Ze(e,"You must render this element inside a <HydratedRouter> element"),e}function ot(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function st(e,t,n){if(n&&!dt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}it.displayName="FrameworkContext";function lt(e){let{page:t}=e,n=i(e,d),{router:a}=nt(),o=r.useMemo(()=>C(a.routes,t,a.basename),[a.routes,t,a.basename]);return o?r.createElement(ut,c({page:t,matches:o},n)):null}function ct(e){let{manifest:t,routeModules:n}=at(),[i,a]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return et((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ye(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Je).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||a(e)}),()=>{r=!0}},[e,t,n]),i}function ut(e){let{page:t,matches:n}=e,a=i(e,h),o=me(),{manifest:s,routeModules:l}=at(),{basename:u}=nt(),{loaderData:d,matches:p}=rt(),m=r.useMemo(()=>Qe(t,n,p,s,o,"data"),[t,n,p,s,o]),f=r.useMemo(()=>Qe(t,n,p,s,o,"assets"),[t,n,p,s,o]),g=r.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=s.routes[t.route.id];i&&i.hasLoader&&(!m.some(e=>e.route.id===t.route.id)&&t.route.id in d&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=qe(t,u,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[u,d,o,s,m,n,t,l]),y=r.useMemo(()=>$e(f,s),[f,s]),v=ct(f);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},a))),y.map(e=>r.createElement("link",c({key:e,rel:"modulepreload",href:e},a))),v.map(e=>{let{key:t,link:n}=e;return r.createElement("link",c({key:t,nonce:a.nonce},n))}))}var dt=!1;function ht(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:o,routeDiscovery:s,ssr:l}=at(),{router:d,static:h,staticContext:p}=nt(),{matches:m}=rt(),f=r.useContext(ae),g=tt(s,l);o&&(o.didRenderScripts=!0);let y=st(m,null,a);r.useEffect(()=>{0},[]);let v=r.useMemo(()=>{var a;if(f)return null;let o=p?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=h?"".concat(null!==t.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(y.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];Ze(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:o,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,u),a=new Set(t.state.matches.map(e=>e.route.id)),o=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(o.pop();o.length>0;)s.push("/".concat(o.join("/"))),o.pop();s.forEach(e=>{let n=C(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let l=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return c(c({},r),{},{routes:l,sri:!!n||void 0})}(t,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:void 0})),r.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:"module",async:!0})))},[]),x=dt||f?[]:(t.entry.imports.concat($e(y,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof t.sri?t.sri:{};return Me(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),dt||f?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),x.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0})),v)}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function mt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,a=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ee(t))return r.createElement(ft,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return r.createElement(ft,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function ft(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:a,children:o}=e,{routeModules:s}=at();return null!==s.root&&void 0!==t&&t.Layout&&!a?o:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,i?r.createElement(ht,null):null)))}var gt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{gt&&(window.__reactRouterVersion="7.9.6")}catch(nl){}function yt(e){let{basename:t,children:n,window:i}=e,a=r.useRef();null==a.current&&(a.current=y({window:i,v5Compat:!0}));let o=a.current,[s,l]=r.useState({action:o.action,location:o.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>o.listen(c),[o,c]),r.createElement(De,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var vt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=r.forwardRef(function(e,t){let n,{onClick:a,discover:o="render",prefetch:s="none",relative:l,reloadDocument:u,replace:d,state:h,target:m,to:f,preventScrollReset:g,viewTransition:y}=e,b=i(e,p),{basename:w}=r.useContext(ce),S="string"===typeof f&&vt.test(f),N=!1;if("string"===typeof f&&S&&(n=f,gt))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=U(t.pathname,w);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:N=!0}catch(nl){x(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let _=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(pe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ce),{hash:a,pathname:o,search:s}=xe(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:X([n,o])),i.createHref({pathname:l,search:s,hash:a})}(f,{relative:l}),[C,A,j]=function(e,t){let n=r.useContext(it),[i,a]=r.useState(!1),[o,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=r.useRef(null);r.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[i]);let m=()=>{a(!0)},f=()=>{a(!1),s(!1)};return n?"intent"!==e?[o,p,{}]:[o,p,{onFocus:ot(l,m),onBlur:ot(c,f),onMouseEnter:ot(u,m),onMouseLeave:ot(d,f),onTouchStart:ot(h,m)}]:[!1,p,{}]}(s,b),E=function(e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ye(),c=me(),u=xe(e,{relative:o});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:k(c)===k(u);l(e,{replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[c,l,u,n,i,t,e,a,o,s])}(f,{replace:d,state:h,target:m,preventScrollReset:g,relative:l,viewTransition:y});let T=r.createElement("a",c(c(c({},b),j),{},{href:n||_,onClick:N||u?a:function(e){a&&a(e),e.defaultPrevented||E(e)},ref:pt(t,A),target:m,"data-discover":S||"render"!==o?void 0:"true"}));return C&&!S?r.createElement(r.Fragment,null,T,r.createElement(lt,{page:_})):T});xt.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:o="",end:s=!1,style:l,to:u,viewTransition:d,children:h}=e,p=i(e,m),f=xe(u,{relative:p.relative}),g=me(),y=r.useContext(ie),{navigator:x,basename:b}=r.useContext(ce),w=null!=y&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(oe);v(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=kt("useViewTransitionState"),a=xe(e,{relative:t});if(!n.isTransitioning)return!1;let o=U(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=U(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=F(a.pathname,s)||null!=F(a.pathname,o)}(f)&&!0===d,k=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,S=g.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(S=S.toLowerCase(),N=N?N.toLowerCase():null,k=k.toLowerCase()),N&&b&&(N=U(N,b)||N);const _="/"!==k&&k.endsWith("/")?k.length-1:k.length;let C,A=S===k||!s&&S.startsWith(k)&&"/"===S.charAt(_),j=null!=N&&(N===k||!s&&N.startsWith(k)&&"/"===N.charAt(k.length)),E={isActive:A,isPending:j,isTransitioning:w},T=A?n:void 0;C="function"===typeof o?o(E):[o,A?"active":null,j?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof l?l(E):l;return r.createElement(xt,c(c({},p),{},{"aria-current":T,className:C,ref:t,style:I,to:u,viewTransition:d}),"function"===typeof h?h(E):h)}).displayName="NavLink";var bt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:o,reloadDocument:s,replace:l,state:u,method:d=Fe,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:y}=e,x=i(e,f),b=Ct(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ce),i=r.useContext(de);v(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o=c({},xe(e||".",{relative:t})),s=me();if(null==e){o.search=s.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:X([n,o.pathname]));return k(o)}(h,{relative:m}),S="get"===d.toLowerCase()?"get":"post",N="string"===typeof h&&vt.test(h);return r.createElement("form",c(c({ref:t,method:S,action:w,onSubmit:s?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;b(t||e.currentTarget,{fetcherKey:a,method:n,navigate:o,replace:l,state:u,relative:m,preventScrollReset:g,viewTransition:y})}},x),{},{"data-discover":N||"render"!==n?void 0:"true"}))});function wt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function kt(e){let t=r.useContext(re);return v(t,wt(e)),t}function St(e){x("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=r.useRef(Ue(e)),n=r.useRef(!1),i=me(),a=r.useMemo(()=>function(e,t){let n=Ue(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(i.search,n.current?null:t.current),[i.search]),o=ye(),s=r.useCallback((e,t)=>{const r=Ue("function"===typeof e?e(new URLSearchParams(a)):e);n.current=!0,o("?"+r,t)},[o,a]);return[a,s]}bt.displayName="Form";var Nt=0,_t=()=>"__".concat(String(++Nt),"__");function Ct(){let{router:e}=kt("useSubmit"),{basename:t}=r.useContext(ce),n=Ee("useRouteId");return r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:o,encType:s,formData:l,body:c}=We(r,t);if(!1===i.navigate){let t=i.fetcherKey||_t();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}const At=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,a);return a},jt=e=>e;const Et=e=>{const t=(e=>e?At(e):At)(e),n=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt;const n=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},Tt=e=>e?Et(e):Et,It=Object.create(null);It.open="0",It.close="1",It.ping="2",It.pong="3",It.message="4",It.upgrade="5",It.noop="6";const Rt=Object.create(null);Object.keys(It).forEach(e=>{Rt[It[e]]=e});const Pt={type:"error",data:"parser error"},Mt="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Lt="function"===typeof ArrayBuffer,Dt=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Bt=(e,t,n)=>{let{type:r,data:i}=e;return Mt&&i instanceof Blob?t?n(i):Ot(i,n):Lt&&(i instanceof ArrayBuffer||Dt(i))?t?n(i):Ot(new Blob([i]),n):n(It[r]+(i||""))},Ot=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function Ft(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Vt;const zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ut="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)Ut[zt.charCodeAt(n)]=n;const Ht="function"===typeof ArrayBuffer,Gt=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Wt(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Kt(e.substring(1),t)};return Rt[n]?e.length>1?{type:Rt[n],data:e.substring(1)}:{type:Rt[n]}:Pt},Kt=(e,t)=>{if(Ht){const n=(e=>{let t,n,r,i,a,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=Ut[e.charCodeAt(t)],r=Ut[e.charCodeAt(t+1)],i=Ut[e.charCodeAt(t+2)],a=Ut[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&a;return c})(e);return Wt(n,t)}return{base64:!0,data:e}},Wt=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Zt=String.fromCharCode(30);function qt(){return new TransformStream({transform(e,t){!function(e,t){Mt&&e.data instanceof Blob?e.data.arrayBuffer().then(Ft).then(t):Lt&&(e.data instanceof ArrayBuffer||Dt(e.data))?t(Ft(e.data)):Bt(e,!1,e=>{Vt||(Vt=new TextEncoder),t(Vt.encode(e))})}(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let Yt;function Xt(e){return e.reduce((e,t)=>e+t.length,0)}function Jt(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Qt(e){if(e)return function(e){for(var t in Qt.prototype)e[t]=Qt.prototype[t];return e}(e)}Qt.prototype.on=Qt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Qt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Qt.prototype.off=Qt.prototype.removeListener=Qt.prototype.removeAllListeners=Qt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Qt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},Qt.prototype.emitReserved=Qt.prototype.emit,Qt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Qt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const $t="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),en="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function tn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const nn=en.setTimeout,rn=en.clearTimeout;function an(e,t){t.useNativeTimers?(e.setTimeoutFn=nn.bind(en),e.clearTimeoutFn=rn.bind(en)):(e.setTimeoutFn=en.setTimeout.bind(en),e.clearTimeoutFn=en.clearTimeout.bind(en))}function on(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function sn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class ln extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class cn extends Qt{constructor(e){super(),this.writable=!1,an(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new ln(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Gt(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class un extends cn{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Zt),r=[];for(let i=0;i<n.length;i++){const e=Gt(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((e,a)=>{Bt(e,!1,e=>{r[a]=e,++i===n&&t(r.join(Zt))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=sn()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let dn=!1;try{dn="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(kN){}const hn=dn;function pn(){}class mn extends un{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class fn extends Qt{constructor(e,t,n){super(),this.createRequest=e,an(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=tn(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(nl){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(nl){}try{n.setRequestHeader("Accept","*/*")}catch(nl){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(nl){return void this.setTimeoutFn(()=>{this._onError(nl)},0)}"undefined"!==typeof document&&(this._index=fn.requestsCount++,fn.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=pn,e)try{this._xhr.abort()}catch(nl){}"undefined"!==typeof document&&delete fn.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(fn.requestsCount=0,fn.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",gn);else if("function"===typeof addEventListener){addEventListener("onpagehide"in en?"pagehide":"unload",gn,!1)}function gn(){for(let e in fn.requests)fn.requests.hasOwnProperty(e)&&fn.requests[e].abort()}const yn=function(){const e=vn({xdomain:!1});return e&&null!==e.responseType}();function vn(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||hn))return new XMLHttpRequest}catch(nl){}if(!t)try{return new(en[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(nl){}}const xn="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class bn extends cn{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=xn?{}:tn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(kN){return this.emitReserved("error",kN)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Bt(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(nl){}r&&$t(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=sn()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const wn=en.WebSocket||en.MozWebSocket;const kn={websocket:class extends bn{createSocket(e,t,n){return xn?new wn(e,t,n):t?new wn(e,t):new wn(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends cn{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(kN){return this.emitReserved("error",kN)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){Yt||(Yt=new TextDecoder);const n=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,s){for(n.push(o);;){if(0===r){if(Xt(n)<1)break;const e=Jt(n,1);a=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(Xt(n)<2)break;const e=Jt(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Xt(n)<8)break;const e=Jt(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){s.enqueue(Pt);break}i=a*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Xt(n)<i)break;const e=Jt(n,i);s.enqueue(Gt(a?e:Yt.decode(e),t)),r=0}if(0===i||i>e){s.enqueue(Pt);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=qt();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())}).catch(e=>{})};i();const a={type:"open"};this.query.sid&&(a.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&$t(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends mn{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=yn&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new fn(vn,this.uri(),e)}}},Sn=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Nn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function _n(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Sn.exec(e||""),a={},o=14;for(;o--;)a[Nn[o]]=i[o]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,a.query),a}const Cn="function"===typeof addEventListener&&"function"===typeof removeEventListener,An=[];Cn&&addEventListener("offline",()=>{An.forEach(e=>e())},!1);class jn extends Qt{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=_n(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=_n(t.host).host);an(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Cn&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},An.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&jn.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",jn.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=on(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,$t(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(jn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Cn&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=An.indexOf(this._offlineEventListener);-1!==e&&An.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}jn.protocol=4;class En extends jn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;jn.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;jn.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function i(){n||(n=!0,c(),t.close(),t=null)}const a=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function o(){a("transport closed")}function s(){a("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",o),this.off("close",s),this.off("upgrading",l)};t.once("open",r),t.once("error",a),t.once("close",o),this.once("close",s),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class Tn extends En{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>kn[e]).filter(e=>!!e)),super(e,t)}}const In="function"===typeof ArrayBuffer,Rn=Object.prototype.toString,Pn="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Rn.call(Blob),Mn="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Rn.call(File);function Ln(e){return In&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Pn&&e instanceof Blob||Mn&&e instanceof File}function Dn(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Dn(e[t]))return!0;return!1}if(Ln(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Dn(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Dn(e[n]))return!0;return!1}function Bn(e){const t=[],n=e.data,r=e;return r.data=On(n,t),r.attachments=t.length,{packet:r,buffers:t}}function On(e,t){if(!e)return e;if(Ln(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=On(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=On(e[r],t));return n}return e}function Fn(e,t){return e.data=Vn(e.data,t),delete e.attachments,e}function Vn(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Vn(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Vn(e[n],t));return e}const zn=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Un=5;var Hn;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Hn||(Hn={}));class Gn{constructor(e){this.replacer=e}encode(e){return e.type!==Hn.EVENT&&e.type!==Hn.ACK||!Dn(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Hn.EVENT?Hn.BINARY_EVENT:Hn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Hn.BINARY_EVENT&&e.type!==Hn.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Bn(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Kn(e){return"[object Object]"===Object.prototype.toString.call(e)}class Wn extends Qt{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Hn.BINARY_EVENT;n||t.type===Hn.BINARY_ACK?(t.type=n?Hn.EVENT:Hn.ACK,this.reconstructor=new Zn(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Ln(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Hn[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Hn.BINARY_EVENT||n.type===Hn.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Wn.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(nl){return!1}}static isPayloadValid(e,t){switch(e){case Hn.CONNECT:return Kn(t);case Hn.DISCONNECT:return void 0===t;case Hn.CONNECT_ERROR:return"string"===typeof t||Kn(t);case Hn.EVENT:case Hn.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===zn.indexOf(t[0]));case Hn.ACK:case Hn.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Zn{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Fn(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function qn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Yn=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Xn extends Qt{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[qn(e,"open",this.onopen.bind(this)),qn(e,"packet",this.onpacket.bind(this)),qn(e,"error",this.onerror.bind(this)),qn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(Yn.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(a.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const s={type:Hn.EVENT,data:a,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"===typeof a[a.length-1]){const e=this.ids++,t=a.pop();this._registerAckCallback(e,t),s.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},i),o=function(){r.io.clearTimeoutFn(a);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};o.withError=!0,this.acks[e]=o}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];n(null,...a)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Hn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Hn.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Hn.EVENT:case Hn.BINARY_EVENT:this.onevent(e);break;case Hn.ACK:case Hn.BINARY_ACK:this.onack(e);break;case Hn.DISCONNECT:this.ondisconnect();break;case Hn.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t.packet({type:Hn.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Hn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Jn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Jn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Jn.prototype.reset=function(){this.attempts=0},Jn.prototype.setMin=function(e){this.ms=e},Jn.prototype.setMax=function(e){this.max=e},Jn.prototype.setJitter=function(e){this.jitter=e};class Qn extends Qt{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,an(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Jn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Tn(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=qn(t,"open",function(){n.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=qn(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(qn(e,"ping",this.onping.bind(this)),qn(e,"data",this.ondata.bind(this)),qn(e,"error",this.onerror.bind(this)),qn(e,"close",this.onclose.bind(this)),qn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(nl){this.onclose("parse error",nl)}}ondecoded(e){$t(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Xn(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const $n={};function er(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=_n(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,a=n.path,o=$n[i]&&a in $n[i].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?s=new Qn(r,t):($n[i]||($n[i]=new Qn(r,t)),s=$n[i]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}function tr(e,t){return function(){return e.apply(t,arguments)}}Object.assign(er,{Manager:Qn,Socket:Xn,io:er,connect:er});const{toString:nr}=Object.prototype,{getPrototypeOf:rr}=Object,{iterator:ir,toStringTag:ar}=Symbol,or=(e=>t=>{const n=nr.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),sr=e=>(e=e.toLowerCase(),t=>or(t)===e),lr=e=>t=>typeof t===e,{isArray:cr}=Array,ur=lr("undefined");function dr(e){return null!==e&&!ur(e)&&null!==e.constructor&&!ur(e.constructor)&&mr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const hr=sr("ArrayBuffer");const pr=lr("string"),mr=lr("function"),fr=lr("number"),gr=e=>null!==e&&"object"===typeof e,yr=e=>{if("object"!==or(e))return!1;const t=rr(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ar in e)&&!(ir in e)},vr=sr("Date"),xr=sr("File"),br=sr("Blob"),wr=sr("FileList"),kr=sr("URLSearchParams"),[Sr,Nr,_r,Cr]=["ReadableStream","Request","Response","Headers"].map(sr);function Ar(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),cr(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(dr(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let o;for(n=0;n<a;n++)o=r[n],t.call(null,e[o],o,e)}}function jr(e,t){if(dr(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Er="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:n.g,Tr=e=>!ur(e)&&e!==Er;const Ir=(Rr="undefined"!==typeof Uint8Array&&rr(Uint8Array),e=>Rr&&e instanceof Rr);var Rr;const Pr=sr("HTMLFormElement"),Mr=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Lr=sr("RegExp"),Dr=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ar(n,(n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)}),Object.defineProperties(e,r)};const Br=sr("AsyncFunction"),Or=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Er.addEventListener("message",e=>{let{source:t,data:i}=e;t===Er&&i===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Er.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,mr(Er.postMessage)),Fr="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Er):"undefined"!==typeof process&&process.nextTick||Or,Vr={isArray:cr,isArrayBuffer:hr,isBuffer:dr,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||mr(e.append)&&("formdata"===(t=or(e))||"object"===t&&mr(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&hr(e.buffer),t},isString:pr,isNumber:fr,isBoolean:e=>!0===e||!1===e,isObject:gr,isPlainObject:yr,isEmptyObject:e=>{if(!gr(e)||dr(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(nl){return!1}},isReadableStream:Sr,isRequest:Nr,isResponse:_r,isHeaders:Cr,isUndefined:ur,isDate:vr,isFile:xr,isBlob:br,isRegExp:Lr,isFunction:mr,isStream:e=>gr(e)&&mr(e.pipe),isURLSearchParams:kr,isTypedArray:Ir,isFileList:wr,forEach:Ar,merge:function e(){const{caseless:t,skipUndefined:n}=Tr(this)&&this||{},r={},i=(i,a)=>{const o=t&&jr(r,a)||a;yr(r[o])&&yr(i)?r[o]=e(r[o],i):yr(i)?r[o]=e({},i):cr(i)?r[o]=i.slice():n&&ur(i)||(r[o]=i)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Ar(arguments[a],i);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ar(t,(t,r)=>{n&&mr(t)?e[r]=tr(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,o;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&rr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:or,kindOfTest:sr,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(cr(e))return e;let t=e.length;if(!fr(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[ir]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Pr,hasOwnProperty:Mr,hasOwnProp:Mr,reduceDescriptors:Dr,freezeMethods:e=>{Dr(e,(t,n)=>{if(mr(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];mr(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return cr(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:jr,global:Er,isContextDefined:Tr,isSpecCompliantForm:function(e){return!!(e&&mr(e.append)&&"FormData"===e[ar]&&e[ir])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(gr(e)){if(t.indexOf(e)>=0)return;if(dr(e))return e;if(!("toJSON"in e)){t[r]=e;const i=cr(e)?[]:{};return Ar(e,(e,t)=>{const a=n(e,r+1);!ur(a)&&(i[t]=a)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Br,isThenable:e=>e&&(gr(e)||mr(e))&&mr(e.then)&&mr(e.catch),setImmediate:Or,asap:Fr,isIterable:e=>null!=e&&mr(e[ir])};function zr(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Vr.inherits(zr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Vr.toJSONObject(this.config),code:this.code,status:this.status}}});const Ur=zr.prototype,Hr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Hr[e]={value:e}}),Object.defineProperties(zr,Hr),Object.defineProperty(Ur,"isAxiosError",{value:!0}),zr.from=(e,t,n,r,i,a)=>{const o=Object.create(Ur);Vr.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return zr.call(o,s,l,n,r,i),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const Gr=zr;function Kr(e){return Vr.isPlainObject(e)||Vr.isArray(e)}function Wr(e){return Vr.endsWith(e,"[]")?e.slice(0,-2):e}function Zr(e,t,n){return e?e.concat(t).map(function(e,t){return e=Wr(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const qr=Vr.toFlatObject(Vr,{},null,function(e){return/^is[A-Z]/.test(e)});const Yr=function(e,t,n){if(!Vr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Vr.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Vr.isUndefined(t[e])})).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Vr.isSpecCompliantForm(t);if(!Vr.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Vr.isDate(e))return e.toISOString();if(Vr.isBoolean(e))return e.toString();if(!s&&Vr.isBlob(e))throw new Gr("Blob is not supported. Use a Buffer instead.");return Vr.isArrayBuffer(e)||Vr.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(Vr.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Vr.isArray(e)&&function(e){return Vr.isArray(e)&&!e.some(Kr)}(e)||(Vr.isFileList(e)||Vr.endsWith(n,"[]"))&&(s=Vr.toArray(e)))return n=Wr(n),s.forEach(function(e,r){!Vr.isUndefined(e)&&null!==e&&t.append(!0===o?Zr([n],r,a):null===o?n:n+"[]",l(e))}),!1;return!!Kr(e)||(t.append(Zr(i,n,a),l(e)),!1)}const u=[],d=Object.assign(qr,{defaultVisitor:c,convertValue:l,isVisitable:Kr});if(!Vr.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Vr.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Vr.forEach(n,function(n,a){!0===(!(Vr.isUndefined(n)||null===n)&&i.call(t,n,Vr.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])}),u.pop()}}(e),t};function Xr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Jr(e,t){this._pairs=[],e&&Yr(e,this,t)}const Qr=Jr.prototype;Qr.append=function(e,t){this._pairs.push([e,t])},Qr.toString=function(e){const t=e?function(t){return e.call(this,t,Xr)}:Xr;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const $r=Jr;function ei(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ti(e,t,n){if(!t)return e;const r=n&&n.encode||ei;Vr.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(a=i?i(t,n):Vr.isURLSearchParams(t)?t.toString():new $r(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const ni=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Vr.forEach(this.handlers,function(t){null!==t&&e(t)})}},ri={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ii={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:$r,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ai="undefined"!==typeof window&&"undefined"!==typeof document,oi="object"===typeof navigator&&navigator||void 0,si=ai&&(!oi||["ReactNative","NativeScript","NS"].indexOf(oi.product)<0),li="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ci=ai&&window.location.href||"http://localhost",ui=c(c({},t),ii);const di=function(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),s=i>=e.length;if(a=!a&&Vr.isArray(r)?r.length:a,s)return Vr.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o;r[a]&&Vr.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&Vr.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!o}if(Vr.isFormData(e)&&Vr.isFunction(e.entries)){const n={};return Vr.forEachEntry(e,(e,r)=>{t(function(e){return Vr.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const hi={transitional:ri,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Vr.isObject(e);i&&Vr.isHTMLForm(e)&&(e=new FormData(e));if(Vr.isFormData(e))return r?JSON.stringify(di(e)):e;if(Vr.isArrayBuffer(e)||Vr.isBuffer(e)||Vr.isStream(e)||Vr.isFile(e)||Vr.isBlob(e)||Vr.isReadableStream(e))return e;if(Vr.isArrayBufferView(e))return e.buffer;if(Vr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Yr(e,new ui.classes.URLSearchParams,c({visitor:function(e,t,n,r){return ui.isNode&&Vr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Vr.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Yr(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Vr.isString(e))try{return(t||JSON.parse)(e),Vr.trim(e)}catch(nl){if("SyntaxError"!==nl.name)throw nl}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||hi.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Vr.isResponse(e)||Vr.isReadableStream(e))return e;if(e&&Vr.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(nl){if(n){if("SyntaxError"===nl.name)throw Gr.from(nl,Gr.ERR_BAD_RESPONSE,this,null,this.response);throw nl}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ui.classes.FormData,Blob:ui.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Vr.forEach(["delete","get","head","post","put","patch"],e=>{hi.headers[e]={}});const pi=hi,mi=Vr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fi=Symbol("internals");function gi(e){return e&&String(e).trim().toLowerCase()}function yi(e){return!1===e||null==e?e:Vr.isArray(e)?e.map(yi):String(e)}function vi(e,t,n,r,i){return Vr.isFunction(r)?r.call(this,t,n):(i&&(t=n),Vr.isString(t)?Vr.isString(r)?-1!==t.indexOf(r):Vr.isRegExp(r)?r.test(t):void 0:void 0)}class xi{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=gi(t);if(!i)throw new Error("header name must be a non-empty string");const a=Vr.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=yi(e))}const a=(e,t)=>Vr.forEach(e,(e,n)=>i(e,n,t));if(Vr.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Vr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&mi[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Vr.isObject(e)&&Vr.isIterable(e)){let n,r,i={};for(const t of e){if(!Vr.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?Vr.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=gi(e)){const n=Vr.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Vr.isFunction(t))return t.call(this,e,n);if(Vr.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=gi(e)){const n=Vr.findKey(this,e);return!(!n||void 0===this[n]||t&&!vi(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=gi(e)){const i=Vr.findKey(n,e);!i||t&&!vi(0,n[i],i,t)||(delete n[i],r=!0)}}return Vr.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!vi(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Vr.forEach(this,(r,i)=>{const a=Vr.findKey(n,i);if(a)return t[a]=yi(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();o!==i&&delete t[i],t[o]=yi(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Vr.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Vr.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[fi]=this[fi]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=gi(e);t[r]||(!function(e,t){const n=Vr.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return Vr.isArray(e)?e.forEach(r):r(e),this}}xi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Vr.reduceDescriptors(xi.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Vr.freezeMethods(xi);const bi=xi;function wi(e,t){const n=this||pi,r=t||n,i=bi.from(r.headers);let a=r.data;return Vr.forEach(e,function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function ki(e){return!(!e||!e.__CANCEL__)}function Si(e,t,n){Gr.call(this,null==e?"canceled":e,Gr.ERR_CANCELED,t,n),this.name="CanceledError"}Vr.inherits(Si,Gr,{__CANCEL__:!0});const Ni=Si;function _i(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Gr("Request failed with status code "+n.status,[Gr.ERR_BAD_REQUEST,Gr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ci=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[o];i||(i=l),n[a]=s,r[a]=l;let u=o,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const Ai=function(e,t){let n,r,i=0,a=1e3/t;const o=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=a?o(l,e):(n=l,r||(r=setTimeout(()=>{r=null,o(n)},a-t)))},()=>n&&o(n)]},ji=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Ci(50,250);return Ai(n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,s=a-r,l=i(s);r=a;e({loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},Ei=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ti=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vr.asap(()=>e(...n))},Ii=ui.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ui.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ui.origin),ui.navigator&&/(msie|trident)/i.test(ui.navigator.userAgent)):()=>!0,Ri=ui.hasStandardBrowserEnv?{write(e,t,n,r,i,a,o){if("undefined"===typeof document)return;const s=["".concat(e,"=").concat(encodeURIComponent(t))];Vr.isNumber(n)&&s.push("expires=".concat(new Date(n).toUTCString())),Vr.isString(r)&&s.push("path=".concat(r)),Vr.isString(i)&&s.push("domain=".concat(i)),!0===a&&s.push("secure"),Vr.isString(o)&&s.push("SameSite=".concat(o)),document.cookie=s.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function Pi(e,t,n){let r=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Mi=e=>e instanceof bi?c({},e):e;function Li(e,t){t=t||{};const n={};function r(e,t,n,r){return Vr.isPlainObject(e)&&Vr.isPlainObject(t)?Vr.merge.call({caseless:r},e,t):Vr.isPlainObject(t)?Vr.merge({},t):Vr.isArray(t)?t.slice():t}function i(e,t,n,i){return Vr.isUndefined(t)?Vr.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function a(e,t){if(!Vr.isUndefined(t))return r(void 0,t)}function o(e,t){return Vr.isUndefined(t)?Vr.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t,n)=>i(Mi(e),Mi(t),0,!0)};return Vr.forEach(Object.keys(c(c({},e),t)),function(r){const a=l[r]||i,o=a(e[r],t[r],r);Vr.isUndefined(o)&&a!==s||(n[r]=o)}),n}const Di=e=>{const t=Li({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=bi.from(o),t.url=ti(Pi(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Vr.isFormData(n))if(ui.hasStandardBrowserEnv||ui.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Vr.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&o.set(n,r)})}if(ui.hasStandardBrowserEnv&&(r&&Vr.isFunction(r)&&(r=r(t)),r||!1!==r&&Ii(t.url))){const e=i&&a&&Ri.read(a);e&&o.set(i,e)}return t},Bi="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Di(e);let i=r.data;const a=bi.from(r.headers).normalize();let o,s,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function m(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=bi.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());_i(function(e){t(e),m()},function(e){n(e),m()},{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new Gr("Request aborted",Gr.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const r=t&&t.message?t.message:"Network Error",i=new Gr(r,Gr.ERR_NETWORK,e,f);i.event=t||null,n(i),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||ri;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Gr(t,i.clarifyTimeoutError?Gr.ETIMEDOUT:Gr.ECONNABORTED,e,f)),f=null},void 0===i&&a.setContentType(null),"setRequestHeader"in f&&Vr.forEach(a.toJSON(),function(e,t){f.setRequestHeader(t,e)}),Vr.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),d&&"json"!==d&&(f.responseType=r.responseType),p&&([l,u]=ji(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([s,c]=ji(h),f.upload.addEventListener("progress",s),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{f&&(n(!t||t.type?new Ni(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===ui.protocols.indexOf(y)?n(new Gr("Unsupported protocol "+y+":",Gr.ERR_BAD_REQUEST,e)):f.send(i||null)})},Oi=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Gr?t:new Ni(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,i(new Gr("timeout ".concat(t," of ms exceeded"),Gr.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:s}=r;return s.unsubscribe=()=>Vr.asap(o),s}};function Fi(e,t){this.v=e,this.k=t}function Vi(e){return function(){return new zi(e.apply(this,arguments))}}function zi(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,s=o instanceof Fi;Promise.resolve(s?o.v:o).then(function(n){if(s){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}i(a.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(a,o){var s={key:e,arg:i,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,r(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function Ui(e){return new Fi(e,0)}function Hi(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Fi(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Gi(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Ki(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ki(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Ki=function(e){this.s=e,this.n=e.next},Ki.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ki(e)}zi.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},zi.prototype.next=function(e){return this._invoke("next",e)},zi.prototype.throw=function(e){return this._invoke("throw",e)},zi.prototype.return=function(e){return this._invoke("return",e)};const Wi=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Zi=function(){var e=Vi(function*(e,t){var n,r=!1,i=!1;try{for(var a,o=Gi(qi(e));r=!(a=yield Ui(o.next())).done;r=!1){const e=a.value;yield*Hi(Gi(Wi(e,t)))}}catch(kN){i=!0,n=kN}finally{try{r&&null!=o.return&&(yield Ui(o.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),qi=function(){var e=Vi(function*(e){if(e[Symbol.asyncIterator])return void(yield*Hi(Gi(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ui(t.read());if(e)break;yield n}}finally{yield Ui(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Yi=(e,t,n,r)=>{const i=Zi(e,t);let a,o=0,s=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let a=r.byteLength;if(n){let e=o+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(kN){throw s(kN),kN}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},{isFunction:Xi}=Vr,Ji=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(Vr.global),{ReadableStream:Qi,TextEncoder:$i}=Vr.global,ea=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(nl){return!1}},ta=e=>{e=Vr.merge.call({skipUndefined:!0},Ji,e);const{fetch:t,Request:n,Response:r}=e,i=t?Xi(t):"function"===typeof fetch,a=Xi(n),o=Xi(r);if(!i)return!1;const s=i&&Xi(Qi),l=i&&("function"===typeof $i?(u=new $i,e=>u.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var u;const d=a&&s&&ea(()=>{let e=!1;const t=new n(ui.origin,{body:new Qi,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),h=o&&s&&ea(()=>Vr.isReadableStream(new r("").body)),p={stream:h&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Gr("Response type '".concat(e,"' is not supported"),Gr.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const r=Vr.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Vr.isBlob(e))return e.size;if(Vr.isSpecCompliantForm(e)){const t=new n(ui.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Vr.isArrayBufferView(e)||Vr.isArrayBuffer(e)?e.byteLength:(Vr.isURLSearchParams(e)&&(e+=""),Vr.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:i,method:o,data:s,signal:l,cancelToken:u,timeout:f,onDownloadProgress:g,onUploadProgress:y,responseType:v,headers:x,withCredentials:b="same-origin",fetchOptions:w}=Di(e),k=t||fetch;v=v?(v+"").toLowerCase():"text";let S=Oi([l,u&&u.toAbortSignal()],f),N=null;const _=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let C;try{if(y&&d&&"get"!==o&&"head"!==o&&0!==(C=await m(x,s))){let e,t=new n(i,{method:"POST",body:s,duplex:"half"});if(Vr.isFormData(s)&&(e=t.headers.get("content-type"))&&x.setContentType(e),t.body){const[e,n]=Ei(C,ji(Ti(y)));s=Yi(t.body,65536,e,n)}}Vr.isString(b)||(b=b?"include":"omit");const t=a&&"credentials"in n.prototype,l=c(c({},w),{},{signal:S,method:o.toUpperCase(),headers:x.normalize().toJSON(),body:s,duplex:"half",credentials:t?b:void 0});N=a&&new n(i,l);let u=await(a?k(N,w):k(i,l));const f=h&&("stream"===v||"response"===v);if(h&&(g||f&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=u[t]});const t=Vr.toFiniteNumber(u.headers.get("content-length")),[n,i]=g&&Ei(t,ji(Ti(g),!0))||[];u=new r(Yi(u.body,65536,n,()=>{i&&i(),_&&_()}),e)}v=v||"text";let A=await p[Vr.findKey(p,v)||"text"](u,e);return!f&&_&&_(),await new Promise((t,n)=>{_i(t,n,{data:A,headers:bi.from(u.headers),status:u.status,statusText:u.statusText,config:e,request:N})})}catch(kN){if(_&&_(),kN&&"TypeError"===kN.name&&/Load failed|fetch/i.test(kN.message))throw Object.assign(new Gr("Network Error",Gr.ERR_NETWORK,e,N),{cause:kN.cause||kN});throw Gr.from(kN,kN&&kN.code,e,N)}}},na=new Map,ra=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let o,s,l=a.length,c=na;for(;l--;)o=a[l],s=c.get(o),void 0===s&&c.set(o,s=l?new Map:ta(t)),c=s;return s},ia=(ra(),{http:null,xhr:Bi,fetch:{get:ra}});Vr.forEach(ia,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(nl){}Object.defineProperty(e,"adapterName",{value:t})}});const aa=e=>"- ".concat(e),oa=e=>Vr.isFunction(e)||null===e||!1===e;const sa={getAdapter:function(e,t){e=Vr.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let o=0;o<n;o++){let n;if(r=e[o],i=r,!oa(r)&&(i=ia[(n=String(r)).toLowerCase()],void 0===i))throw new Gr("Unknown adapter '".concat(n,"'"));if(i&&(Vr.isFunction(i)||(i=i.get(t))))break;a[n||"#"+o]=i}if(!i){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(aa).join("\n"):" "+aa(e[0]):"as no adapter specified";throw new Gr("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i},adapters:ia};function la(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ni(null,e)}function ca(e){la(e),e.headers=bi.from(e.headers),e.data=wi.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return sa.getAdapter(e.adapter||pi.adapter,e)(e).then(function(t){return la(e),t.data=wi.call(e,e.transformResponse,t),t.headers=bi.from(t.headers),t},function(t){return ki(t)||(la(e),t&&t.response&&(t.response.data=wi.call(e,e.transformResponse,t.response),t.response.headers=bi.from(t.response.headers))),Promise.reject(t)})}const ua="1.13.2",da={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{da[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ha={};da.transitional=function(e,t,n){function r(e,t){return"[Axios v"+ua+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new Gr(r(i," has been removed"+(t?" in "+t:"")),Gr.ERR_DEPRECATED);return t&&!ha[i]&&(ha[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},da.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const pa={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Gr("options must be an object",Gr.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new Gr("option "+a+" must be "+n,Gr.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Gr("Unknown option "+a,Gr.ERR_BAD_OPTION)}},validators:da},ma=pa.validators;class fa{constructor(e){this.defaults=e||{},this.interceptors={request:new ni,response:new ni}}async request(e,t){try{return await this._request(e,t)}catch(kN){if(kN instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{kN.stack?n&&!String(kN.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(kN.stack+="\n"+n):kN.stack=n}catch(nl){}}throw kN}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Li(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&pa.assertOptions(n,{silentJSONParsing:ma.transitional(ma.boolean),forcedJSONParsing:ma.transitional(ma.boolean),clarifyTimeoutError:ma.transitional(ma.boolean)},!1),null!=r&&(Vr.isFunction(r)?t.paramsSerializer={serialize:r}:pa.assertOptions(r,{encode:ma.function,serialize:ma.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),pa.assertOptions(t,{baseUrl:ma.spelling("baseURL"),withXsrfToken:ma.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&Vr.merge(i.common,i[t.method]);i&&Vr.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=bi.concat(a,i);const o=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!s){const e=[ca.bind(this),void 0];for(e.unshift(...o),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=ca.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return ti(Pi((e=Li(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Vr.forEach(["delete","get","head","options"],function(e){fa.prototype[e]=function(t,n){return this.request(Li(n||{},{method:e,url:t,data:(n||{}).data}))}}),Vr.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(Li(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}fa.prototype[e]=t(),fa.prototype[e+"Form"]=t(!0)});const ga=fa;class ya{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new Ni(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ya(function(t){e=t});return{token:t,cancel:e}}}const va=ya;const xa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(xa).forEach(e=>{let[t,n]=e;xa[n]=t});const ba=xa;const wa=function e(t){const n=new ga(t),r=tr(ga.prototype.request,n);return Vr.extend(r,ga.prototype,n,{allOwnKeys:!0}),Vr.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Li(t,n))},r}(pi);wa.Axios=ga,wa.CanceledError=Ni,wa.CancelToken=va,wa.isCancel=ki,wa.VERSION=ua,wa.toFormData=Yr,wa.AxiosError=Gr,wa.Cancel=wa.CanceledError,wa.all=function(e){return Promise.all(e)},wa.spread=function(e){return function(t){return e.apply(null,t)}},wa.isAxiosError=function(e){return Vr.isObject(e)&&!0===e.isAxiosError},wa.mergeConfig=Li,wa.AxiosHeaders=bi,wa.formToJSON=e=>di(Vr.isHTMLForm(e)?new FormData(e):e),wa.getAdapter=sa.getAdapter,wa.HttpStatusCode=ba,wa.default=wa;const ka="http://3.110.122.127:3000",Sa={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_:"C:\\Program Files\\nodejs\\",REACT_APP_API_BASE_URL:"http://3.110.122.127:3000",REACT_APP_API_TIMEOUT:"15000",REACT_APP_FIREBASE_API_KEY:"AIzaSyB_32kh2o6DdBVVvLFFBUdMnTbPWWYp4z8",REACT_APP_FIREBASE_APP_ID:"1:406882720905:web:e7a2a367658a2cf1b03a58",REACT_APP_FIREBASE_AUTH_DOMAIN:"rentongovehicle-7e6c0.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-BC3ZM7VJ9C",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"406882720905",REACT_APP_FIREBASE_PROJECT_ID:"rentongovehicle-7e6c0",REACT_APP_FIREBASE_STORAGE_BUCKET:"rentongovehicle-7e6c0.firebasestorage.app",REACT_APP_USER_ID:"68fe32425c4f3da11dc7d030"}.REACT_APP_SOCKET_URL||"http://3.110.122.127:3000",Na=wa.create({baseURL:ka,timeout:3e4,headers:{"Content-Type":"application/json"}});Na.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),Na.interceptors.response.use(e=>e.data,e=>{var t,n;return console.error("API Error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),Promise.reject((null===(n=e.response)||void 0===n?void 0:n.data)||e)});const _a={createCar:async e=>Na.post("/createCar",e,{headers:{"Content-Type":"multipart/form-data"}}),getCarById:async e=>Na.get("/getCarById/".concat(e)),updateCarById:async(e,t)=>{console.log("\ud83d\ude80 API Service - Update Car Request"),console.log("  Car ID:",e),console.log("  Endpoint:","/updateCar/".concat(e)),console.log("\ud83d\udce6 FormData being sent:");for(const[i,a]of t.entries())a instanceof File?console.log("  ".concat(i,":"),{name:a.name,size:a.size,type:a.type}):console.log("  ".concat(i,":"),a);try{const n=await Na.put("/updateCar/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}});return console.log("\u2705 Update Car Success:",n),n}catch(r){var n;throw console.error("\u274c Update Car Failed:",r),console.error("\u274c Error Details:",null===(n=r.response)||void 0===n?void 0:n.data),r}},deleteCarById:async e=>Na.delete("/deleteCar/".concat(e)),getNearbyCars:async(e,t)=>Na.get("/getNearbyCars",{params:{latitude:e,longitude:t}}),getMyVehicles:async e=>Na.get("/myVehicles/".concat(e))},Ca={createBike:async e=>Na.post("/createBike",e,{headers:{"Content-Type":"multipart/form-data"}}),getBikeById:async e=>Na.get("/getBikeById/".concat(e)),updateBikeById:async(e,t)=>{console.log("\ud83d\ude80 API Service - Update Bike Request"),console.log("  Bike ID:",e),console.log("  Endpoint:","/updateBike/".concat(e)),console.log("\ud83d\udce6 FormData being sent:");for(const[i,a]of t.entries())a instanceof File?console.log("  ".concat(i,":"),{name:a.name,size:a.size,type:a.type}):console.log("  ".concat(i,":"),a);try{const n=await Na.put("/updateBike/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}});return console.log("\u2705 Update Bike Success:",n),n}catch(r){var n;throw console.error("\u274c Update Bike Failed:",r),console.error("\u274c Error Details:",null===(n=r.response)||void 0===n?void 0:n.data),r}},deleteBikeById:async e=>Na.delete("/deleteBike/".concat(e)),getNearbyBikes:async(e,t,n)=>Na.get("/getNearbyBikes",{params:{latitude:e,longitude:t,range:n||5}}),getMyVehicles:async e=>Na.get("/myVehicles/".concat(e))},Aa={createReview:async e=>Na.post("/addReview",e),getReviewsByCarId:async e=>Na.get("/getReviewById/".concat(e)),getReviewsByBikeId:async e=>Na.get("/getReviewById/".concat(e)),updateReviewById:async(e,t)=>Na.put("/updateReview/".concat(e),t),getAverageRating:async(e,t)=>{const n=t.charAt(0).toUpperCase()+t.slice(1);return Na.get("/getAverageRating",{params:{vechileType:n,vechileId:e}})},getUserRating:async(e,t)=>Na.get("/reviews/user/".concat(e,"/vehicle/").concat(t)),deleteReview:async e=>Na.delete("/reviews/".concat(e))},ja={createBooking:async e=>{console.log("\ud83d\udce6 API Service - Input bookingData:",e);const t=e.VechileId?e:{VechileId:e.vehicleId,vechileType:e.vehicleType,userId:e.userId,contactNumber:e.contactNumber||"",contactName:e.contactName||"",latitude:e.latitude||"",longitude:e.longitude||"",FromDate:e.startDate,ToDate:e.endDate,FromTime:e.startTime||"",ToTime:e.endTime||"",totalPrice:String(e.totalPrice),totalHours:e.totalHours||"",pricePerDay:e.pricePerDay||"",pricePerHour:e.pricePerHour||"",pricePerKm:e.pricePerKm||"",carName:e.carName||"",carModel:e.carModel||"",carBrand:e.carBrand||"",CarNumber:e.CarNumber||"",fuelType:e.fuelType||"",transmissionType:e.transmissionType||"",seatingCapacity:e.seatingCapacity||"",pickupAddress:e.pickupLocation||e.pickupAddress||"",dropoffAddress:e.dropoffLocation||e.dropoffAddress||""};console.log("\ud83d\udce6 API Service - Transformed payload:",t);const n=new URLSearchParams;return Object.entries(t).forEach(e=>{let[t,r]=e;null!==r&&void 0!==r&&""!==r&&n.append(t,String(r))}),console.log("\ud83d\udce6 API Service - URL Encoded body:",n.toString()),Na.post("/createBooking",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getAllBookings:async e=>{console.log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"),console.log("\ud83d\udce5 GET ALL BOOKINGS - START"),console.log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"),console.log("User ID:",e);const t="/getAllBookings?userId=".concat(e),n="".concat(ka).concat(t);try{console.log("\ud83c\udfaf Strategy 1: Direct fetch to API"),console.log("URL:",n);const e=await Promise.race([fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}),new Promise((e,t)=>setTimeout(()=>t(new Error("Request timeout")),15e3))]);if(e.ok){const t=await e.json();return console.log("\u2705 Direct fetch Success:",t),t}throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText))}catch(i){console.warn("\u26a0\ufe0f Direct fetch failed:",i.message)}try{console.log("\ud83c\udfaf Strategy 2: Axios GET with credentials");const e=await Na.get(t,{withCredentials:!1,timeout:15e3});return console.log("\u2705 Axios Success:",e),e}catch(a){console.warn("\u26a0\ufe0f Axios failed:",a.message)}const r=["https://api.allorigins.win/get?url="];for(let s=0;s<r.length;s++)try{console.log("\ud83c\udfaf Strategy 3.".concat(s+1,": CORS Proxy ").concat(s+1));const e="".concat(r[s]).concat(encodeURIComponent(n));console.log("Proxied URL:",e);const t=await Promise.race([fetch(e,{method:"GET"}),new Promise((e,t)=>setTimeout(()=>t(new Error("Proxy timeout")),15e3))]);if(!t.ok)throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));const i=await t.json(),a=i.contents?JSON.parse(i.contents):i;return console.log("\u2705 CORS Proxy Success:",a),a}catch(o){console.warn("\u26a0\ufe0f Proxy ".concat(s+1," failed:"),o.message)}throw console.error("\u274c All strategies failed"),new Error("Unable to fetch bookings. Please check your connection and try again.")},getBookingById:async e=>Na.get("/getBookingById/".concat(e)),updateBooking:async(e,t)=>Na.put("/bookings/".concat(e),t),getPendingBookingsOfOwner:async e=>Na.get("/getPendingBookingsOfOwner/".concat(e)),confirmBooking:async e=>Na.post("/confirmBooking/".concat(e,"/conform")),cancelBooking:async e=>Na.post("/confirmBooking/".concat(e,"/Cancelled")),deleteBooking:async e=>Na.delete("/deleteBooking/".concat(e)),getMyListingBookings:async e=>Na.get("/bookings/owner/".concat(e))},Ea={createUnavailability:async e=>{var t;console.log("\ud83d\udeab Create Unavailability - Input data:",e);const n=new URLSearchParams;return e.userId&&n.append("userId",e.userId),n.append("VechileId",e.VechileId),n.append("vechileType",e.vechileType),n.append("fromDate",e.fromDate),n.append("toDate",e.toDate),n.append("fromTime",e.fromTime||"00:00"),n.append("toTime",e.toTime||"23:59"),n.append("isNotAvailable",String(null===(t=e.isNotAvailable)||void 0===t||t)),console.log("\ud83d\udeab Create Unavailability - Encoded Body:",n.toString()),Na.post("/createNotAvailability",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getVehicleAvailability:async(e,t,n,r)=>(console.log("\ud83d\udcc5 Get Vehicle Availability:",{VechileId:e,vechileType:t,startDate:n,endDate:r}),Na.get("/getVehicleAvailability",{params:{VechileId:e,vechileType:t,startDate:n,endDate:r}})),getUnavailabilityById:async e=>(console.log("\ud83d\udcc4 Get Unavailability By ID:",e),Na.get("/getNotAvailabilityById/".concat(e))),updateUnavailability:async(e,t)=>{var n;console.log("\ud83d\udd04 Update Unavailability - Input data:",t);const r=new URLSearchParams;return r.append("VechileId",t.VechileId),r.append("vechileType",t.vechileType),r.append("fromDate",t.fromDate),r.append("toDate",t.toDate),r.append("fromTime",t.fromTime||"00:00"),r.append("toTime",t.toTime||"23:59"),r.append("isNotAvailable",String(null===(n=t.isNotAvailable)||void 0===n||n)),console.log("\ud83d\udd04 Update Unavailability - Encoded Body:",r.toString()),Na.put("/updateNotAvailability/".concat(e),r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},deleteUnavailability:async e=>(console.log("\ud83d\uddd1\ufe0f Delete Unavailability - ID:",e),Na.delete("/deleteNotAvailability/".concat(e)))},Ta={register:async e=>{console.log("\ud83d\udcdd User Register API - Input data:",e);const t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[n,r]=e;null!==r&&void 0!==r&&""!==r&&t.append(n,String(r))}),console.log("\ud83d\udcdd User Register API - URL Encoded:",t.toString()),Na.post("/register",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},getUserProfile:async e=>Na.get("/users/".concat(e)),updateUserProfile:async(e,t)=>Na.put("/updateUser/".concat(e),t)},Ia={getNotifications:async e=>(console.log("\ud83d\udd14 Get Notifications for user:",e),Na.get("/getNotifications/".concat(e))),getUnreadCount:async e=>(console.log("\ud83d\udd14 Get Unread Count for user:",e),Na.get("/getUnreadNotificationsCount/".concat(e))),markAsRead:async e=>(console.log("\ud83d\udd14 Mark notification as read:",e),Na.put("/markNotificationRead/".concat(e))),markAllAsRead:async e=>(console.log("\ud83d\udd14 Mark all notifications as read for user:",e),Na.put("/markAllNotificationsRead/".concat(e))),deleteNotification:async e=>(console.log("\ud83d\udd14 Delete notification:",e),Na.delete("/deleteNotification/".concat(e))),clearAllNotifications:async e=>(console.log("\ud83d\udd14 Clear all notifications for user:",e),Na.delete("/clearAllNotifications/".concat(e)))},Ra={getTicketsByUser:async e=>(console.log("\ud83c\udfab Get Tickets for user:",e),Na.get("/getTicketsByUser/".concat(e))),createTicket:async e=>{console.log("\ud83c\udfab Create Ticket:",e);const t=localStorage.getItem("userId")||"690c9fb0e524c979c76104c9",n=localStorage.getItem("vehicleId")||"690dcd0ce524c979c76122c7",r=localStorage.getItem("bookingId")||"691448d706702f6b9f792c2b",i=e.vehicle||"Car",a=new URLSearchParams;a.append("userId",t),a.append("vehicleType",i),a.append("vehicleId",n),a.append("bookingId",r),a.append("subject",e.issue),a.append("description",e.description);const o=await fetch("".concat(ka,"/createTicket"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a}),s=await o.text();let l;try{l=JSON.parse(s)}catch(c){l={success:!1,message:"Invalid response format"}}if(l.success||o.ok)return l;throw new Error(l.message||"Failed to create ticket")},updateTicket:async(e,t)=>(console.log("\ud83c\udfab Update Ticket:",e,t),Na.put("/updateTicket/".concat(e),t)),deleteTicket:async e=>(console.log("\ud83c\udfab Delete Ticket:",e),Na.delete("/deleteTicket/".concat(e)))};class Pa{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka;this.apiUrl=void 0,this.apiUrl=e}async getMessages(e){try{console.log("\ud83d\udce5 ApiService.getMessages - bookingId:",e);const t=await fetch("".concat(this.apiUrl,"/getMessages/").concat(e),{method:"GET",redirect:"follow"});if(!t.ok)throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));const n=await t.json();return console.log("\u2705 ApiService.getMessages - Response:",n),Array.isArray(n)?n:n.messages||[]}catch(kN){throw console.error("\u274c ApiService.getMessages - Error:",kN),kN}}async sendMessage(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];try{console.log("\ud83d\udce4 ApiService.sendMessage - Params:",{bookingId:e,senderId:t,receiverId:n,message:r,filesCount:i.length});const a=new FormData;a.append("bookingId",e),a.append("senderId",t),a.append("receiverId",n),a.append("message",r),i.forEach(e=>a.append("files",e));const o=await fetch("".concat(this.apiUrl,"/sendMessage"),{method:"POST",body:a,redirect:"follow"});if(!o.ok)throw new Error("HTTP ".concat(o.status,": ").concat(o.statusText));const s=await o.json();if(console.log("\u2705 ApiService.sendMessage - Response:",s),!s.success)throw new Error(s.message||"Failed to send message");return s.message}catch(kN){throw console.error("\u274c ApiService.sendMessage - Error:",kN),kN}}async getMyVehicleBookings(e,t,n){try{console.log("\ud83d\udce5 ApiService.getMyVehicleBookings - Params:",{userId:e,vehicleType:t,vehicleId:n});const r=await fetch("".concat(this.apiUrl,"/myVehicleBookings/").concat(e,"?vechileType=").concat(t,"&VechileId=").concat(n),{method:"GET",redirect:"follow"});if(!r.ok)throw new Error("HTTP ".concat(r.status,": ").concat(r.statusText));const i=await r.json();return console.log("\u2705 ApiService.getMyVehicleBookings - Response:",i),i||[]}catch(kN){throw console.error("\u274c ApiService.getMyVehicleBookings - Error:",kN),kN}}}const Ma=new Pa(ka),La={car:_a,bike:Ca,review:Aa,booking:ja,availability:Ea,user:Ta,notification:Ia,ticket:Ra,chat:Ma,utils:{validateDateFormat:e=>/^\d{4}-\d{2}-\d{2}$/.test(e),validateTimeFormat:e=>/^\d{2}\.\d{2}$/.test(e),extractResponseData:e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.data?e.data.data:null!==e&&void 0!==e&&e.data?e.data:e},formatDateForBackend:e=>"string"===typeof e?e:e.toISOString().split("T")[0],formatTimeForBackend:e=>e.replace(":",".")}};let Da=null;const Ba=Tt((e,t)=>({notifications:[],unreadCount:0,isLoading:!1,error:null,socketConnected:!1,addNotification:n=>{const r=c(c({},n),{},{id:n._id||"".concat(Date.now(),"-").concat(Math.random().toString(36)),timestamp:new Date,read:!1}),i=t().notifications.some(e=>e.id===r.id||e._id===n._id);if(!i){e(e=>({notifications:[r,...e.notifications],unreadCount:e.unreadCount+1})),console.log("\ud83d\udd14 New notification added. Unread count:",t().unreadCount);const i=n.userId||localStorage.getItem("userId");i&&fetch("".concat(ka,"/createNotification"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:i,type:n.type||"general",title:n.title,message:n.message,vehicleId:n.vehicleId,vehicleName:n.vehicleName,bookingId:n.bookingId,requiresFeedback:n.requiresFeedback,feedbackGiven:n.feedbackGiven||!1})}).then(e=>e.ok&&console.log("\ud83d\udd14 Notification saved to backend")).catch(e=>console.log("\ud83d\udd14 Backend save failed:",e.message))}},updateNotificationStatus:(t,n)=>{console.log("\ud83d\udd14 Updating notification status for booking:",t,"to:",n),e(e=>({notifications:e.notifications.map(e=>e.bookingId===t?c(c({},e),{},{bookingStatus:n}):e)}))},markFeedbackGiven:t=>{console.log("\u2705 Marking feedback as given for booking:",t),e(e=>({notifications:e.notifications.map(e=>e.bookingId===t?c(c({},e),{},{feedbackGiven:!0,requiresFeedback:!1}):e)})),fetch("".concat(ka,"/markFeedbackGiven/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"}}).catch(e=>console.log("\ud83d\udd14 Backend sync failed:",e.message))},setNotifications:t=>{const n=t.filter(e=>!e.read).length;e({notifications:t,unreadCount:n}),console.log("\ud83d\udd14 Notifications set. Unread count:",n)},resetUnreadCount:()=>{console.log("\ud83d\udd14 Resetting unread count to 0"),e({unreadCount:0})},fetchNotifications:async n=>{if(n){e({isLoading:!0,error:null});try{console.log("\ud83d\udd14 Fetching notifications for user:",n);const r=await fetch("".concat(ka,"/notifications/").concat(n));if(404===r.status)return console.log("\ud83d\udd14 Notifications API not available, using local only"),void e({isLoading:!1,error:null});if(!r.ok)throw new Error("Failed to fetch notifications");const i=await r.json();console.log("\ud83d\udd14 Raw API Response:",i);let a=[];Array.isArray(i)?a=i:i.notifications?a=i.notifications:i.data&&(a=i.data);const o=a.map(e=>({id:e._id||e.id||Date.now().toString(),_id:e._id,type:e.type||"general",title:e.title||"Notification",message:e.message||e.body||"",timestamp:new Date(e.createdAt||e.timestamp||Date.now()),read:e.read||e.isRead||!1,vehicleId:e.vehicleId||e.VechileId||e.VehicleId||e.vehicle_id,vehicleName:e.vehicleName||e.VehicleName||e.vehicle_name||e.carName||e.CarName||e.bikeName||e.BikeName||e.name||e.model||e.Model,bookingId:e.bookingId||e.booking_id,requiresFeedback:e.requiresFeedback,feedbackGiven:e.feedbackGiven||!1,userId:e.userId,createdAt:e.createdAt,bookingStatus:e.bookingStatus||e.status,customerName:e.customerName||e.customer_name,contactNumber:e.contactNumber||e.contact_number||e.phone,fromDate:e.fromDate||e.from_date||e.startDate,toDate:e.toDate||e.to_date||e.endDate,totalPrice:e.totalPrice||e.total_price||e.price,expiresAt:e.expiresAt||e.expires_at,customerId:e.customerId||e.customer_id})),s=t().notifications,l=new Set(o.map(e=>e._id||e.id)),c=s.filter(e=>!l.has(e._id||e.id)&&!l.has(e.id)),u=[...o,...c];u.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());const d=u.filter(e=>!e.read).length;e({notifications:u,unreadCount:d,isLoading:!1}),console.log("\ud83d\udd14 Loaded",u.length,"notifications,",d,"unread")}catch(r){console.log("\ud83d\udd14 Notifications API error:",r.message),e({isLoading:!1,error:null})}}},markAsRead:async t=>{e(e=>{const n=e.notifications.find(e=>e.id===t||e._id===t);if(n&&!n.read){const n=Math.max(0,e.unreadCount-1);return console.log("\ud83d\udd14 Marking notification as read. New unread count:",n),{notifications:e.notifications.map(e=>e.id===t||e._id===t?c(c({},e),{},{read:!0}):e),unreadCount:n}}return e});try{await fetch("".concat(ka,"/markNotificationRead/").concat(t),{method:"PUT"}),console.log("\ud83d\udd14 Marked notification as read:",t)}catch(n){console.error("\ud83d\udd14 Error marking notification as read:",n)}},markAllAsRead:async t=>{e(e=>(console.log("\ud83d\udd14 Marking all as read. Previous unread:",e.unreadCount),{notifications:e.notifications.map(e=>c(c({},e),{},{read:!0})),unreadCount:0}));try{await fetch("".concat(ka,"/markAllNotificationsRead/").concat(t),{method:"PUT"}),console.log("\ud83d\udd14 Marked all notifications as read")}catch(n){console.error("\ud83d\udd14 Error marking all as read:",n)}},deleteNotification:async t=>{e(e=>{const n=e.notifications.find(e=>e.id===t||e._id===t),r=n&&!n.read?e.unreadCount-1:e.unreadCount;return console.log("\ud83d\udd14 Deleting notification. New unread count:",r),{notifications:e.notifications.filter(e=>e.id!==t&&e._id!==t),unreadCount:Math.max(0,r)}});try{await fetch("".concat(ka,"/deleteNotification/").concat(t),{method:"DELETE"}),console.log("\ud83d\udd14 Deleted notification:",t)}catch(n){console.error("\ud83d\udd14 Error deleting notification:",n)}},clearAllNotifications:async t=>{console.log("\ud83d\udd14 Clearing all notifications"),e({notifications:[],unreadCount:0});try{await fetch("".concat(ka,"/clearAllNotifications/").concat(t),{method:"DELETE"}),console.log("\ud83d\udd14 Cleared all notifications")}catch(n){console.error("\ud83d\udd14 Error clearing all notifications:",n)}},confirmBooking:async(t,n)=>{try{var r;if(!(await fetch("".concat(ka,"/confirmBooking/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to confirm booking");if(console.log("\u2705 Booking confirmed:",n),e(e=>({notifications:e.notifications.map(e=>e.id===t?c(c({},e),{},{bookingStatus:"Confirmed",type:"booking_confirmed",requiresFeedback:!1}):e)})),null!==(r=Da)&&void 0!==r&&r.connected){const e=localStorage.getItem("userId");Da.emit("booking-status-update",{bookingId:n,status:"accepted",ownerId:e})}}catch(i){throw console.error("\u274c Error confirming booking:",i),i}},rejectBooking:async(t,n)=>{try{var r;if(!(await fetch("".concat(ka,"/cancelBooking/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to reject booking");if(console.log("\u274c Booking rejected:",n),e(e=>{const n=e.notifications.find(e=>e.id===t),r=n&&!n.read?Math.max(0,e.unreadCount-1):e.unreadCount;return console.log("\ud83d\udd14 Removing rejected notification. New unread count:",r),{notifications:e.notifications.filter(e=>e.id!==t),unreadCount:r}}),null!==(r=Da)&&void 0!==r&&r.connected){const e=localStorage.getItem("userId");Da.emit("booking-status-update",{bookingId:n,status:"rejected",ownerId:e})}}catch(i){throw console.error("\u274c Error rejecting booking:",i),i}},initializeSocket:n=>{n?(Da&&Da.disconnect(),console.log("\ud83d\udd14 Initializing notification socket for user:",n),Da=er(Sa,{query:{userId:n},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3}),Da.on("connect",()=>{console.log("\ud83d\udd14 Notification socket connected"),e({socketConnected:!0}),t().fetchNotifications(n)}),Da.on("disconnect",()=>{console.log("\ud83d\udd14 Notification socket disconnected"),e({socketConnected:!1})}),Da.on("new-notification",e=>{console.log("\ud83d\udd14 New notification received via socket:",e);const n=e.vehicleName||e.VehicleName||e.vehicle_name||e.carName||e.CarName||e.bikeName||e.BikeName||e.name||e.model||e.Model,r={_id:e._id||e.id,type:e.type||"general",title:e.title||"New Notification",message:e.message||e.body||"",vehicleId:e.vehicleId||e.VehicleId||e.vehicle_id,vehicleName:n,bookingId:e.bookingId||e.booking_id,requiresFeedback:e.requiresFeedback,feedbackGiven:e.feedbackGiven||!1};t().addNotification(r)}),Da.on("booking-status-update",e=>{console.log("\ud83d\udd14 Booking status update received:",e);const n=e.vehicleName||e.VehicleName||e.vehicle_name||e.carName||e.CarName||e.bikeName||e.BikeName||e.name||e.model||e.Model||"the vehicle";let r="general",i="Booking Update",a="",o=!1;"accepted"===e.status||"confirmed"===e.status?(r="booking_confirmed",i="Booking Confirmed!",a="Your booking for ".concat(n," has been accepted."),o=!1):"rejected"===e.status||"cancelled"===e.status?(r="booking_declined",i="Booking Declined",a="Your booking for ".concat(n," was declined.")):"timeout"===e.status&&(r="booking_timeout",i="Booking Timed Out",a="Your booking for ".concat(n," was auto-cancelled.")),t().addNotification({type:r,title:i,message:a,vehicleName:n,vehicleId:e.vehicleId||e.VehicleId||e.vehicle_id,bookingId:e.bookingId||e.booking_id,requiresFeedback:o})}),Da.on("ride-completed",e=>{console.log("\ud83d\udd14 Ride completed notification received:",e);const n=e.vehicleName||e.VehicleName||e.vehicle_name||e.carName||e.CarName||e.bikeName||e.BikeName||e.name||e.model||e.Model||"the vehicle";t().addNotification({type:"ride_completed",title:"Ride Completed!",message:"Your ride with ".concat(n," has been completed. Please provide your feedback."),vehicleName:n,vehicleId:e.vehicleId||e.VehicleId||e.vehicle_id,bookingId:e.bookingId||e.booking_id,requiresFeedback:!0,feedbackGiven:!1})}),Da.on("new-booking-request",e=>{console.log("\ud83d\udd14 New booking request received:",e);const n=e.vehicleName||e.VehicleName||e.vehicle_name||e.carName||e.CarName||e.bikeName||e.BikeName||e.name||e.model||e.Model||"your vehicle",r=e.vehicleId||e.VechileId||e.VehicleId||e.vehicle_id;t().addNotification({type:"booking_request",title:"New Booking Request!",message:"You have a new booking request for ".concat(n,"."),vehicleName:n,vehicleId:r,bookingId:e._id||e.id||e.bookingId,bookingStatus:"Pending",customerName:e.customerName||e.customer_name,contactNumber:e.contactNumber||e.contact_number||e.phone,fromDate:e.fromDate||e.from_date||e.startDate,toDate:e.toDate||e.to_date||e.endDate,totalPrice:e.totalPrice||e.total_price||e.price,expiresAt:e.expiresAt||e.expires_at||Date.now()+12e4,customerId:e.customerId||e.customer_id})})):console.log("\ud83d\udd14 No userId for socket initialization")},disconnectSocket:()=>{Da&&(console.log("\ud83d\udd14 Disconnecting notification socket"),Da.disconnect(),Da=null,e({socketConnected:!1}))}})),Oa=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Fa=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Va={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const za=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Ua=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:d}=e,h=i(e,za);return(0,r.createElement)("svg",c(c(c({ref:t},Va),{},{width:a,height:a,stroke:n,strokeWidth:s?24*Number(o)/Number(a):o,className:Fa("lucide",l)},!u&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(u)?u:[u]])}),Ha=["className"],Ga=(e,t)=>{const n=(0,r.forwardRef)((n,a)=>{let{className:o}=n,s=i(n,Ha);return(0,r.createElement)(Ua,c({ref:a,iconNode:t,className:Fa("lucide-".concat((l=Oa(e),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),o)},s));var l});return n.displayName=Oa(e),n},Ka=Ga("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Wa=Ga("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Za=Ga("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var qa=n(579);const Ya=(0,r.createContext)(void 0),Xa={latitude:16.9891,longitude:82.2475},Ja=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(()=>localStorage.getItem("currentCity")||"Kakinada"),[a,o]=(0,r.useState)(()=>localStorage.getItem("currentCountry")||"India"),[s,l]=(0,r.useState)(()=>{const e=localStorage.getItem("coordinates");return e?JSON.parse(e):Xa});(0,r.useEffect)(()=>{localStorage.setItem("currentCity",n),localStorage.setItem("currentCountry",a),localStorage.setItem("coordinates",JSON.stringify(s))},[n,a,s]);return(0,qa.jsx)(Ya.Provider,{value:{currentCity:n,currentCountry:a,coordinates:s,setLocation:(e,t)=>{i(e),o(t||"India")},setCoordinates:e=>{l(e)},setLocationWithCoordinates:(e,t,n)=>{i(e),o(n||"India"),l(t)}},children:t})},Qa=()=>{const e=(0,r.useContext)(Ya);if(void 0===e)throw new Error("useLocation must be used within a LocationProvider");return e},$a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAJ70lEQVR4AeycjZnUOAyGByqADqCCgwqACg4qACqAq4ClAqAClgqACuAqYK8C6ACugvC92ThMJrZi59czYx4LZ/wjS/osxU6cvbkr/7KyQAEkKzh2uwJIASQzC2QmTvGQAkhmFshMnOIhBZDMLJCZOMVDCiCZWSAzcZbxkMyUPCZxsgCkqqo7oseiZ6IL0VvR+4a+KB9LjofL4Q29EE/Ge6j8nuhWLqCtDoiUxwAYBCN91+9Kxvgu+ih6L3oleiF61tBD5WPJ8XA5vKG34sl4X5R/E/2UHBDAIxfyMaaq1k2rACJlmYnM+p9SDwNgEIx0R79zSXgJICAX8gEOIH2U/E9Fq8i6KCBSAiCYhRCzHqVzASBGDuR9rIaXIrwZ71kUmEUAERDcEwABYtZJn5NIeA/AvJGOgDW7UrMDIkHvSUrC0ikBIZU66aV+fZOus3vLrIA0AuIVY2fPLyn6I5Joq6abJcDgPkM+mxCzAiKpYsHAmMTl5+pzX3T3xvW/28q4jiHaqnl80ji3RXcbYtxHun4iYsa/U/5VlJIAg9VaSh+z7WyAyDuIrwhoDcjsfyYTYsznyi9FVyLKrX6z1GmcX6IfDTHuV11/Er0TvRQ9Et3QYID0SXlMYhl/EdMwps1sgGgw1vfKgumDau5LYXJdJqfVOkhGQAIUKGaysIKcRb5ZAInwDmYgnkGomkXwNZgAjMYhrF0pt9It2WCWRcwsgEjSp6JQIjQQo0P1WZcLFDwkBpShCBGl52RANDO4b4RmBx6B20cJk2sjgeL0IA+JySY4ZIdQn175ZEDE0bqhEaqYYWp23EmgoMfrAS3Y1Q80sasnAdJ4RyhcsZqxwLIly7BWoPCMy1oa88xr7B6s1ngSIOJguehJgSFdXbK8BDAm3S+nAhK6keHe/zoNTimXl+AhUEitUMQIte+UjwZE4Yp4yQ29w7D5wYYLUJqfJ5dZXsKDVStymMYYDYi4WpshS2B1Pe4U4SWhyDGo+ChA5B14RmgWHJd3DJoo2MCadCyBeeod7ByqGAWImFk3bB4aqslpp8ZLrLDMs71kIyQD0njH38ZIJ3kzD+hrPZcbtQROBkSCEapY3umylz5r5lizptdhqwJNLJ4/8aSW8AKFdLJEZF8S2r3DL3kJPAYQ64Y167sByxJj6gQChue9OIctIN5s8g4H4kADr2epZ9INDqHJBxjWEtiKJF7+SYCgkLhwQ1fWS7xrsFy412GtAuQWYXSI2M7s9Q2PbtTzJhBwYvYUvNjy8aKs9kAuYikJEDG1lrqxL3TEZp0kEAhLbzQaQETNerV1CXAuxYP+rqyXy0vwEDylV9cUWBGlafIn6wCiwXHp+pCYrjuzSL8RkM3gn97dq6wAkbzIDxDJcbyr1u6leHGgAX4HVe1Py0uwKbZrG4sfE4VyTmp2JkoLiBq9Ug8U4EZFTkzFdVktwNBa6hKuPqt/TgkdQnsBZjQTiL2EI35T7tMBPvDz1VGGzchDhOEBgckOH05qknNSExtj+7pvDYjACBkc9NhX0PlB3cP/H8r4azYolT6EGYx4ODoG5x7BIYonCjcXe8RvDkFw8MK3UuR+AN9DnjvxgC+hq1fXFBDqWUAAHDY99DbOG9dlNSDqRCNlwQRgUKhBNoAIDIDwhSkMBhAfGgN6dVEdEzD0hpDwFbLV/oLmkDfGtuxHeyZK+1l08vIMDnuES7rT5DxcQ4C96lUvfbOY18icKGEmDwojUPCQECh1eBHwhCB05V7AvfWvQcZ2gxqDWA+xWe12CMQehNBGfOT+I5krlo7cEImTHFrmwDXuSSwFRJSBCAdDM2g39K+qKmYvtN8U45qvkdUPw0LIwsRitrLk/W+fUXNNm0rX7GPQFZ3R3eeVahadsMGtmxIGBZaa0RiZEMIYgEYsZYYRS+sbmsRFIeIr4EmcOnENAaQjNmyQAxVgOyRe8FbWSXjFK3F1fJgg8IZUXGFcDAshC8ZFNmQElA6zBX+AwT08BEMtOM4o1gAJAaQjZi3kQMX4h0TbwwGZEPSjDuI3vKHDtlv/fgwg1uppawHPbfwHAMKMGVKcODzUptRPt0AdslgODrHK0b2HZD7G+is85B9Jzo1PWUkbWgAMnt/UmptzqxzNZ4fKBo+KDeU6q6GxNTZnycymtfYQtv4cauPTAPf4wHpYdlYWW1BZTnXyWQY25xpw2p364bj1rvOwsPye1QJeG3MP8Y3Cet1X7spYdbEYINy5spJfW8DZhvy6xP9/vTM/rOoBoq2rBQYP3vjohnjHsyHuPTwh5bkPYe4cAUJndMcGhCBnG/fpXOihIzvz3uq1B8ghYnu/X2sBwGdoCNAWq4x3IZzF4pMwAEIQFgh4UNvuhC6I9ejGjRgAmKDojg2oa1WVbbg385QAwNryvQtA2fu5C95DOo2aH6wGmstw1gjBAqGeMWoJOMySjrAqP6aE7EQHdHEe0N6IIxSJsh18UjwEoegTTQIH7wEcPmcjtPHUFXCieWzcEE9gYgEC0QFdku2QokMKICl8vW0FEB9T4sLHAArG5z7ZC0Ve5WYqXBWQPZmJv4vOtL2xxlwiG+/ax/Sd1GcTQOQpKJyzl+DJQ8vWSYYPdd4EkEaYzmqtKcsl2+x88gaAtDbvLfnamjO+SAHE2jAmmVCbT8DgzV9SvxUb884fGecasrcBDDFOAYT30tGMfQMChAggeIc+iZeP/4xlvLTj3TuHBCcBI33Rk1fNUeKlAAJjDga4wwLknCTh4AF0ocF9RB3tOETASQ0OD8ArSsANGyEjm0FO0AAOOqCLT0cOXlDnCNtATDz0hleUKimAOIaELkcckGBfATELfEQd7aKFcgNllOMx6IAuPh3xeuocOfvQL0mNMYAkDVAap1mgAJJmr8VbF0AWN3HaAAWQNHst3roAsriJ0wY4GUDS1M63dQEkM2wKIAWQzCyQmTjFQwogmVkgM3F8HsLbvMzEPB9xeoDo9Spv8kLniM7HMstryjEiTrV0RuoB0tTyiLy5nJxxakM4H3+SJXoGVNmoJGtw0KPXNwRIr2EpWMcCBRDTzutXFkDWt7k5YgHENM/6lQWQ9W1ej1hVlffwhBcQrQA4tTfXfuT/WoLT+G8um/AZoZeXF5DGduxHmstJGX+qYhKDjDrP9TfBOM3iVcsChG8h8BRvx8hC/hRSzmd4I9W4bqbIgSGn6oNNgwe5g4BocDrybQS7djZEKcQHKnwTwrGYa21O5H/ZBZ2YrCn2cG0Bgi+usK3XIkFAaK3B+SSLz7X4TiKF+NR36kxChCxJdnHfjqTYhLb8BTvvvcMpagLiGpV8PQsUQNazdTuSdVEAsayzQV0BZAOjW0MWQCzrbFBXANnA6NaQBRDLOhvUFUA2MLo1ZAHEss4GdQWQDYxuDfkbAAD//xqRU5kAAAAGSURBVAMAIRdFBUrhWQ8AAAAASUVORK5CYII=",eo=n.p+"static/media/sportbike.95e6262a7998f4c98fe8.png",to=e=>{let{isOpen:t,onClose:n,onSelect:r}=e;return t?(0,qa.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,qa.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6",children:[(0,qa.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,qa.jsx)("h2",{className:"text-lg font-bold",children:"Select Vehicle"}),(0,qa.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-800",children:"\xd7"})]}),(0,qa.jsxs)("div",{className:"space-y-4",children:[(0,qa.jsxs)("div",{className:"flex items-center p-4 border rounded cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>r("car"),children:[(0,qa.jsx)("div",{className:"bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] p-3 rounded mr-4 flex items-center justify-center w-14 h-14",children:(0,qa.jsx)("img",{src:$a,alt:"Car",className:"w-8 h-8 object-contain filter brightness-0 invert"})}),(0,qa.jsx)("span",{className:"text-lg font-medium",children:"Car"}),(0,qa.jsx)("span",{className:"ml-auto text-gray-400",children:"\u203a"})]}),(0,qa.jsxs)("div",{className:"flex items-center p-4 border rounded cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>r("bike"),children:[(0,qa.jsx)("div",{className:"bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] p-3 rounded mr-4 flex items-center justify-center w-14 h-14",children:(0,qa.jsx)("img",{src:eo,alt:"Bike",className:"w-8 h-8 object-contain filter brightness-0 invert"})}),(0,qa.jsx)("span",{className:"text-lg font-medium",children:"Bike"}),(0,qa.jsx)("span",{className:"ml-auto text-gray-400",children:"\u203a"})]})]})]})}):null},no=n.p+"static/media/RentOnGoLogo.b0a8236f05965481c4d1.png",ro=()=>{const e=ye(),t=me(),{currentCity:n}=Qa(),{unreadCount:i}=Ba(),[a,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),c=[{name:"Rental",path:"/rental"},{name:"Listed",path:"/listed"},{name:"MyBookings",path:"/mybookings"},{name:"Profile",path:"/profile"},{name:"Notifications",path:"/notifications"}],u=t=>{e(t),o(!1)};return(0,qa.jsxs)("nav",{className:"w-full bg-white shadow-sm border-b border-gray-100",children:[(0,qa.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-3 flex justify-between items-center",children:[(0,qa.jsx)("div",{className:"flex items-center cursor-pointer",onClick:()=>u("/rental"),children:(0,qa.jsx)("img",{src:no,alt:"RentOnGo Logo",className:"object-contain w-[180px] sm:w-[214px] h-[48px] sm:h-[64px]"})}),(0,qa.jsxs)("div",{className:"hidden lg:flex items-center gap-6",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-1 text-gray-700 cursor-pointer hover:text-blue-600",onClick:()=>u("/change-location"),children:[(0,qa.jsx)(Ka,{size:18}),(0,qa.jsx)("span",{className:"text-sm font-medium",children:n})]}),c.map(e=>(0,qa.jsxs)("button",{onClick:()=>u(e.path),className:"relative text-sm font-medium transition-all flex items-center gap-1 ".concat(t.pathname===e.path?"text-blue-600":"text-gray-700 hover:text-blue-600"),children:[e.name,"Notifications"===e.name&&i>0&&(0,qa.jsx)("span",{className:"bg-red-500 text-white text-xs font-semibold px-1.5 py-0.5 rounded-full min-w-[18px] text-center",children:i>9?"9+":i}),t.pathname===e.path&&(0,qa.jsx)("span",{className:"absolute -bottom-1 left-0 w-full h-[2px] bg-blue-600 rounded-full"})]},e.name)),(0,qa.jsx)("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white text-sm font-semibold px-4 py-2 rounded-md hover:opacity-90 transition-all",children:"Listing +"})]}),(0,qa.jsx)("button",{className:"lg:hidden flex items-center text-gray-700 hover:text-blue-600 transition",onClick:()=>o(!a),children:a?(0,qa.jsx)(Wa,{size:24}):(0,qa.jsx)(Za,{size:24})})]}),a&&(0,qa.jsxs)("div",{className:"lg:hidden bg-white shadow-md border-t border-gray-100 px-6 py-4 animate-slide-down",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-2 mb-4 text-gray-700 cursor-pointer",onClick:()=>u("/change-location"),children:[(0,qa.jsx)(Ka,{size:18}),(0,qa.jsx)("span",{className:"text-sm font-medium",children:n})]}),(0,qa.jsxs)("div",{className:"flex flex-col space-y-3",children:[c.map(e=>(0,qa.jsxs)("button",{onClick:()=>u(e.path),className:"text-left text-sm font-medium flex items-center gap-2 ".concat(t.pathname===e.path?"text-blue-600":"text-gray-700 hover:text-blue-600"),children:[e.name,"Notifications"===e.name&&i>0&&(0,qa.jsx)("span",{className:"bg-red-500 text-white text-xs font-semibold px-1.5 py-0.5 rounded-full min-w-[18px] text-center",children:i>9?"9+":i})]},e.name)),(0,qa.jsx)("button",{onClick:()=>{o(!1),l(!0)},className:"bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white text-sm font-semibold px-4 py-2 rounded-md hover:opacity-90 transition-all w-fit",children:"Listing +"})]})]}),(0,qa.jsx)(to,{isOpen:s,onClose:()=>l(!1),onSelect:t=>{l(!1),"car"===t?e("/list-car"):"bike"===t&&e("/list-bike")}})]})},io=Ga("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),ao=Ga("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),oo=Ga("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),so=Ga("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),lo=e=>{let{value:t,onChange:n,minDate:i}=e;const[a,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)(t?new Date(t):new Date),c=e=>{if(!t)return!1;const[n,r,i]=t.split("-");return parseInt(i)===e&&parseInt(r)-1===s.getMonth()&&parseInt(n)===s.getFullYear()},u=e=>{const t=new Date;return e===t.getDate()&&s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear()},d=e=>{if(!i)return!1;const t=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),r=String(e).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)<i};return(0,qa.jsx)("div",{className:"flex gap-4 mb-6",children:(0,qa.jsxs)("div",{className:"relative flex-1",children:[(0,qa.jsxs)("button",{onClick:()=>o(!a),className:"border rounded px-3 py-2 bg-white hover:border-blue-500 transition flex items-center gap-2 min-w-[150px]",children:[(0,qa.jsx)(ao,{className:"w-4 h-4 text-gray-500"}),(0,qa.jsx)("span",{className:"text-sm",children:t?(e=>{if(!e)return"Select";const[t,n,r]=e.split("-");return"".concat(r,"-").concat(n,"-").concat(t)})(t):"Select"})]}),a&&(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),(0,qa.jsxs)("div",{className:"absolute top-full left-0 mt-2 bg-white border border-gray-200 rounded-xl shadow-xl p-4 z-50 w-80",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,qa.jsx)("button",{onClick:()=>{l(new Date(s.getFullYear(),s.getMonth()-1))},className:"p-1 hover:bg-gray-100 rounded",children:(0,qa.jsx)(oo,{className:"w-5 h-5"})}),(0,qa.jsxs)("h3",{className:"font-semibold text-gray-900",children:[["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()]," ",s.getFullYear()]}),(0,qa.jsx)("button",{onClick:()=>{l(new Date(s.getFullYear(),s.getMonth()+1))},className:"p-1 hover:bg-gray-100 rounded",children:(0,qa.jsx)(so,{className:"w-5 h-5"})})]}),(0,qa.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(e=>(0,qa.jsx)("div",{className:"text-center text-xs font-medium text-gray-500 py-2",children:e},e))}),(0,qa.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(e=>{const t=e.getFullYear(),n=e.getMonth(),r=new Date(t,n,1),i=new Date(t,n+1,0).getDate(),a=0===r.getDay()?6:r.getDay()-1,o=[],s=new Date(t,n,0).getDate();for(let c=a-1;c>=0;c--)o.push({day:s-c,isCurrentMonth:!1});for(let c=1;c<=i;c++)o.push({day:c,isCurrentMonth:!0});const l=42-o.length;for(let c=1;c<=l;c++)o.push({day:c,isCurrentMonth:!1});return o})(s).map((e,t)=>{const r=!e.isCurrentMonth||d(e.day);return(0,qa.jsx)("button",{onClick:()=>e.isCurrentMonth&&!d(e.day)&&(e=>{const t=s.getFullYear(),r=String(s.getMonth()+1).padStart(2,"0"),i=String(e).padStart(2,"0"),a="".concat(t,"-").concat(r,"-").concat(i);n(a),o(!1)})(e.day),disabled:r,className:"\n                        aspect-square flex items-center justify-center text-sm rounded-lg transition\n                        ".concat(r?"text-gray-300 cursor-not-allowed":"text-gray-700 hover:bg-gray-100","\n                        ").concat(c(e.day)&&e.isCurrentMonth?"bg-blue-600 text-white hover:bg-blue-700":"","\n                        ").concat(u(e.day)&&e.isCurrentMonth&&!c(e.day)?"bg-blue-50 font-semibold":"","\n                      "),children:e.day},t)})})]})]})]})})},co=JSON.parse('{"carBrands":["Acura","Agrale","Alfa Romeo","Aston Martin","Audi","Avatr","BMW","BYD","Bentley","Bugatti","Buick","CUPRA","Cadillac","Changan","Chevrolet","Chrysler","Citro\xebn","DS","Dacia","Daihatsu","Discovery","Dodge","Ferrari","Fiat","Force","Ford","GAZ","GAZelle","GAZon","GMC","Geely","Genesis","Geometry","Haval","Hennessey","Hindustan","Holden","Honda","Hongqi","Hyundai","Infiniti","Iran","Jaguar","Jeep","KG","Kia","Koenigsegg","Lada","Lamborghini","Lancia","Land Rover","Lexus","Li","Lincoln","Lotus","Lucid","MG","MG3","MG5","MG6","Mahindra","Maruti","Maserati","Maybach","Mazda","McLaren","Mercedes-AMG","Mercedes-Benz","Mercedes-Maybach","Mini","Mitsubishi","Morgan","NIO","Nissan","ORA","Opel","Oshan","Pagani","Perodua","Peugeot","Polestar","Porsche","Proton","RAM","Range","Renault","Rivian","Roewe","Rolls-Royce","SEAT","Saipa","Smart","Subaru","Suzuki","TOGG","Tank","Tata","Tesla","Toyota","Troller","UAZ","Upcoming","VUHL","Vauxhall","Volkswagen","Volvo","XPeng","Zeekr","\u0160koda"],"carModels":{"Holden":["Acadia","Adventra","Astra","Barina","Belmont","Calais","Caprice","Captiva","Colorado","Commodore","Cruze","Epica","Equinox","Kingswood","Monaro","Monaro GTS","Premier","Sandman","Spark","Special","Statesman","Torana","Trailblazer","Trax","Ute","Viva"],"Troller":["Pantanal","T4"],"Agrale":["Marru\xe1 AM 1","Marru\xe1 AM 11","Marru\xe1 AM 150","Marru\xe1 AM 2","Marru\xe1 AM 200","Marru\xe1 AM 21","Marru\xe1 AM 3","Marru\xe1 AM 300","Marru\xe1 AM 31","Marru\xe1 AM 400","Marru\xe1 AM 41","Marru\xe1 AM 50","Marru\xe1 AM 500"],"BYD":["Atto 3 (Yuan Plus)","Denza D9","Denza N7","Denza N8","Dolphin","F3","Frigate 07","Han","Qin","Qin Plus","Sea Lion 07","Seal","Seal U","Song Plus","Song Pro","Tang","Yangwang U8","Yangwang U9","Yuan Plus (Atto 3)","Yuan UP"],"Changan":["Alsvin","Benni EV","CS15","CS35 Plus","CS55 Plus","CS75 Plus","CS85 Coupe","CS95","Deepal G318","Deepal S7","Deepal SL03","E-Star","Eado","Eado Plus","Lumin","Oshan X5","Oshan X7","Raeton CC","Raeton Plus","UNI-K","UNI-T","UNI-V"],"Avatr":["11","12"],"Oshan":["COS1\xb0","Z6"],"Geely":["Binrui","Binrui Cool","Emgrand","Emgrand L","Galaxy E8","Galaxy L6","Jiaji","Jiaji L","Preface"],"Geometry":["A","C","E","M6"],"Zeekr":["001","001 FR","007","009","M-Vision","Mix","X"],"Haval":["Big Dog (DaGou)","Cool Dog","H1","H2","H3","H5","H6","H6 HEV / PHEV","H7","H8","H9","Jolion","Raptor","Second-Gen Big Dog (H-DOG Hybrid)"],"ORA":["Ballet Cat","Good Cat (Funky Cat)","Lightning Cat","Punk Cat","R1 (Black Cat)","R2 (White Cat)"],"Tank":["300","400 Hi4-T","500","700 Hi4-T","800"],"Hongqi":["E-HS3","E-HS9","E-QM5","EH7","H5","H6","H7","H9","H9+","HS3","HS5","HS7","L5","L9 (Concept)","LS7"],"Li":["Auto L7","Auto L8","Auto L9","Auto Mega"],"NIO":["EC6","EC7","ES6","ES7","ES8","ET5","ET5 Touring","ET7","ET9"],"MG3":["MG3"],"MG5":["EV","MG5"],"MG6":["MG6","XPower"],"MG":["Cyberster","HS","HS Plug-in Hybrid","Marvel R","One","ZS","ZS EV"],"Roewe":["D7","D7 DMH","Ei5","RX5","RX5 eMAX","RX9","eRX5","i5","i6 Max"],"XPeng":["AeroHT Flying Car","G3i","G6","G9","P5","P7","P7i","P9","X9"],"\u0160koda":["Fabia","Octavia","Rapid","Scala","Slavia","Superb"],"Force":["Gurkha (3-Door)","Gurkha (5-Door)","Shaktiman Pickup","Traveller","Traveller Ambulance","Traveller Delivery Van","Traveller Monobus","Traveller School Bus","Traveller Urbania","Trax Ambulance","Trax Cruiser","Trax Toofan"],"Hindustan":["Ambassador","Ambassador EV","Contessa","Porter","Pushpak","Trekker","Veer"],"Mahindra":["BE.05","BE.07","BE.09","Bolero","Bolero Neo","KUV100 NXT","Marazzo","Scorpio Classic","Scorpio-N","Thar","Thar 5-Door","XUV.e8","XUV.e9","XUV300","XUV400 EV","XUV500","XUV700"],"Maruti":["Alto K10","Baleno","Brezza","Celerio","Ciaz","Dzire","Eeco","Ertiga","Fronx","Grand Vitara","Ignis","Invicto","Jimny","S-Presso","Swift","Tour S","Wagon R","XL6"],"Tata":["Altroz","Curvv EV","Harrier","Harrier EV","Nexon","Nexon EV","Punch","Punch EV","Safari","Sierra EV","Tiago","Tiago EV","Tiago NRG","Tigor","Tigor EV"],"Iran":["Khodro Arisun 2","Khodro Dena","Khodro Dena Electric","Khodro Dena Plus","Khodro Dena Turbo","Khodro E-Tara","Khodro Haima S5","Khodro Haima S7","Khodro Peugeot 206","Khodro Peugeot 207i","Khodro Peugeot Pars","Khodro Rira","Khodro Runna","Khodro Runna Plus","Khodro Samand","Khodro Soren","Khodro Soren Plus","Khodro Tara","Khodro Tara Automatic"],"Saipa":["Aria","Atlas","Pride 111","Pride 131","Pride 132","Pride 141","Quick","Quick EV","Quick R","Roham Crossover","Saina","Saina EV","Saina S","Shahin","Tiba","Tiba 2"],"Perodua":["Alza","Aruz","Ativa","Axia","Bezza","EV Concept","Myvi"],"Proton":["Iriz","Persona","Prev\xe9","Saga","Suprima S","X30","X50","X70","X90","e.MAS"],"VUHL":["05","05RR"],"Dacia":["Bigster","Duster","Jogger","Logan","Sandero","Sandero Stepway","Spring Electric"],"GAZon":["NEXT","NEXT City","e-NN"],"GAZ":["Sadko NEXT","Ural NEXT","Vepr NEXT"],"GAZelle":["e-NN"],"Lada":["Granta","Kalina","Largus","Largus Cross","Niva Bronto","Niva Legend (4x4)","Niva Travel","Priora","Vesta","XRay","XRay Cross"],"UAZ":["Bars / Simba","Hunter","Hunter Expedition","Patriot","Patriot Expedition","Patriot Pickup","Profi"],"CUPRA":["Ateca","Born","Formentor","Leon","Tavascan","Terramar"],"SEAT":["Arona","Ateca","Ibiza","Leon","Mii Electric","Tarraco","Toledo"],"Koenigsegg":["Agera","Agera R","Agera RS","Agera S","CC850","CC8S","CCR","CCX","CCXR","Gemera","Jesko","Jesko Absolut","One:1","Raw Concept","Regera"],"Polestar":["1","2","3","4","5","6","O\u2082 Concept","Precept"],"Volvo":["EC40","EX30","EX40","EX90","S60","S60 Recharge","S90","S90 Recharge","V60","V60 Cross Country","V60 Recharge","V90","V90 Cross Country","V90 Recharge","XC40","XC40 Recharge","XC60","XC60 Recharge","XC90","XC90 Recharge"],"TOGG":["T10F","T10X"],"Aston Martin":["DB11","DB12","DBS Superleggera","DBX","DBX707","Valhalla (Hybrid Supercar)","Valkyrie","Valkyrie AMR Pro","Valkyrie Spider","Vanquish","Vantage","Victor (One-off)"],"Bentley":["Bacalar (Coachbuilt Barchetta, Limited Edition)","Batur (Limited Edition Coupe, Hybrid W12)","Bentayga","Bentayga EWB (Extended Wheelbase)","Bentayga Hybrid","Bentayga S","Bentayga Speed","Continental GT","Continental GT Convertible","Continental GT Mulliner","Continental GT Speed","Continental GTC (Convertible variant)","Flying Spur","Flying Spur Hybrid","Flying Spur Mulliner","Flying Spur Speed","Mulsanne (Discontinued)"],"Upcoming":["Bentley EV (expected 2026)"],"Jaguar":["E-PACE","Electric GT (Upcoming 2025)","Electric XJ (Cancelled / Possibly Reintroduced)","F-PACE","F-TYPE Convertible","F-TYPE Coupe","I-PACE","I-PACE (Electric SUV)","XE","XF","XJ (Discontinued, upcoming electric XJ planned)"],"Land Rover":["Defender (90 / 110 / 130)","Defender PHEV","Discovery","Discovery Sport"],"Range":["Rover","Rover (Plug-in Hybrid / Electric coming 2025)","Rover Evoque","Rover Evoque PHEV","Rover Sport","Rover Sport (Plug-in Hybrid)","Rover Velar","Rover Velar PHEV"],"Discovery":["Sport PHEV"],"Lotus":["Eletre","Elise","Emeya","Emira","Evija","Evora","Exige"],"McLaren":["540C","570GT","570S","600LT","650S","720S","750S","765LT","765LT Spider","Artura","Elva","GT","P1","Sabre","Senna","Senna GTR","Solus GT","Speedtail"],"Mini":["3-Door Hatch","5-Door Hatch","Aceman (Upcoming Electric Crossover)","Convertible","Convertible JCW","Cooper (S / JCW)","Countryman","Countryman Electric (New Gen, 2025)","Countryman SE ALL4 (Plug-in Hybrid)","Electric (Mini Cooper SE)"],"Morgan":["3 Wheeler (2011\u20132021)","4 Seater (Classic Range)","4/4 (1936\u20132019)","4/4 Sport","AR Plus 4 (Limited Edition by AR Motorsport)","Aero 8 (2000\u20132018)","Aero GT (2018, Limited Edition)","Aero SuperSports","AeroMax","Eva GT (Concept, not produced)","Plus 4 (1950\u20132020)","Plus 4 Anniversary Edition","Plus 4 SuperSports","Plus 8 (1968\u20132018)","Plus 8 GTR (2022, Final Edition)","Plus Four","Plus Six","Roadster (2004\u20132019)","Super 3","V6 Roadster"],"Rolls-Royce":["Cullinan","Cullinan Black Badge","Dawn (Convertible, Discontinued)","Ghost","Ghost Extended","Phantom","Phantom Extended Wheelbase (EWB)","Spectre (Electric Coupe \u2013 New Generation EV)","Wraith (Discontinued)"],"Vauxhall":["Astra","Astra Electric","Astra Sports Tourer","Astra Sports Tourer Electric","Combo Life","Combo Life Electric (Combo-e Life)","Corsa","Corsa Electric (Corsa-e)","Crossland","Grandland","Grandland Electric (Upcoming 2025)","Grandland Plug-in Hybrid (Grandland Hybrid)","Mokka","Mokka Electric (Mokka-e)","Vivaro Life","Vivaro Life Electric (Vivaro-e Life)"],"Bugatti":["Bolide","Centodieci","Chiron","Chiron Pur Sport","Chiron Sport","Chiron Super Sport","Divo","La Voiture Noire","Mistral","Veyron","Veyron Super Sport"],"Citro\xebn":["Ami (Micro Electric Car)","Berlingo","C1","C3 (India / Global)","C3 Aircross (India / Global)","C4","C4 Cactus","C5 Aircross","C5 Aircross Hybrid / Plug-in Hybrid","Jumper","Jumpy","SpaceTourer","\xeb-Berlingo (Electric)","\xeb-C3 (Electric, India)","\xeb-C4 (Electric)","\xeb-Jumpy (Electric)","\xeb-SpaceTourer (Electric)"],"DS":["3","3 Crossback","3 E-Tense (Electric)","4","4 E-Tense (Plug-in Hybrid)","5 (Discontinued)","7 Crossback","7 E-Tense (Plug-in Hybrid)","9","9 E-Tense (Plug-in Hybrid)"],"Peugeot":["108 (City Car)","2008","208","3008","3008 Hybrid / e-3008 (New Gen Electric SUV)","301","308","408 (Fastback Crossover)","508","508 PSE (Peugeot Sport Engineered, Hybrid)","Boxer","Expert","Rifter","Traveller","e-2008","e-2008 (Electric)","e-208","e-208 (Electric)","e-3008","e-308","e-308 (Electric)","e-Expert (Electric)","e-Expert (Van)","e-Rifter (Electric)","e-Rifter (MPV)","e-Traveller (Electric)","e-Traveller (Large MPV)"],"Renault":["4 E-Tech (upcoming compact electric SUV)","5 E-Tech (upcoming retro electric)","Arkana","Austral","Captur","Clio","Duster (India / Global)","Fluence (discontinued)","Kangoo","Kiger (India)","Koleos","Kwid (India)","Logan (India: old model, aka Mahindra Verito)","Master","Megane E-Tech Electric","Megane Sedan","Scenic E-Tech Electric","Symbol","Trafic","Triber (India)","Twingo","Twingo E-Tech (upcoming)","Zoe","Zoe (Electric)"],"Audi":["A3 Sedan","A4 Sedan","A5 Sportback","A6 Avant e-tron","A6 Sedan","A6 e-tron","A7 Sportback","A8 / A8L","Activesphere Concept","Grandsphere Concept","Q2","Q3 / Q3 Sportback","Q4 e-tron","Q5 / Q5 Sportback","Q6 e-tron","Q7","Q8","Q8 e-tron","R8","RS Q3","RS Q5 (Concept / Rumored)","RS Q8","RS e-tron GT","RS3","RS4","RS5","RS6","RS7","S3","S4","S5","S6","S7","S8","SQ5 / SQ7 / SQ8","Skysphere Concept","Urbansphere Concept","e-tron GT"],"BMW":["2 Series","3 Series","4 Series","5 Series","6 Series","7 Series","8 Series","M2","M3","M4","M5","M8","Vision Neue Klasse","Vision Neue Klasse X","X1","X2","X3","X3 M / X4 M","X4","X5","X5 M / X6 M","X6","X7","XM","XM Label Red","i Vision Dee","i3","i4","i5","i7","iNEXT Concept","iX","iX1","iX3"],"Mercedes-Maybach":["6 Cabriolet Concept","6 Coupe Concept","EQS 680 SUV","EQS SUV","GLS","Haute Voiture","Night Series","S-Class"],"Maybach":["57","62","Exelero","Landaulet"],"Mercedes-Benz":["A-Class Sedan","AMG GT 4-Door Coupe","C-Class","CLA","CLS","E-Class","EQA","EQB","EQC","EQE","EQE SUV","EQG","EQS","EQS SUV","G-Class","GLA","GLB","GLC","GLC Coupe","GLE","GLE Coupe","GLS","Maybach GLS","Maybach S-Class","S-Class"],"Mercedes-AMG":["A45","C63","E63","G63","GT","One","SL"],"Opel":["Astra","Astra Electric","Astra Sports Tourer","Astra Sports Tourer Electric","Combo Life","Combo-e Life","Corsa","Corsa-e","Crossland","Experimental Concept","Frontera EV","Grandland","Grandland Hybrid","Grandland Hybrid4","Insignia","Manta-e","Mokka","Mokka-e","Rocks-e","Rocks-e KARGO","Vivaro Life","Vivaro-e Life","Zafira Life","Zafira-e Life"],"Porsche":["718 Boxster","718 Cayman","718 EV","911 Carrera","911 Carrera 4 / 4S","911 Dakar","911 GT3 / GT3 RS","911 S/T","911 Sport Classic","911 Targa","911 Turbo / Turbo S","Cayenne","Cayenne Coupe","Cayenne Turbo GT","K1","Macan","Macan EV (2024)","Macan EV (new compact SUV EV)","Mission E","Mission R","Taycan","Taycan 4S","Taycan Cross Turismo","Taycan GTS","Taycan Sport Turismo","Taycan Turbo","Taycan Turbo S"],"Smart":["#1 (Smart Hashtag One)","#3 (Smart Hashtag Three)","Crossblade","EQ Forfour","EQ Fortwo","Forfour","Fortwo","Roadster / Roadster-Coup\xe9","Vision EQ Fortwo"],"Volkswagen":["Arteon","Arteon R","Atlas / Teramont","Golf","Golf GTI","Golf R","ID. Buzz","ID. Buzz GTX","ID. GTI","ID. GTI (2026)","ID. Life Concept","ID.2all","ID.2all (2025)","ID.3","ID.4","ID.5","ID.6","ID.7","Jetta","Passat","Polo","Polo GT","T-Roc","T-Roc R","Taigun","Taos","Tiguan","Tiguan Allspace","Tiguan R","Touareg","Trinity Project (Future Flagship EV Sedan)","Virtus"],"Alfa Romeo":["33 Stradale","4C Spider","Brennero","Giulia","Giulia Quadrifoglio","Milano","Stelvio","Stelvio Quadrifoglio","Tonale"],"Ferrari":["296 GTB","296 GTS","812 Competizione","812 Competizione A","812 GTS","812 Superfast","Daytona SP3","EV","F8 Spider","F8 Tributo","LaFerrari","LaFerrari Aperta","Monza SP1","Monza SP2","Portofino M","Purosangue","Roma","Roma Spider","SF90 Spider","SF90 Stradale"],"Fiat":["500","500X","500e","600e","Argo","Cronos","Doblo","E-Ulysse","Fastback","Panda","Pulse","Punto","Qubo","Strada","Tipo","Toro"],"Lamborghini":["Aventador","Aventador S","Aventador SVJ","Centenario","Centenario Roadster","Essenza SCV12","Hurac\xe1n EVO","Hurac\xe1n STO","Hurac\xe1n Sterrato","Hurac\xe1n Tecnica","Lanzador","Revuelto","Si\xe1n FKP 37","Si\xe1n Roadster","Terzo Millennio","Urus","Urus Performante","Urus S","Veneno","Veneno Roadster"],"Lancia":["Delta","Gamma","Ypsilon","Ypsilon HF"],"Maserati":["Ghibli","GranCabrio","GranTurismo","GranTurismo Folgore","Grecale","Grecale Folgore","Levante","MC20","MC20 Cielo","MC20 Folgore","Quattroporte"],"Pagani":["Huayra","Huayra BC","Huayra R","Huayra Roadster","Huayra Roadster BC","Utopia","Zonda","Zonda Cinque","Zonda HP Barchetta","Zonda R"],"Acura":["ILX","Integra","MDX","NSX","RDX","RLX","TLX","ZDX"],"Daihatsu":["Ayla","Ayla EV","Boon","Cast","DN Multisix","DN Pro Cargo","Gran Max","Luxio","Mira / Mira e:S","Move","Rocky","Sigra","Sirion","Taft","Tanto","Tantos Cross","Terios","Xenia"],"Honda":["Accord","Accord Hybrid","Amaze","BR-V","CR-V","CR-V Hybrid","City","Civic","Civic Hatchback","Civic Hybrid","Civic Type R","Clarity","Elevate","HR-V (Vezel)","Insight","Jazz (Fit)","NSX (Acura NSX)","Passport","Pilot","S660","WR-V","e","e:Ny1"],"Infiniti":["Q Inspiration","Q50","Q60","Q70","QX Inspiration","QX50","QX55","QX60","QX80","Vision Qe"],"Lexus":["ES","GX","Hybrid Lineup","IS","LC","LF-Z Electrified","LS","LX","NX","RC","RX","RZ 450e","TX","UX","UX 300e"],"Mazda":["CX-3","CX-30","CX-5","CX-50","CX-60","CX-70","CX-8","CX-9","CX-90","Iconic SP","MX-5 Miata","RX-Vision"],"Mitsubishi":["ASX (RVR / Outlander Sport)","Attrage (Mirage G4)","Eclipse Cross","Lancer","Mirage","Outlander","Outlander PHEV","Pajero","Pajero Sport (Montero Sport / Shogun Sport)","Triton (L200)","i-MiEV"],"Nissan":["Altima","Ariya","Armada","Frontier","GT-R","Kicks","Leaf","Magnite","Maxima","Micra","Navara","Note","Patrol","Qashqai","Sunny","Titan","X-Trail","Z"],"Subaru":["Ascent (Evoltis)","BRZ","Crosstrek (formerly XV)","Forester","Impreza","Legacy","Outback","Solterra","WRX","WRX STI"],"Suzuki":["Across","Across PHEV","Alto","Baleno","Celerio","Ciaz","Dzire","Fronx","Grand Vitara","Ignis","Jimny","S-Presso","SX4 S-Cross","Swift","Swift Hybrid","Vitara Brezza (Brezza)","Wagon R","eVX"],"Toyota":["Alphard / Vellfire","Avalon","C-HR","Camry","Corolla","Corolla Altis","Corolla Cross","Crown","Fortuner","Glanza","Grand Highlander","Highlander","Hilux","Innova Crysta","Innova HyCross","Land Cruiser 300","Land Cruiser Prado","Mirai","Prius","RAV4","Raize","Sequoia","Sienna","Tacoma","Tundra","Urban Cruiser","Venza","Yaris","bZ Compact SUV","bZ3","bZ4X"],"Genesis":["Electrified G80","Electrified GV70","G70","G80","G90","GV60","GV60 Performance","GV70","GV80","GV90","X Concept","X Concept Series","X Convertible","X Speedium Coupe"],"Hyundai":["Alcazar","Azera (Grandeur)","Creta","Elantra (Avante)","Elantra N","Exter","Grand i10 Nios","Ioniq 5","Ioniq 5 N","Ioniq 6","Ioniq 7","Kona","Kona Electric","Kona N","Nexo","Palisade","Santa Fe","Santa Fe Hybrid / Plug-in Hybrid","Sonata","Sonata Hybrid","Tucson","Tucson Hybrid / Plug-in Hybrid","Venue","Verna (Accent)","i20","i20 N","i30"],"Kia":["Carens","Carnival (Sedona)","Carnival Hybrid","Concept EV4 / EV3","Concept EV9","EV3","EV4","EV5","EV6","EV6 GT","EV9","Forte (Cerato / K3)","K5 (Optima)","K8","K9 (K900)","Niro","Niro EV / Niro Hybrid / Niro PHEV","Rio","Seltos","Sonet","Sorento","Sorento Hybrid / Sorento Plug-in Hybrid","Sportage","Sportage Hybrid / Sportage Plug-in Hybrid","Stinger","Stinger GT / GT-Line","Telluride"],"KG":["Mobility KR10 (Concept)","Mobility Korando","Mobility Korando e-Motion","Mobility Musso","Mobility Musso Grand","Mobility O100 (Concept)","Mobility Rexton","Mobility Tivoli","Mobility Torres","Mobility Torres EVX","Mobility Torres EVX Concept"],"Buick":["Avenir Concept","Avista Concept","Century (Classic)","Electra","Electra E4","Electra E5","Enclave","Encore","Encore GX","Envision","Envista","GL6","GL8","LaCrosse","LeSabre","Lucerne","Park Avenue","Rainier (Discontinued)","Regal","Rendezvous (Discontinued)","Riviera Concept","Skylark (Classic)","Special (Historic)","Terraza","Terraza (Minivan Crossover, Discontinued)","Velite 6","Velite 7","Verano","Wildcat EV Concept","Y-Job"],"Cadillac":["ATS (Discontinued)","Allante","BLS (Europe Exclusive)","Brougham (Classic)","CT4","CT4-V Blackwing","CT5","CT5-V Blackwing","CTS (Discontinued)","Celestiq","Ciel Concept","Cimarron (Historic)","Coupe DeVille","DeVille (Classic)","ELR (Hybrid Coupe, Discontinued)","Eldorado","Elmiraj Concept","Escala Concept","Escalade","Escalade ESV","Escalade IQ","Escalade-V","Fleetwood (Classic)","Fleetwood Limousine","Hearse (Coachbuilt)","Lyriq","Optiq (Upcoming)","SRX (Discontinued)","SRX Crossover (Classic)","STS (Classic)","Series 62 (Historic)","Seville (Classic)","Sixteen Concept","V-Series (Performance Line)","XT4","XT5","XT6","XTS (Discontinued)"],"Chevrolet":["Apache (Classic)","Astro","Aveo / Sonic","Aveo Sedan","Beat","Bel Air (Classic)","Biscayne (Classic)","Blazer","Blazer EV","Bolt EUV","Bolt EV","C/K Series","Camaro","Caprice","Captiva","Cavalier","Celebrity (Discontinued)","Celta","Chevelle SS (Classic)","Colorado","Combo (Concept Van)","Corvette (Stingray, Z06, ZR1, E-Ray)","Cruze","Cruze Hatchback","El Camino (Car-Truck Hybrid)","Equinox","Equinox EV","Express Van","HHR (Heritage)","Impala","Kalos","Lova","Lumina APV","Malibu","Montana","Monte Carlo","Nova (Chevy II)","Nova SS","Onix","Opala SS (Brazil)","Optra","Optra5","Orlando","Prisma","S-10","SS (Sedan)","Sail Hatchback","Sail Sedan","Silverado 1500","Silverado EV","Silverado HD (2500 / 3500)","Spark (Matiz)","Suburban","Tahoe","Tracker","Trailblazer","Traverse","Trax","Uplander","Van G20","Volt (Plug-in Hybrid)"],"Chrysler":["200","300","Airflow Concept","Cirrus","Concorde","Grand Voyager","Halcyon Concept","Imperial","LHS","Neon","New Yorker","Pacifica","Pacifica Hybrid","Portal Concept","Sebring","Town & Country","Voyager"],"Dodge":["Avenger","Caliber","Challenger","Charger","Dart","Durango","Hornet","Viper"],"Ford":["Aspire","Bronco","Bronco Sport","C-Max","Contour (Discontinued)","Courier (Compact Pickup)","E-Transit (Electric)","EcoSport","Edge","Escape (Kuga)","Escort (Discontinued)","Escort RS Cosworth (Historic Performance Model)","Everest (Endeavour)","Expedition","Explorer","F-150","F-250 Super Duty","F-350 Super Duty","F-450 Super Duty","Falcon (Discontinued)","Fiesta","Fiesta ST","Flex (Discontinued)","Focus","Focus RS","Focus ST","Freestyle (Cross-hatch SUV variant)","Fusion (Mondeo)","GT (Supercar)","Ka / Ka+","Maverick","Mustang","Mustang GT","Mustang Mach 1","Mustang Shelby GT350 / GT500","Puma","RS200 (Historic Rally Car)","Ranger","Raptor (Performance Pickup)","SuperVan (Performance Concept Van)","Taurus","Territory","Tourneo Connect","Tourneo Courier","Tourneo Custom","Transit","Transit Connect","Transit Custom"],"GMC":["Acadia","C/K Series","Caballero","Canyon","Denali XT Concept","Envoy","Granite Concept","Handi-Van (Classic)","Hummer EV Pickup","Hummer EV SUV","Jimmy","Rally Wagon","S-15","Safari","Savana","Sierra 1500","Sierra AT4","Sierra Denali","Sierra EV","Sierra HD (2500 / 3500)","Sonoma","Sprint","Syclone (Performance Truck)","Terradyne Concept","Terrain","Typhoon","Value Van (Step Van)","Vandura","Yukon","Yukon XL"],"Hennessey":["Electric Hypercar (Rumored)","Exorcist 30th Anniversary Edition","Exorcist Camaro ZL1","Goliath 650","Goliath 6x6","Goliath 700","H700 Corvette C8","Mammoth 1000 6x6","Mammoth 1000 TRX","VelociRaptor 600","VelociRaptor 700 Raptor R","VelociRaptor Bronco","Venom F5","Venom F5 Revolution","Venom F5 Revolution Roadster","Venom F5 Roadster"],"Jeep":["Cherokee","Compass","Grand Cherokee","Renegade","Wrangler"],"Lincoln":["Aviator","Continental","Corsair","L100 Concept (Futuristic EV)","LS (Classic)","MKC (Predecessor to Corsair)","MKS (Discontinued)","MKT (Discontinued Crossover)","MKX (Predecessor to Nautilus)","MKZ","Mark E (Rumored EV SUV Project)","Nautilus","Navigator","Navigator L (Extended Version)","Star Concept (EV SUV)","Town Car (Classic Luxury)","Zephyr (China / Revival Model)","Zephyr Reflection Concept"],"Lucid":["Air","Air Grand Touring","Air Pure","Air Sapphire","Air Touring","Gravity","Gravity Sapphire","Project Midsize"],"RAM":["1500 Limited Longhorn","1500 Rebel","1500 TRX Havoc Edition","2500 Power Wagon"],"Rivian":["Electric Delivery Van (EDV)","R1S","R1T","R2","R3","R3X"],"Tesla":["Cybertruck","Model 3","Model S","Model X","Model Y","Roadster (2nd Gen)","Robotaxi (Upcoming)","Semi"]},"years":["2024","2023","2022","2021","2020","2019","2018","2017","2016","2015","2014","2013","2012","2011","2010","2009","2008","2007","2006","2005","2004","2003","2002","2001","2000","1999","1998","1997","1996","1995","1994","1993","1992","1991","1990"],"seatingCapacity":["2","4","5","7","8","9+"],"fuelTypes":["Petrol","Diesel","Electric","Hybrid","CNG","LPG"],"colors":["White","Black","Silver","Grey","Red","Blue","Brown","Green","Yellow","Gold","Orange","Purple"],"states":["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry"],"cities":{"Andhra Pradesh":["Visakhapatnam","Vijayawada","Guntur","Nellore","Kurnool","Rajahmundry","Tirupati","Kadapa","Kakinada","Anantapur","Eluru","Ongole","Chittoor","Srikakulam","Vizianagaram","Proddatur","Tenali","Adoni","Machilipatnam"],"Arunachal Pradesh":["Itanagar","Naharlagun","Pasighat","Tawang","Ziro","Bomdila","Tezu","Seppa","Aalo","Daporijo","Roing","Changlang","Namsai"],"Assam":["Guwahati","Silchar","Dibrugarh","Jorhat","Nagaon","Tinsukia","Tezpur","Bongaigaon","Karimganj","Dhubri","Goalpara","Hailakandi","Barpeta","Lakhimpur"],"Bihar":["Patna","Gaya","Bhagalpur","Muzaffarpur","Purnia","Darbhanga","Bihar Sharif","Arrah","Begusarai","Katihar","Chapra","Sasaram","Sitamarhi","Motihari","Samastipur"],"Chhattisgarh":["Raipur","Bhilai","Bilaspur","Korba","Durg","Rajnandgaon","Jagdalpur","Raigarh","Ambikapur","Dhamtari","Kanker","Mahasamund"],"Goa":["Panaji","Margao","Vasco da Gama","Mapusa","Ponda","Bicholim","Curchorem","Sanquelim","Cuncolim","Quepem"],"Gujarat":["Ahmedabad","Surat","Vadodara","Rajkot","Bhavnagar","Jamnagar","Junagadh","Gandhinagar","Anand","Nadiad","Morbi","Mehsana","Bharuch","Navsari","Valsad"],"Haryana":["Faridabad","Gurgaon","Panipat","Ambala","Yamunanagar","Rohtak","Hisar","Karnal","Sonipat","Panchkula","Kurukshetra","Jhajjar","Bhiwani"],"Himachal Pradesh":["Shimla","Dharamshala","Solan","Mandi","Palampur","Kullu","Hamirpur","Bilaspur","Nahan","Una","Chamba","Kangra"],"Jharkhand":["Ranchi","Jamshedpur","Dhanbad","Bokaro","Deoghar","Hazaribagh","Giridih","Ramgarh","Medininagar","Chirkunda","Chaibasa","Gumla"],"Karnataka":["Bangalore","Mysore","Hubli","Mangalore","Belgaum","Gulbarga","Davanagere","Bellary","Bijapur","Shimoga","Tumkur","Raichur","Udupi","Hassan"],"Kerala":["Thiruvananthapuram","Kochi","Kozhikode","Kollam","Thrissur","Palakkad","Alappuzha","Malappuram","Kannur","Kottayam","Idukki","Pathanamthitta","Kasargod"],"Madhya Pradesh":["Indore","Bhopal","Jabalpur","Gwalior","Ujjain","Sagar","Dewas","Satna","Ratlam","Rewa","Chhindwara","Khargone","Morena"],"Maharashtra":["Mumbai","Pune","Nagpur","Thane","Nashik","Aurangabad","Solapur","Kolhapur","Amravati","Nanded","Akola","Jalgaon","Latur","Sangli"],"Manipur":["Imphal","Thoubal","Bishnupur","Churachandpur","Kakching","Ukhrul","Senapati","Tamenglong","Jiribam","Moirang"],"Meghalaya":["Shillong","Tura","Nongstoin","Jowai","Baghmara","Williamnagar","Nongpoh","Resubelpara","Mairang","Cherrapunji"],"Mizoram":["Aizawl","Lunglei","Champhai","Serchhip","Kolasib","Lawngtlai","Saiha","Mamit","Khawzawl","Zawlnuam"],"Nagaland":["Kohima","Dimapur","Mokokchung","Tuensang","Wokha","Zunheboto","Phek","Mon","Longleng","Kiphire"],"Odisha":["Bhubaneswar","Cuttack","Rourkela","Brahmapur","Sambalpur","Puri","Balasore","Bhadrak","Baripada","Jharsuguda","Kendrapara","Angul"],"Punjab":["Ludhiana","Amritsar","Jalandhar","Patiala","Bathinda","Mohali","Pathankot","Hoshiarpur","Moga","Batala","Firozpur","Sangrur"],"Rajasthan":["Jaipur","Jodhpur","Kota","Bikaner","Ajmer","Udaipur","Bhilwara","Alwar","Bharatpur","Sikar","Tonk","Pali","Jhunjhunu"],"Sikkim":["Gangtok","Namchi","Gyalshing","Mangan","Rangpo","Jorethang","Singtam","Pelling","Ravangla","Yuksom"],"Tamil Nadu":["Chennai","Coimbatore","Madurai","Tiruchirappalli","Salem","Tirunelveli","Tiruppur","Erode","Vellore","Thoothukudi","Nagercoil","Dindigul","Karur","Kanchipuram"],"Telangana":["Hyderabad","Warangal","Nizamabad","Khammam","Karimnagar","Ramagundam","Mahbubnagar","Nalgonda","Adilabad","Suryapet","Sangareddy","Jagtial","Mancherial"],"Tripura":["Agartala","Udaipur","Dharmanagar","Kailasahar","Belonia","Khowai","Ambassa","Teliamura","Sabroom","Amarpur"],"Uttar Pradesh":["Lucknow","Kanpur","Ghaziabad","Agra","Varanasi","Meerut","Prayagraj","Bareilly","Aligarh","Moradabad","Noida","Gorakhpur","Firozabad","Jhansi"],"Uttarakhand":["Dehradun","Haridwar","Roorkee","Haldwani","Rudrapur","Kashipur","Rishikesh","Pithoragarh","Nainital","Almora","Tehri","Mussoorie"],"West Bengal":["Kolkata","Howrah","Durgapur","Asansol","Siliguri","Bardhaman","Malda","Baharampur","Habra","Kharagpur","Jalpaiguri","Haldia"],"Andaman and Nicobar Islands":["Port Blair","Car Nicobar","Diglipur","Mayabunder","Rangat","Hut Bay","Nancowry","Campbell Bay"],"Chandigarh":["Chandigarh"],"Dadra and Nagar Haveli and Daman and Diu":["Daman","Diu","Silvassa"],"Delhi":["New Delhi","Delhi","North Delhi","South Delhi","East Delhi","West Delhi","Central Delhi","Dwarka","Rohini","Shahdara"],"Jammu and Kashmir":["Srinagar","Jammu","Anantnag","Baramulla","Udhampur","Kathua","Pulwama","Rajouri","Sopore","Kupwara"],"Ladakh":["Leh","Kargil","Nubra","Zanskar","Drass","Nyoma","Khalsi","Khaltse"],"Lakshadweep":["Kavaratti","Agatti","Amini","Andrott","Minicoy","Kalpeni"],"Puducherry":["Puducherry","Karaikal","Mahe","Yanam"]}}'),uo=JSON.parse('{"WP":["AJS","Amazonas","Ampere Magnus EX","Ampere Magnus Grand","Ampere Magnus Neo","Ampere Nexus","Ampere Primus","Ampere Reo","Ampere Reo Li Plus","Ampere V48","Ampere Zeal","Ampere Zeal EX","Aprilia","Ariel","Ather 450","Ather 450 Apex","Ather 450X Gen3","Ather Energy","Ather Rizta S","Ather Rizta Z","BMW C 400 GT","BMW C 600 Sport","BMW C 650 GT","BMW F 800 GT","BMW F 800 R","BMW G 310 R","BMW K 1600 GTL","BMW R 1250 GS","BMW R 18 Transcontinental","BMW S 1000 RR","Bajaj Avenger 160 Street","Bajaj Avenger 180","Bajaj Avenger 220 Cruise","Bajaj Boxer 100","Bajaj CT 100","Bajaj Chetak (Classic Petrol)","Bajaj Chetak Electric","Bajaj Chetak Premium","Bajaj Chetak Urbane","Bajaj Discover 100","Bajaj Discover 125","Bajaj Discover 135","Bajaj Dominar 250","Bajaj Dominar 400","Bajaj Freedom 125 (manual gear)","Bajaj Kristal","Bajaj Platina 100","Bajaj Platina 110","Bajaj Platina 110 H-Gear","Bajaj Priya","Bajaj Pulsar 125","Bajaj Pulsar 150","Bajaj Pulsar 180","Bajaj Pulsar 180F","Bajaj Pulsar 220 / 220F","Bajaj Pulsar N125","Bajaj Pulsar N150","Bajaj Pulsar N160","Bajaj Pulsar N250","Bajaj Pulsar NS125","Bajaj Pulsar NS160","Bajaj Pulsar NS200","Bajaj Pulsar NS250","Bajaj Pulsar NS400Z","Bajaj Pulsar RS200","Bajaj Spirit","Bajaj Sunny","Bajaj Super","Bajaj Wave","Benelli","Bimota","Bridgestone 100 GP","Bridgestone 100 Sport","Bridgestone 100 TMX","Bridgestone 100 Trail","Bridgestone 125 TMX","Bridgestone 175 Dual Twin","Bridgestone 175 GP","Bridgestone 175 Hurricane Scrambler","Bridgestone 175 SR","Bridgestone 175 TMX","Bridgestone 200 Dual Twin","Bridgestone 250 Racer Prototype","Bridgestone 350 GP","Bridgestone 350 GTO","Bridgestone 350 GTR","Bridgestone 50 Deluxe","Bridgestone 50 GP","Bridgestone 50 Hurricane","Bridgestone 50 MK II","Bridgestone 50 Sport","Bridgestone 60 Racer","Bridgestone 60 Sport","Bridgestone 60 Trail","Bridgestone 7S","Bridgestone 8A","Bridgestone 90 Sport","Bridgestone BS175","Bridgestone BS350","Bridgestone BS90 Deluxe","Bridgestone BS90 Trail","Bultaco","CFMoto","Cagiva","Cake","Can-Am","DKW 125 Motocross","DKW Block 200","DKW KS 200","DKW Luxus 300","DKW NZ 350","DKW NZ 500","DKW RT 100","DKW RT 125","DKW RT 175","DKW SM 175","DKW SS 350","Daelim","Dafra","Damon Motors","Derbi","Dnepr","Ducati","Energica","Fantic Motor","GASGAS","GESITS","GPX Racing","Gogoro","Hero Destini 110","Hero Destini 125","Hero Destini Prime","Hero Glamour X 125","Hero HF Deluxe","Hero Karizma XMR","Hero Passion Plus","Hero Pleasure +","Hero Splendor Plus","Hero Super Splendor Xtec","Hero XPulse 200 4V","Hero Xoom 110","Hero Xoom 125","Hero Xoom 160","Hero Xtreme 125R","Hero Xtreme 160R","Hero Xtreme 250R","Honda Activa 125","Honda Activa 3G","Honda Activa 4G","Honda Activa 5G","Honda Activa 6G","Honda Benly","Honda CB 125 Hornet","Honda CB 350","Honda CB 350RS","Honda CB1100","Honda CB1300 Super Four","Honda CB223S","Honda CB350","Honda CB350C Special Edition","Honda CB400 Super Four","Honda CB500X","Honda CB650R","Honda CBR125R","Honda CBR250R","Honda CBR400R","Honda CD 110 Dream","Honda DN-01","Honda Dax","Honda Dio","Honda Dio 125","Honda Dream 50","Honda Dream CB250","Honda GB250 Clubman","Honda Gold Wing","Honda Grom","Honda Hornet 2.0","Honda Livo","Honda Monkey","Honda NR750","Honda NT1100","Honda RC213V-S","Honda Rebel 250","Honda SP 125","Honda SP 160","Honda Shine","Honda Shine 100","Honda Super Cub","Honda Unicorn","Honda Valkyrie","Horex 644 Osca","Horex Imperator 400","Horex Regina","Horex Regina Evo","Horex Resident","Horex Resident 350","Horex VR6 Black Edition","Horex VR6 Caf\xe9 Racer","Horex VR6 Classic","Horex VR6 Roadster","Horex VR6 Silver Edition","Husqvarna","Hyosung","IMZ-Ural","Italjet","Jawa 125 Type 351","Jawa 125 Type 355","Jawa 175 Type 356","Jawa 250 Type 559","Jawa 250 Type 590","Jawa 350 OHC Bobber","Jawa 350 OHC Special","Jawa 350 Pionyr","Jawa 350 Type 360","Jawa 350 Type 632","Jawa 350 Type 639","Jawa 350 Type 640 Retro","Jawa 50 Mustang","Jawa 50 Trail","Jawa 660 Dakar","Jawa 660 Vintage ABS","Jawa Bizon","Jawa Minor","Jawa Robot","Jawa Tramp","KTM","Kawasaki","Kinetic Blaze","Kinetic DX EV","Kinetic GF125","Kinetic Green E-Luna","Kinetic Green Zing","Kinetic Green Zulu","Kinetic Nova 135","Kinetic Y2K","Kinetic Zoom","Kymco","LML Adreno FX","LML Energy FX","LML Freedom 110","LML Freedom 125 DX","LML Graptor","LML Moonshot","LML NV 150","LML NV Spl","LML NV T5","LML Orion","LML Select 2","LML Select 4","LML Sensation","LML Star 150","LML Star Deluxe","LML Star Deluxe Export","LML Star Electric","LML Star Euro 150 4T","LML Supremo","LML Vespa PX 150","Lambretta","Lifan","Lightning Motorcycles","Lilac CS-28","Lilac KD","Lilac KH","Lilac LB","Lilac LS-18","Lilac ML","Lilac Magnum","Lilac ST","Lilac SY","Lilac UY","LiveWire","Loncin","MBK","MV Agusta","MZ 1000S","MZ 125","MZ Baghira 660","MZ Classic 125","MZ Classic 300","MZ ES 150","MZ ETZ 250","MZ ETZ 251","MZ Fun 300","MZ RT 125","MZ SM 125","MZ Saxon 500 Tour","MZ Skorpion","MZ TS 250","Mahindra Duro DZ 125","Mahindra Gusto 110","Mahindra Kine 70","Mahindra Mojo XT300","Mahindra Pantero","Mahindra Rodeo 125","Malaguti","Meguro A","Meguro B","Meguro C","Meguro J1 Junior","Meguro J2 Junior","Meguro J3 / J3A","Meguro K1 Stamina","Meguro K2 Stamina","Meguro K3","Meguro R1 Police","Meguro S","Meguro S1","Meguro S2 Junior","Meguro S3 Junior","Meguro S4 Junior","Meguro S5 Junior","Meguro T1 Senior","Meguro T2 Senior","Meguro X1","Meguro Y2 Rex","Meguro Z1","Meguro Z2","Meguro Z3","Meguro Z4","Meguro Z5","Meguro Z6","Meguro Z7 Stamina","Meguro Z97","Meguro Z98","Moto Guzzi","Motus","NIU","NSU 201 OSL","NSU 201 TS","NSU 351 OSL","NSU 501 OSL","NSU Fox","NSU Konsul II","NSU Max 175","NSU Quick 50","NSU Quickly","NSU Sportmax","OSSA","Oben O100 Series","Oben Rorr","Oben Rorr EZ","Oben Rorr EZ Sigma","Okinawa Dual","Okinawa Lite","Okinawa OKHI-90","Okinawa Praise Pro","Okinawa R30","Okinawa Ridge","Okinawa Ridge+","Okinawa iPraise+","Ola Electric","Ola Gig","Ola Roadster","Ola Roadster X","Ola Roadster X+","Ola S1 Air","Ola S1 Pro","Ola S1 X","Ola S1 X+","Ola S1 Z","PURE EV ETrance Neo","PURE EV ETryst 350","PURE EV Epluto 7G","PURE EV Epluto 7G Max","PURE EV ecoDryft","Peugeot Motocycles","QJMotor","Quadro Vehicles","Quantya","Revolt Motors","Revolt RV BlazeX","Revolt RV1","Revolt RV1+","Revolt RV300","Revolt RV400","Revolt RV400 BRZ","Rieju","Royal Enfield","Royal Enfield Bullet 350","Royal Enfield Classic 350","Royal Enfield Classic 650","Royal Enfield Continental GT 650","Royal Enfield Goan Classic 350","Royal Enfield Guerrilla 450","Royal Enfield Himalayan 450","Royal Enfield Hunter 350","Royal Enfield Interceptor 650","Royal Enfield Meteor 350","Royal Enfield Shotgun 650","Royal Enfield Super Meteor 650","SUNRA","SYM","Savic","Stallions","Suzuki Access 125","Suzuki Access 125 (1st Gen)","Suzuki Access 125 BS6","Suzuki Access 125 Bluetooth","Suzuki Access 125 SE","Suzuki Address","Suzuki Avenis 125","Suzuki Avenis 125 (2022)","Suzuki Burgman 200","Suzuki Burgman 400","Suzuki Burgman Electric","Suzuki Burgman Street 125","Suzuki Burgman Street 125 (2018)","Suzuki Burgman Street EX","Suzuki Colleda","Suzuki DR-Z400S","Suzuki Fiero","Suzuki Fiero FX","Suzuki GS1000","Suzuki GS150R","Suzuki GS400","Suzuki GS750","Suzuki GSX-8R","Suzuki GSX-R1000","Suzuki GSX-R125","Suzuki GSX-R600","Suzuki GSX-R750","Suzuki GSX-S1000","Suzuki GSX-S125","Suzuki GSX-S750","Suzuki GSX1100S Katana","Suzuki GSX250R","Suzuki GT250","Suzuki GT380","Suzuki GT550","Suzuki GT750","Suzuki Gixxer","Suzuki Gixxer 250","Suzuki Gixxer SF","Suzuki Gixxer SF 250","Suzuki Gladius 650","Suzuki Hayabusa","Suzuki Hayate","Suzuki Heat","Suzuki Heat Scooter (concept)","Suzuki Hustler 90","Suzuki Inazuma 250","Suzuki Intruder 150","Suzuki Katana","Suzuki Let\'s","Suzuki Let\'s (2014 Version)","Suzuki Power Free","Suzuki RM-Z450","Suzuki SV650","Suzuki Samurai","Suzuki Shaolin","Suzuki Shogun","Suzuki SkyDrive 125","Suzuki Slingshot","Suzuki Step 125","Suzuki Swish 110","Suzuki Swish 125","Suzuki Swish 125 (1st Gen)","Suzuki T20","Suzuki V-Strom 1050","Suzuki V-Strom 250","Suzuki V-Strom 650","Suzuki V-Strom 800DE","Suzuki V-Strom SX","Suzuki Zeus","Suzuki Zeus Scooter Concept","TVS Apache RR 310","TVS Apache RTR 160","TVS Apache RTR 160 4V","TVS Apache RTR 180","TVS Apache RTR 200 4V","TVS Jupiter","TVS Jupiter 125","TVS Ntorq 125","TVS Radeon","TVS Raider 125","TVS Ronin","TVS Scooty Pep Plus","TVS Sport","TVS Star City Plus","TVS Zest 110","Tohatsu 125 GP","Tohatsu 125 Racer","Tohatsu 125 Runpet","Tohatsu 125 Scooter","Tohatsu 125 Sport","Tohatsu 150 Deluxe","Tohatsu 150 Sport","Tohatsu 175 Scooter","Tohatsu 175 Twin","Tohatsu 200 Clubman","Tohatsu 200 GP","Tohatsu 200 Racer","Tohatsu 250 Clubman","Tohatsu 250 GP","Tohatsu 250 Racer","Tohatsu 250 Runpet","Tohatsu 250 Sports Twin","Tohatsu 250 Twin","Tohatsu 50 GP","Tohatsu 60 Runpet Racer","Tohatsu 60 Super Sports","Tohatsu 90 Sport","Tohatsu Runpet","Tohatsu Runpet Deluxe","Tohatsu Runpet Sport 60","Tohatsu Runpet Sports","Tohatsu Runpet Super","Tohatsu Runpet Super Sports","Tohatsu Runpet Trail","Tork Kratos","Tork Kratos R","Tork Kratos R Urban","Tork T6X","Triumph","Ultraviolette","Ultraviolette F77","Ultraviolette F77 Mach 2","Ultraviolette F77 SuperStreet","Ultraviolette F99","Ultraviolette Shockwave","Ultraviolette Tesseract","Ultraviolette X47","Ultraviolette X47 Crossover","Ural","Verge Motorcycles","Viar","Voxan","Wanderer","YADEA","Yadea","Yamaha Aerox 155","Yamaha Alpha","Yamaha BW\'S","Yamaha Bolt","Yamaha Crux","Yamaha Cygnus Ray Z","Yamaha Cygnus Ray ZR","Yamaha Enticer","Yamaha FJR1300","Yamaha FZ-S","Yamaha FZ-S FI V2","Yamaha FZ-S FI V3","Yamaha FZ-X","Yamaha FZ-X Hybrid","Yamaha FZ16","Yamaha FZ25","Yamaha FZS-FI V4","Yamaha Fascino 125","Yamaha Fazer 150","Yamaha Fazer 25","Yamaha Gladiator","Yamaha Jog","Yamaha Libero","Yamaha MT-03","Yamaha MT-07","Yamaha MT-09","Yamaha MT-10","Yamaha MT-15 V1","Yamaha MT-15 V2","Yamaha Majesty","Yamaha NMAX","Yamaha Neo\'s","Yamaha R15 V1","Yamaha R15 V2","Yamaha R15 V3","Yamaha R15 V4","Yamaha R15M","Yamaha R3","Yamaha RD350","Yamaha RX100","Yamaha RX135","Yamaha RXG","Yamaha RXZ","Yamaha RZ350","Yamaha Ray 125","Yamaha Ray ZR 125","Yamaha Ray ZR Street Rally 125","Yamaha SR400","Yamaha SR500","Yamaha SS125","Yamaha SZ-R","Yamaha SZ-RR","Yamaha TMAX","Yamaha Tenere 700","Yamaha Tracer 700","Yamaha Tracer 900","Yamaha VMAX","Yamaha XMAX","Yamaha XSR700","Yamaha XSR900","Yamaha XT250 Serow","Yamaha YA-1","Yamaha YDS-1","Yamaha YZF-R1","Yamaha YZF-R15","Yamaha YZF-R25","Yamaha YZF-R3","Yamaha YZF-R6","Yamaha YZF-R7","Yezdi 175 Roadking Junior","Yezdi 250 Constellation","Yezdi 250 Enduro","Yezdi 250 Rally","Yezdi 250 Safari","Yezdi 250 Sport","Yezdi 250 Twinport Racer","Yezdi 250 bike B","Yezdi 250 bike C","Yezdi Adventure Rally Spec","Yezdi Bobber Dark Series","Yezdi Classic 250 Export","Yezdi Colt","Yezdi Deluxe 250","Yezdi Roadking GP","Yezdi Roadster Chrome Edition","Yezdi Scrambler 250 (Classic)","Yezdi Scrambler Midnight Blue","Yezdi Trail","Yezdi Type D","Zero Motorcycles","Zongshen","Z\xfcndapp 200 S","Z\xfcndapp 250 S Trophy","Z\xfcndapp 448","Z\xfcndapp GTS 50","Z\xfcndapp K 80","Z\xfcndapp KS 175","Z\xfcndapp KS 80","Z\xfcndapp Z 300"],"a5":{"Royal Enfield":["Hunter 350 Metro","Hunter 350 Mid","Hunter 350 Retro","Hunter 350 Standard","Hunter 350 Top"],"Savic":["C-Series (entry variant Omega)","C-Series Alpha","C-Series Delta","C-Series Omega"],"Husqvarna":["701 Enduro","701 Supermoto","CR 125","CR 250","FC 250","FC 350","FC 450","FE 250","FE 350","FE 450","FE 501","FS 450","FX 350","FX 450","Norden 901","Norden 901 Expedition","SM 450R","SM 510R","SM 610","SM 630","SMR 449","SMR 510","SMR 511","Svartpilen 125","Svartpilen 250","Svartpilen 401","Svartpilen 701","TC 125","TC 250","TC 300","TC 450","TC 85","TE 150","TE 150i","TE 250","TE 300","TE 310","TE 410","TE 450","TE 510","TE 570","TE 610","TE 610E","TE 630","TX 300","TX 450","Vitpilen 125","Vitpilen 250","Vitpilen 401","Vitpilen 701","WR 125","WR 250","WR 300"],"KTM":["1090 Adventure","1090 Adventure R","1190 Adventure","1190 Adventure R","125 Duke","1290 Super Adventure R","1290 Super Adventure S","1290 Super Adventure T","1290 Super Duke GT","1290 Super Duke R","200 Duke","250 Duke","390 Duke","50 SX Mini","65 SX","690 Duke","690 Enduro R","690 SMC R","790 Adventure","790 Adventure R","790 Duke","85 SX","890 Adventure","890 Adventure R","890 Adventure Rally","890 Duke","890 Duke R","990 Adventure","990 Adventure R","990 Duke","990 Super Duke","EXC 250","EXC 350 F","EXC 450 F","EXC 500 F","Freeride 250 F","Freeride E-XC","RC 125","RC 200","RC 250","RC 390","RC 8C","RC8 1190","SX 125","SX 250","SX-F 250","SX-F 350","SX-F 450"],"Amazonas":["Amazonas 1600","Amazonas AME-110","Amazonas AME-125","Amazonas AME-150","Amazonas AME-250 C1"],"Dafra":["Cruisym 150","Cruisym 300","Joyride 300 ABS","Maxsym 400 GT","NH 190","NH 300","NHX 190"],"Can-Am":["Canyon XT","Origin (Electric)","Pulse (Electric)","Renegade 850 X XC","Ryker Sport 900","Spyder F3-S","Spyder RT Limited"],"Benelli":["502 C","502C","752S","900RS","BN 302","BN 600","Imperiale 400","Leoncino 250","Leoncino 500","Leoncino 800","Leoncino 800 Trail","Quattro 500","Sei 750","Sei 900","TNT 125","TNT 150","TNT 300","TNT 600i","TNT 899","TNT R160","TRK 251","TRK 502","TRK 502 X","TRK 502X","TRK 702","TRK 702X","Tornado Naked Tre 1130","Tornado Tre 1130 K","Tornado Tre 900","Tre 1130 K Amazonas","Velvet 125","Velvet 250"],"CFMoto":["1250TR-G","300CL-X","300NK","300SR","400NK","450CL-C","450NK","450SR","650GT","650MT","650NK","700CL-X Heritage","700CL-X Sport","700MT","800MT Explore","800MT Touring","800NK","Papio CL-X","Papio SS"],"Loncin":["CR1 125","CR250","JL150-58 CR1","LX110-36","LX150-76","SX2 250"],"NIU":["F400i","KQi Air","KQi2 Pro","KQi3 Sport","MQi GT","MQi+ Sport","NIU MQi+ Sport","NIU NQi GT","NQi GT","NQi GTS","RQi Electric Motorcycle","UQi GT","UQi Sport","XQi3 Electric Dirt Bike"],"QJMotor":["SRC 250","SRC 500","SRK 125 R","SRK 400","SRT 600 S","SRT 900 S","SRV 125","TRX 125"],"SUNRA":["Amalfi","Crystal 2","Grace","K6","Miku Super"],"YADEA":["C1S","E8S Pro","G5","KS5 Pro","M6","S-Like","X3","Y1S"],"Zongshen":["AQS401","CUBE","Cyclone RG3","Cyclone RX6","RX1S","RX600","YOMI","ZS 125-50","ZS 200 GS","ZS 250 GS"],"Lifan":["KPX 250","LF100-C (II) PONY 100II","LF150-10B (KP150)","LF150-10S (KPR150)","LF150-5U (KPmini 150)","LF250 GY-2 Cossack","V16 (LF250-E)","V16 Plus (LF250-K)","V16S (LF250-R)","X-Pect 200"],"Zero Motorcycles":["Zero DSR/X","Zero S","Zero XB","Zero XE"],"Energica":["Energica EGO","Energica EsseEsse9","Energica Eva Ribelle"],"Damon Motors":["Damon HyperFighter","Damon HyperSport"],"Lightning Motorcycles":["Lightning LS-218"],"Verge Motorcycles":["Verge TS Pro","Verge TS Ultra"],"Cake":["Cake Kalk INK","Cake \xd6sa Lite"],"Yadea":["Yadea C1S","Yadea G5"],"Gogoro":["2 Series Premium","CrossOver 50","CrossOver GX250","CrossOver S","Delight","Gogoro SuperSport","Gogoro VIVA","JEGO","Pulse","SuperSport","VIVA MIX","VIVA XL"],"Ultraviolette":["Ultraviolette F77","Ultraviolette X47 Crossover"],"Ather Energy":["Ather 450X","Ather 450X Pro"],"Ola Electric":["Ola Roadster Pro","Ola Roadster X"],"Revolt Motors":["Revolt RV300","Revolt RV400"],"MBK":["Booster NG 50","Booster Spirit 50","Evolis 50","Flipper 50","Kilibre 300","Mach G 50","Nitro Naked 50","Ovetto 50","Skycruiser 125","Skyliner 125","X-Limit 50","X-Power 50"],"Peugeot Motocycles":["Django 125","Django Classic 125","Django Classic 50","Kisbee 125","Kisbee 50","Metropolis 400","PM-01 125","PM-01 300","Pulsion 125","Speedfight 50","Streetzone 50","Tweet 125","Tweet 50","XP400","e-Streetzone"],"Voxan":["Black Magic","Caf\xe9 Racer","Charade Racing","GTV 1200","Roadster","Scrambler","Street Scrambler","VB1","VX10","Wattman"],"BMW G 310 R":["G 310 R (entry-level naked)"],"BMW R 1250 GS":["R 1250 GS (adventure tourer)"],"BMW S 1000 RR":["S 1000 RR (supersport)"],"BMW K 1600 GTL":["K 1600 GTL (luxury tourer)"],"BMW R 18 Transcontinental":["R 18 Transcontinental (cruiser)"],"BMW F 800 GT":["F 800 GT (sport-touring)"],"BMW C 400 GT":["C 400 GT (maxi-scooter)"],"BMW F 800 R":["F 800 R (naked)"],"BMW C 600 Sport":["C 600 Sport (maxi-scooter)"],"BMW C 650 GT":["C 650 GT (maxi-scooter touring)"],"DKW RT 125":["RT 125 (single-cylinder 2-stroke, circa 1939 onward)"],"DKW RT 175":["RT 175 (single-cylinder 2-stroke, post-war variant)"],"DKW NZ 350":["NZ 350 (346  single-cylinder, Wehrmacht dispatch bike)"],"DKW NZ 500":["NZ 500 (489  twin-cylinder 2-stroke, 1939-41)"],"DKW SM 175":["SM 175 (moped / light motorcycle, 1925 era)"],"DKW Block 200":["Block 200 (200  single-cylinder 2-stroke, 1931-33)"],"DKW 125 Motocross":["125 Motocross (late 1960s/early 1970s motocross )"],"DKW Luxus 300":["Luxus 300 (1929-30 300 )"],"DKW SS 350":["SS 350 (racing 350 , supercharged twin-piston)"],"DKW RT 100":["RT 100 (100  two-stroke early )"],"DKW KS 200":["KS 200 (200  single-cyl two-stroke)"],"Horex Regina":["Regina (1949-1956, 250/342/399  single)"],"Horex Resident":["Resident (1955 350 )"],"Horex Imperator 400":["Imperator 400 (1954 twin-cylinder)"],"Horex 644 Osca":["644 Osca (1988 small production variant)"],"Horex VR6 Roadster":["VR6 Roadster (2013 onwards, 1218  V6)"],"Horex VR6 Classic":["VR6 Classic (update of VR6 series)"],"Horex VR6 Black Edition":["VR6 Black Edition (limited special edition)"],"Horex Regina Evo":["Regina Evo (2023 revival , 600  single)"],"Horex VR6 Caf\xe9 Racer":["VR6 Caf\xe9 Racer (V6 1,218  variant)"],"Horex VR6 Silver Edition":["VR6 Silver Edition (limited run V6)"],"Horex Resident 350":["Resident 350 (1955 , 349  single)"],"MZ RT 125":["RT 125 (125 two-stroke single)"],"MZ 125":["125/2-4 series (123-125 two-stroke)"],"MZ ES 150":["ES 150 (143  / 150 two-stroke single)"],"MZ TS 250":["TS 250 (250 two-stroke single)"],"MZ ETZ 250":["ETZ 250 (250 enduro/road twin-shock)"],"MZ Saxon 500 Tour":["Saxon 500 Tour (500 single/twin variant)"],"MZ Skorpion":["Skorpion (660 four-stroke single)"],"MZ 1000S":["1000S (998/996 parallel twin)"],"MZ Classic 300":["Classic 300 (291 single)"],"MZ SM 125":["SM 125 (supermoto, 124  four-stroke single)"],"MZ ETZ 251":["ETZ 251 (247  two-stroke single)"],"MZ Classic 125":["Classic 125 (125  single)"],"MZ Fun 300":["Fun 300 (291  single, styled cruiser)"],"MZ Baghira 660":["Baghira 660 (660  four-stroke single)"],"NSU 201 TS":["201 TS (200  1-cyl ioe)"],"NSU 201 OSL":["201 OSL (198  overhead-valve single)"],"NSU 351 OSL":["351 OSL (346 1-cyl ohv)"],"NSU 501 OSL":["501 OSL (500  1-cyl ohv)"],"NSU Konsul II":["Konsul II (500  single-cyl export variant)"],"NSU Quick 50":["Quick 50 (50  lightweight 2-stroke)"],"NSU Max 175":["Max 175 (174  single)"],"NSU Fox":["Fox (98  four-stroke single, 1948-60)"],"NSU Quickly":["Quickly (49  two\u2010stroke moped series)"],"NSU Sportmax":["Sportmax (250  twin\u2010shock sport version)"],"Wanderer":["2PS","350 (Type W3)","3PS","4PS","5PS (Wanderer 500)","616","K500","K600","W250","W500 (Boxer)","Wanderer 200","Wanderer 300","Wanderer 350 Touring","Wanderer 350S","Wanderer 450","Wanderer 500S","Wanderer 680","Wanderer K750 Prototype","Wanderer Sport 500"],"Z\xfcndapp GTS 50":["GTS 50 (moped/mokick series)"],"Z\xfcndapp KS 175":["KS 175 (Type 521-50/521-51, 1977-82)"],"Z\xfcndapp 200 S":["200 S (1955-58 2-stroke single)"],"Z\xfcndapp 250 S Trophy":["250 S Trophy (1956-64 245/250  single)"],"Z\xfcndapp 448":["448 (moped series, late 1970s-82)"],"Z\xfcndapp KS 80":["KS 80 (Leichtkraftrad, 78\u2009 1981-84)"],"Z\xfcndapp Z 300":["Z 300 (1928-30 297\u2009 two-stroke)"],"Z\xfcndapp K 80":["K 80 (Typen 540 series 1981-84)"],"Ampere Nexus":["Nexus (high-speed family e-scooter, 2024)"],"Ampere Magnus Grand":["Magnus Grand (2025 refreshed version)"],"Ampere Magnus Neo":["Magnus Neo (2025 variant)"],"Ampere Magnus EX":["Magnus EX (earlier high-speed e-scooter)"],"Ampere Reo":["Reo (entry-level e-scooter)"],"Ampere Zeal":["Zeal (light-weight e-scooter)"],"Ampere Primus":["Primus (upcoming / new generation high-speed e-scooter)"],"Ampere Zeal EX":["Zeal EX (upgraded light-weight e-scooter)"],"Ampere V48":["V48 (low-speed commuter e-scooter)"],"Ampere Reo Li Plus":["Reo Li Plus (entry-level e-scooter)"],"Ather 450":["450 (first generation performance e-scooter)"],"Ather 450X Gen3":["450X Gen3 (updated performance variant 3.7 kWh battery)"],"Ather 450 Apex":["450 Apex (limited-edition top variant)"],"Ather Rizta S":["Rizta S (family convenience variant, 2.9 kWh)"],"Ather Rizta Z":["Rizta Z (family convenience variant, 3.7 kWh)"],"Bajaj Chetak Electric":["Chetak"],"Bajaj Chetak Premium":["Chetak Premium"],"Bajaj Chetak Urbane":["Chetak Urbane"],"Bajaj Chetak (Classic Petrol)":["Chetak (2-stroke / 4-stroke)"],"Bajaj Super":["Super"],"Bajaj Priya":["Priya"],"Bajaj Sunny":["Sunny"],"Bajaj Wave":["Wave"],"Bajaj Kristal":["Kristal DTS-i"],"Bajaj Spirit":["Spirit"],"Bajaj CT 100":["CT 100"],"Bajaj Platina 100":["Platina 100"],"Bajaj Platina 110":["Platina 110"],"Bajaj Platina 110 H-Gear":["Platina 110 H-Gear"],"Bajaj Boxer 100":["Boxer 100"],"Bajaj Discover 100":["Discover 100"],"Bajaj Discover 125":["Discover 125"],"Bajaj Discover 135":["Discover 135"],"Bajaj Pulsar 125":["Pulsar 125"],"Bajaj Pulsar NS125":["NS125"],"Bajaj Pulsar N125":["Pulsar N125"],"Bajaj Pulsar 150":["Pulsar 150"],"Bajaj Pulsar N150":["Pulsar N150"],"Bajaj Pulsar NS160":["NS160"],"Bajaj Pulsar N160":["Pulsar N160"],"Bajaj Pulsar 180":["Pulsar 180"],"Bajaj Pulsar 180F":["Pulsar 180F"],"Bajaj Pulsar 220 / 220F":["Pulsar 220 / 220F"],"Bajaj Pulsar NS200":["NS200"],"Bajaj Pulsar RS200":["RS200"],"Bajaj Pulsar NS250":["NS250"],"Bajaj Pulsar N250":["Pulsar N250"],"Bajaj Pulsar NS400Z":["NS400Z"],"Bajaj Avenger 160 Street":["Avenger 160 Street"],"Bajaj Avenger 180":["Avenger 180"],"Bajaj Avenger 220 Cruise":["Avenger 220 Cruise"],"Bajaj Dominar 250":["Dominar 250"],"Bajaj Dominar 400":["Dominar 400"],"Bajaj Freedom 125 (manual gear)":["Freedom 125"],"Hero Pleasure +":["Pleasure +"],"Hero Destini 110":["Destini 110"],"Hero Destini Prime":["Destini Prime"],"Hero Destini 125":["Destini 125"],"Hero Xoom 110":["Xoom 110"],"Hero Xoom 125":["Xoom 125"],"Hero Xoom 160":["Xoom 160"],"Hero HF Deluxe":["HF Deluxe"],"Hero Splendor Plus":["Splendor Plus"],"Hero Passion Plus":["Passion Plus"],"Hero Super Splendor Xtec":["Super Splendor Xtec"],"Hero Glamour X 125":["Glamour X 125"],"Hero Xtreme 125R":["Xtreme 125R"],"Hero Xtreme 160R":["Xtreme 160R"],"Hero XPulse 200 4V":["XPulse 200 4V"],"Hero Xtreme 250R":["Xtreme 250R"],"Hero Karizma XMR":["Karizma XMR"],"Honda Activa 6G":["Activa 6G"],"Honda Activa 125":["Activa 125"],"Honda Dio":["Dio"],"Honda Dio 125":["Dio 125"],"Honda Activa 3G":["Activa 3G"],"Honda Activa 4G":["Activa 4G"],"Honda Activa 5G":["Activa 5G"],"Honda CD 110 Dream":["CD 110 Dream"],"Honda Livo":["Livo"],"Honda Shine 100":["Shine 100"],"Honda Shine":["Shine"],"Honda SP 125":["SP 125"],"Honda Unicorn":["Unicorn"],"Honda Hornet 2.0":["Hornet 2.0"],"Honda CB 125 Hornet":["CB 125 Hornet"],"Honda SP 160":["SP 160"],"Honda CB 350":["CB 350"],"Honda CB 350RS":["CB 350RS"],"Honda CB350C Special Edition":["CB350C Special Edition"],"Jawa 125 Type 351":["Type 351"],"Jawa 125 Type 355":["Type 355 (1950s upgrade of 351)"],"Jawa 175 Type 356":["Type 356"],"Jawa 250 Type 559":["Type 559"],"Jawa 250 Type 590":["Type 590"],"Jawa 350 Type 360":["Type 360"],"Jawa 350 Type 632":["Type 632 (Mid-1980s restyle)"],"Jawa 350 Type 639":["Type 639"],"Jawa 350 Type 640 Retro":["Type 640 Retro (Final evolution twin, 1990s)"],"Jawa 350 OHC Special":["OHC Special"],"Jawa 660 Vintage ABS":["660 Vintage ABS"],"Jawa 660 Dakar":["660 Dakar (Adventure variant prototype)"],"Jawa Robot":["Robot"],"Jawa Minor":["Minor"],"Jawa Tramp":["Tramp"],"Jawa Bizon":["Bizon (Type 633, 1970s prototype)"],"Jawa 350 OHC Bobber":["OHC Bobber"],"Jawa 350 Pionyr":["Pion\xfdr (Type 550 / 555 / 05 / 20 mini-bikes)"],"Jawa 50 Mustang":["Mustang (Compact commuter, 1970s)"],"Jawa 50 Trail":["50 Trail (Off-road variant of Mustang)"],"Kinetic Nova 135":["Nova 135 (1996-2000 geared scooter)"],"Kinetic Y2K":["Y2K"],"Kinetic Zoom":["Zoom"],"Kinetic Blaze":["Blaze"],"Kinetic GF125":["GF125"],"Kinetic DX EV":["DX EV (2025 electric scooter revival)"],"Kinetic Green Zing":["Green Zing (Electric scooter, 2024-25)"],"Kinetic Green Zulu":["Green Zulu (Electric scooter, 2024\u201325 high speed variant)"],"Kinetic Green E-Luna":["E-Luna"],"LML Vespa PX 150":["Vespa PX 150 (licensed Piaggio , early 1990s)"],"LML NV 150":["NV 150 (Steel-bodied geared scooter, 2-stroke)"],"LML NV Spl":["NV Spl (Special edition, chrome & paint upgrades)"],"LML Select 2":["Select 2"],"LML Select 4":["Select 4 (Four-stroke variant for export markets)"],"LML Star 150":["Star 150 (Export , marketed as Stella in USA)"],"LML Star Deluxe":["Star Deluxe (Classic steel body scooter, 2-stroke)"],"LML Star Euro 150 4T":["Star Euro 150 4T (Euro-spec 4-stroke version)"],"LML Freedom 110":["Freedom (Commuter motorcycle, entry-level)"],"LML Freedom 125 DX":["Freedom 125 DX (Upgraded commuter version)"],"LML Graptor":["Graptor"],"LML Adreno FX":["Adreno FX"],"LML Energy FX":["Energy FX (Commuter variant of Adreno FX)"],"LML Supremo":["Supremo"],"LML Sensation":["Sensation (Electric scooter concept, 2023)"],"LML Star Electric":["Star Electric (2023 retro electric scooter)"],"LML Moonshot":["Moonshot (Electric bike / scrambler concept, 2023)"],"LML Orion":["Orion (Electric e-bike / smart commuter, 2023)"],"LML Star Deluxe Export":["Star Deluxe Export (Rebadged Stella for USA and Europe)"],"LML NV T5":["NV T5 (Performance geared scooter prototype)"],"Mahindra Pantero":["Pantero (106.7 commuter)"],"Mahindra Gusto 110":["Gusto 110 (109.6  scooter)"],"Mahindra Rodeo 125":["Rodeo 125 (124.6 scooter)"],"Mahindra Duro DZ 125":["Duro DZ 125 (124.66  scooter)"],"Mahindra Kine 70":["Kine 70 (71.5  entry-level scooter)"],"Mahindra Mojo XT300":["Mojo XT300 (295  sport-tourer)"],"Oben Rorr":["Rorr (premium electric motorcycle, 100 km/h top speed)"],"Oben Rorr EZ":["Rorr EZ (commuter EV motorcycle, up to 175 km range)"],"Oben Rorr EZ Sigma":["Rorr EZ Sigma (enhanced variant of Rorr EZ, 3.4 kWh & 4.4 kWh batteries)"],"Oben O100 Series":["O100 Series (upcoming sub-\u20b91 lakh electric motorcycle platform)"],"Okinawa Ridge":["Ridge (low-speed e-scooter)"],"Okinawa Dual":["Dual (B2B e-scooter for delivery)"],"Okinawa Lite":["Lite (slow-speed commuter e-scooter)"],"Okinawa R30":["R30 (entry-level e-scooter)"],"Okinawa Praise Pro":["Praise Pro (high-speed e-scooter)"],"Okinawa OKHI-90":["OKHI-90 (high-performance e-scooter, ~85-90\u2009km/h)"],"Okinawa Ridge+":["Ridge+ (high-speed e-scooter)"],"Okinawa iPraise+":["iPraise+ (high-speed e-scooter with Li-ion battery)"],"Ola S1 Pro":["S1 Pro (scooter flagship)"],"Ola S1 X+":["S1 X+ (scooter mid-premium)"],"Ola S1 X":["S1 X (scooter value edition)"],"Ola S1 Air":["S1 Air (scooter commuter variant)"],"Ola S1 Z":["S1 Z (entry-level scooter with removable battery)"],"Ola Gig":["Gig (commercial / light-use scooter)"],"Ola Roadster X":["Roadster X (electric motorcycle entry series)"],"Ola Roadster X+":["Roadster X+ (electric motorcycle premium variant)"],"Ola Roadster":["Roadster (electric motorcycle standard series)"],"PURE EV ETrance Neo":["ETrance Neo (scooter)"],"PURE EV Epluto 7G":["Epluto 7G (scooter)"],"PURE EV Epluto 7G Max":["Epluto 7G Max (scooter, longer-range variant)"],"PURE EV ecoDryft":["ecoDryft (electric motorcycle commuter)"],"PURE EV ETryst 350":["ETryst 350 (electric motorcycle)"],"Revolt RV300":["RV300 (2020-2023)"],"Revolt RV400":["RV400 (flagship electric motorcycle)"],"Revolt RV400 BRZ":["RV400 BRZ (style variant of RV400)"],"Revolt RV1":["RV1 (commuter electric motorcycle)"],"Revolt RV1+":["RV1+ (premium variant of RV1)"],"Revolt RV BlazeX":["RV BlazeX (new tech commuter electric motorcycle 2025)"],"Royal Enfield Hunter 350":["Hunter 350"],"Royal Enfield Classic 350":["Classic 350"],"Royal Enfield Bullet 350":["Bullet 350"],"Royal Enfield Meteor 350":["Meteor 350"],"Royal Enfield Goan Classic 350":["Goan Classic 350"],"Royal Enfield Himalayan 450":["Himalayan 450"],"Royal Enfield Guerrilla 450":["Guerrilla 450"],"Royal Enfield Interceptor 650":["Interceptor 650"],"Royal Enfield Continental GT 650":["Continental GT 650"],"Royal Enfield Super Meteor 650":["Super Meteor 650"],"Royal Enfield Shotgun 650":["Shotgun 650"],"Royal Enfield Classic 650":["Classic 650"],"Suzuki Access 125":["Access 125"],"Suzuki Access 125 SE":["Access 125 Special Edition"],"Suzuki Access 125 BS6":["Access 125 BS6"],"Suzuki Access 125 Bluetooth":["Access 125 Bluetooth Variant"],"Suzuki Swish 125":["Swish 125"],"Suzuki Swish 110":["Swish 110"],"Suzuki Let\'s":["Let\'s 110"],"Suzuki Burgman Street 125":["Burgman Street 125"],"Suzuki Burgman Street EX":["Burgman Street EX"],"Suzuki Burgman Electric":["Burgman Electric (prototype)"],"Suzuki Avenis 125":["Avenis 125"],"Suzuki SkyDrive 125":["SkyDrive 125 (imported)"],"Suzuki Step 125":["Step 125 (early 2000s model)"],"Suzuki Zeus Scooter Concept":["Zeus Concept"],"Suzuki Heat Scooter (concept)":["Heat Scooter Concept"],"Suzuki Access 125 (1st Gen)":["Access 125 (2007 Version)"],"Suzuki Swish 125 (1st Gen)":["Swish 125 (2012 Version)"],"Suzuki Let\'s (2014 Version)":["Let\'s 110 (2014)"],"Suzuki Burgman Street 125 (2018)":["Burgman Street 125 (2018 Launch)"],"Suzuki Avenis 125 (2022)":["Avenis 125 (2022 Launch)"],"Suzuki Samurai":["Samurai"],"Suzuki Shogun":["Shogun"],"Suzuki Shaolin":["Shaolin"],"Suzuki Fiero":["Fiero"],"Suzuki Fiero FX":["Fiero FX"],"Suzuki Heat":["Heat 125"],"Suzuki Zeus":["Zeus 125"],"Suzuki Slingshot":["Slingshot 125"],"Suzuki Hayate":["Hayate 110"],"Suzuki GS150R":["GS150R"],"Suzuki Gixxer":["Gixxer 155"],"Suzuki Gixxer SF":["Gixxer SF 155"],"Suzuki Gixxer 250":["Gixxer 250"],"Suzuki Gixxer SF 250":["Gixxer SF 250"],"Suzuki Intruder 150":["Intruder 150"],"Suzuki Inazuma 250":["Inazuma 250"],"Suzuki V-Strom SX":["V-Strom SX 250"],"Suzuki GSX-S750":["GSX-S750"],"Suzuki Katana":["Katana (2019+ GSX-S1000S based)","Katana 1000"],"Suzuki GSX-R1000":["GSX-R1000","GSX-R1000 / R1000R"],"Suzuki Hayabusa":["GSX-1300R Hayabusa","GSX1300R Hayabusa (1999\u2013present)"],"Suzuki GSX-8R":["GSX-8R"],"Tork T6X":["T6X (first production electric bike prototype 2016-19)"],"Tork Kratos":["Kratos (standard variant electric motorcycle)"],"Tork Kratos R":["Kratos R (upgraded performance variant)"],"Tork Kratos R Urban":["Kratos R Urban Trim (cheaper urban-spec variant)"],"TVS Ntorq 125":["Ntorq 125"],"TVS Jupiter":["Jupiter"],"TVS Jupiter 125":["Jupiter 125"],"TVS Zest 110":["Zest 110"],"TVS Scooty Pep Plus":["Scooty Pep Plus"],"TVS Sport":["Sport"],"TVS Star City Plus":["Star City Plus"],"TVS Radeon":["Radeon"],"TVS Raider 125":["Raider 125"],"TVS Apache RTR 160":["Apache RTR 160"],"TVS Apache RTR 160 4V":["Apache RTR 160 4V"],"TVS Apache RTR 180":["Apache RTR 180"],"TVS Ronin":["Ronin"],"TVS Apache RTR 200 4V":["Apache RTR 200 4V"],"TVS Apache RR 310":["Apache RR 310"],"Ultraviolette F77":["F77 (standard electric motorcycle)"],"Ultraviolette F77 Mach 2":["F77 Mach 2 (upgraded version of F77)"],"Ultraviolette F77 SuperStreet":["F77 SuperStreet (street-oriented variant)"],"Ultraviolette Tesseract":["Tesseract (electric scooter)"],"Ultraviolette X47":["X47 Crossover (electric motorcycle crossover variant)"],"Ultraviolette Shockwave":["Shockwave (off-road electric motorcycle)"],"Ultraviolette X47 Crossover":["X47 Crossover (electric motorcycle crossover segment)"],"Ultraviolette F99":["F99 (electric superbike prototype/limited edition)"],"Yamaha Fascino 125":["Fascino 125"],"Yamaha Ray ZR 125":["Ray ZR","Ray ZR 125"],"Yamaha Ray 125":["Ray"],"Yamaha Aerox 155":["Aerox 155"],"Yamaha BW\'S":["BW\'S (BWS)"],"Yamaha Neo\'s":["Neo\'s"],"Yamaha Cygnus Ray ZR":["Cygnus Ray ZR"],"Yamaha XMAX":["XMAX 300"],"Yamaha TMAX":["TMAX (maxi-scooter)","TMAX 530 / 560 (sport scooter)"],"Yamaha RX100":["RX100","RX100 (Japan/India export)"],"Yamaha RX135":["RX135"],"Yamaha RXG":["RXG"],"Yamaha Libero":["Libero"],"Yamaha Crux":["Crux"],"Yamaha Gladiator":["Gladiator"],"Yamaha SS125":["SS125"],"Yamaha SZ-R":["SZ-R"],"Yamaha SZ-RR":["SZ-RR"],"Yamaha FZ16":["FZ16"],"Yamaha FZ-S":["FZ-S"],"Yamaha FZ-S FI V2":["FZ-S FI V2"],"Yamaha FZ-S FI V3":["FZ-S FI V3"],"Yamaha FZS-FI V4":["FZS-FI V4"],"Yamaha FZ-X":["FZ-X"],"Yamaha FZ-X Hybrid":["FZ-X Hybrid"],"Yamaha FZ25":["FZ25"],"Yamaha Fazer 150":["Fazer 150"],"Yamaha Fazer 25":["Fazer 25"],"Yamaha MT-15 V1":["MT-15 V1"],"Yamaha MT-15 V2":["MT-15 V2"],"Yamaha R15 V1":["R15 V1"],"Yamaha R15 V2":["R15 V2"],"Yamaha R15 V3":["R15 V3"],"Yamaha R15 V4":["R15 V4"],"Yamaha R15M":["R15M"],"Yamaha R3":["R3"],"Yamaha MT-03":["MT-03","MT-03 (JDM naked 321 twin)"],"Yamaha YZF-R1":["YZF-R1","YZF-R1 (998 supersport)"],"Yamaha YZF-R6":["YZF-R6","YZF-R6 (600 supersport)"],"Yamaha YZF-R7":["YZF-R7","YZF-R7 (MT-07 based 689)"],"Yamaha MT-09":["MT-09","MT-09 (JDM 890 triple)"],"Yamaha MT-10":["MT-10","MT-10 (JDM 998 inline-four)"],"Yamaha Ray ZR Street Rally 125":["Ray ZR Street Rally 125"],"Yamaha Alpha":["Alpha"],"Yamaha Cygnus Ray Z":["Cygnus Ray Z"],"Yamaha Enticer":["Enticer"],"Yamaha RZ350":["RZ350"],"Yamaha RXZ":["RXZ"],"Yezdi Classic 250 Export":["Classic Export (1970s export variant)"],"Yezdi 250 bike B":["bike B (Early production, Ideal Jawa Yezdi)"],"Yezdi 250 bike C":["bike C (Improved frame and suspension)"],"Yezdi Type D":["Type D (Prototype 250 touring bike)"],"Yezdi 250 Sport":["Sport (Performance-oriented export version)"],"Yezdi Trail":["Trail (Off-road variant / Scrambler prototype)"],"Yezdi Roadking GP":["Roadking GP (Racing-tuned version for Indian rally)"],"Yezdi 250 Enduro":["Enduro (Off-road / Rally spec bike)"],"Yezdi 250 Rally":["Rally (Competition-tuned racing Yezdi)"],"Yezdi Colt":["Colt (Mini-bike concept for youth riders)"],"Yezdi Deluxe 250":["Deluxe 250 (Improved comfort and chrome version)"],"Yezdi 175 Roadking Junior":["Roadking Junior (Smaller version of the Roadking)"],"Yezdi 250 Safari":["Safari (Export-oriented touring bike)"],"Yezdi 250 Constellation":["Constellation (Prototype based on export Jawa 250)"],"Yezdi Scrambler 250 (Classic)":["Scrambler 250 (1970s off-road racing Yezdi)"],"Yezdi 250 Twinport Racer":["Twinport Racer (Modified Roadking for drag & rally)"],"Yezdi Adventure Rally Spec":["Adventure Rally Spec (Factory-built rally trim)"],"Yezdi Roadster Chrome Edition":["Roadster Chrome Edition (Special finish variant)"],"Yezdi Scrambler Midnight Blue":["Scrambler Midnight Blue (Color & trim edition)"],"Yezdi Bobber Dark Series":["Bobber Dark Series (Special edition, 2024)"],"GESITS":["Electric (G1 base model)","G1 DLX Smart Key","Garuda","Raya G"],"Viar":["Cross X 100 Mini Trail","Cross X 70 Mini Trail","EV1","NX","New Karya 150","New Karya 200","Q1"],"Aprilia":["Caponord 1200","Dorsoduro 900","Falco SL1000","Mana 850","Pegaso 650","RS 125","RS 250","RS 250 Challenge","RS 457","RS 660","RS Cube MotoGP","RSV 1000R","RSV Mille","RSV Tuono 1000","RSV4 1100","RSV4 Factory 1100","RX 125","SX 125","Shiver 900","Tuareg 660","Tuono 660","Tuono 660 Factory","Tuono V4 1100","Tuono V4 1100 RR","Tuono V4 Factory"],"Bimota":["BB1 Supermono","BB3","DB1","DB2","DB3 Mantra","DB4","DB5","DB6 Delirio","DB7","DB8","DB8 SP","DBX","HB1","HB2","HB3","KB2","KB3","SB2","SB3","SB4","SB5","SB6","SB7","SB8K Santamonica","SB8R","Tesi 1D","Tesi 2D","Tesi 3D","Tesi H2","V-Due","YB10 Dieci","YB11 Superleggera","YB3","YB4EI","YB6","YB8","YB9 Bellaria"],"Cagiva":["Alazzurra 350","Alazzurra 650","Canyon 500","Canyon 600","Canyon 900","Elefant 350","Elefant 650","Elefant 750","Elefant 900 AC","Elefant 900ie"],"Ducati":["750SS","851 Strada","900SS","916 SPS","996 Biposto","998S","999R","DesertX","DesertX Rally","Desmosedici RR","Diavel 1260 S","Diavel V4","GT1000","Hypermotard 950","Hypermotard 950 RVE","MH900e","Monster 821","Monster 937","Monster SP","Multistrada 1260 Enduro","Multistrada V2","Multistrada V4","Multistrada V4 Pikes Peak","Panigale V2","Panigale V4","Panigale V4 R","Paul Smart 1000 LE","Scrambler 1100 Sport Pro","Scrambler Desert Sled","Scrambler Full Throttle","Scrambler Icon","Scrambler Nightshift","Sport 1000","Streetfighter V2","Streetfighter V4","Streetfighter V4 SP2","Superleggera V4","Supersport 950","Supersport 950 S","XDiavel Nera"],"Fantic Motor":["Caballero 125","Caballero 125 Explorer","Caballero 250","Caballero 50","Caballero 500","Caballero 700","Caballero Deluxe 500","Caballero Flat Track 500","Caballero Rally 500","Caballero Scrambler 700"],"Italjet":["Ascot 50","Buccaneer 250i","Cafe Racer 250","Clic 50","Dragster 125","Dragster 180","Dragster 200","Dragster 250","Dragster 50 LC","Dragster 70","Formula 125","Formula 125 Drag","Formula 125 LC","Formula 50 LC","Formula 50 Minarelli","Grifon 650","Jet Set 125","Jet Set 250","Jet Set 50","Millennium 125","Millennium 250","Mustang 50","Pack 2","Scout 125","Tiffany 50","Torpedo 125","Torpedo 150","Torpedo 250","Torpedo 50","Velocifero 125","Velocifero 50"],"Malaguti":["Centro 125","Centro 160","Ciak 100","Ciak 125","Ciak 50","Drakon 125","Drakon 250","Dune 125","Dune 125 X","Grizzly 50","Grizzly RCX 12","Madison 125","Madison 150","Madison 250","Madison 300","Monte Pro 125","Password 250","Phantom 50","Phantom F12","Phantom F12R","Phantom Max 125","Phantom Max 200","RST 125","RST 50","RST 80","Spidermax GT 500","X3M Enduro 125","X3M Motard 125","XSM 50","XTM 50"],"Lambretta":["DL 150","DL 200","Eibar Li 150","G350","GP 125","GP 150","GP 200","J 100 Cento","J 125 Starstream","J 50","L70 Cento","LN 125","LN 150","Li 125 Series I","Li 125 Series II","Li 150 Series I","Li 150 Series II","Li 150 Special","Lui 50 CL","Luna 50","Luna 75","SX 150","SX 200","Serveta Jet 200","Serveta Li 150 Special","Serveta SX 200","TV 175 Series I","TV 175 Series II","TV 175 Series III","TV 175 Special","TV 200","V-Special V125","V-Special V200","V-Special V50","X300","model A","model B","model C","model D 125","model E","model F","model LD 125"],"Moto Guzzi":["1100 Sport","Airone 250","Alce 500","Bellagio 940","Breva 1100","California 1400 Touring","Centauro 1000","Daytona 1000","Eldorado 1400","Falcone 500","Galletto 192","Galletto 500","Griso 1200 8V","Le Mans 850","MGX-21 Flying Fortress","Norge 1200 GT","Stelvio 1200","V100 Mandello","V11 Sport","V50 Monza","V65 Lario","V7 Special","V7 Stone","V85 TT","V9 Bobber","V9 Roamer"],"MV Agusta":["125 Sport","125 Turismo","150 RS","175 CST","350B","350S Ipotesi","500 3C GP","500 Turismo","600 Tourismo","750 Sport","750S","750S America","Brutale 1000 RR","Brutale 1000 RS","Brutale 675","Brutale 800","Brutale 800 RR","Brutale 800 RR SCS","Dragster 800","Dragster 800 RR","Dragster 800 RR SCS","F3 675","F3 800","F3 800 RC","F4 1000","F4 1000R","F4 1000RR","F4 Claudio","RVS #1","Rivale 800","Rush 1000","Stradale 800","Superveloce 1000 Serie Oro","Superveloce 800","Superveloce 800 Alpine","Superveloce 800 RC","Superveloce 800 S","Turismo Veloce 800","Turismo Veloce Lusso","Turismo Veloce Lusso SCS","Turismo Veloce RC"],"Bridgestone 7S":["7S"],"Bridgestone 8A":["8A"],"Bridgestone 50 Deluxe":["50 Deluxe"],"Bridgestone 50 Sport":["50 Sport"],"Bridgestone 50 MK II":["50 MK II"],"Bridgestone 50 Hurricane":["50 Hurricane"],"Bridgestone 50 GP":["50 GP Racer"],"Bridgestone 60 Sport":["60 Sport"],"Bridgestone 60 Racer":["60 GP Racer"],"Bridgestone 60 Trail":["60 Trail"],"Bridgestone 90 Sport":["90 Sport"],"Bridgestone BS90 Deluxe":["BS90 Deluxe"],"Bridgestone BS90 Trail":["BS90 Trail"],"Bridgestone 100 Sport":["100 Sport"],"Bridgestone 100 TMX":["100 TMX"],"Bridgestone 100 GP":["100 GP Racer"],"Bridgestone 100 Trail":["100 Trail"],"Bridgestone 125 TMX":["125 TMX"],"Bridgestone 175 Dual Twin":["175 DT (Dual Twin)"],"Bridgestone 175 Hurricane Scrambler":["175 HS"],"Bridgestone 175 TMX":["175 TMX"],"Bridgestone 175 SR":["175 SR (Scrambler)"],"Bridgestone BS175":["BS175"],"Bridgestone 175 GP":["175 GP Racer"],"Bridgestone 200 Dual Twin":["200 DT"],"Bridgestone 250 Racer Prototype":["250 GP Prototype"],"Bridgestone 350 GTO":["350 GTO"],"Bridgestone 350 GTR":["350 GTR"],"Bridgestone 350 GP":["350 GP Racer"],"Bridgestone BS350":["BS350 (Tourer)"],"Honda Super Cub":["C100 / C50 / C125"],"Honda Dream 50":["Dream 50 (AC15)"],"Honda Benly":["Benly 50 / 90 / 110"],"Honda Monkey":["Z50 / Monkey 125"],"Honda Dax":["ST50 / ST70 / ST125"],"Honda Grom":["MSX125 / Grom 125"],"Honda CBR125R":["CBR125R"],"Honda CB223S":["CB223S"],"Honda GB250 Clubman":["GB250"],"Honda Rebel 250":["Rebel 250 (CMX250 / CMX300)"],"Honda CBR250R":["CBR250R / CBR250RR"],"Honda Dream CB250":["CB250 (K0\u2013K4)"],"Honda CB350":["CB350 / H\u2019ness CB350"],"Honda CB400 Super Four":["CB400SF / CB400SB"],"Honda CBR400R":["CBR400R"],"Honda CB500X":["CB500X / CB500F"],"Honda CB650R":["CB650R / CBR650R"],"Honda NT1100":["NT1100"],"Honda CB1100":["CB1100 (EX / RS)"],"Honda CB1300 Super Four":["CB1300SF / CB1300SB"],"Honda Gold Wing":["GL1800 Gold Wing / Tour"],"Honda DN-01":["DN-01"],"Honda Valkyrie":["GL1500C / F6C"],"Honda NR750":["NR750 (oval piston)"],"Honda RC213V-S":["RC213V-S (MotoGP replica)"],"Kawasaki":["ER-6n","KLR650","KLX 230R","KX 100","KX 250","KX 450","Ninja 300","Ninja 400","Ninja 650","Ninja H2","Ninja H2R","Ninja ZX-10R","Ninja ZX-25R","Ninja ZX-4R","Ninja ZX-6R","Versys 1000","Versys 650","Versys-X 300","Vulcan S","W175","W230","W800","Z H2","Z H2 SE","Z1300","Z250","Z400","Z650","Z650RS","Z900","Z900RS"],"Lilac ML":["ML (prototype / LA)"],"Lilac LB":["LB (150production)"],"Lilac KD":["KD (150 commuter)"],"Lilac KH":["KH"],"Lilac SY":["SY"],"Lilac UY":["UY"],"Lilac CS-28":["CS-28"],"Lilac LS-18":["LS-18"],"Lilac ST":["ST"],"Lilac Magnum":["Magnum"],"Meguro A":["A (Early single cylinder)"],"Meguro B":["B (Post-war commuter)"],"Meguro C":["C (Commercial)"],"Meguro Z97":["Z97"],"Meguro Z98":["Z98"],"Meguro Z1":["Z1"],"Meguro Z2":["Z2"],"Meguro Z3":["Z3"],"Meguro Z4":["Z4"],"Meguro Z5":["Z5"],"Meguro Z6":["Z6"],"Meguro Z7 Stamina":["Z7"],"Meguro K1 Stamina":["K1 Stamina"],"Meguro K2 Stamina":["K2 Stamina"],"Meguro K3":["K3 (modern revival)"],"Meguro S":["S (Original single)"],"Meguro S2 Junior":["S2 Junior"],"Meguro S3 Junior":["S3 Junior"],"Meguro S4 Junior":["S4 Junior"],"Meguro S5 Junior":["S5 Junior"],"Meguro T1 Senior":["T1 Senior"],"Meguro T2 Senior":["T2 Senior"],"Meguro J1 Junior":["J1 Junior"],"Meguro J2 Junior":["J2 Junior"],"Meguro J3 / J3A":["J3 / J3A"],"Meguro Y2 Rex":["Y2 Rex"],"Meguro R1 Police":["R1 (Police Special)"],"Meguro X1":["X1 (Prototype racer)"],"Meguro S1":["S1 (modern 250 retro)"],"Suzuki Power Free":["Power Free (Suzuki\'s first motorized bicycle, 1952)"],"Suzuki Colleda":["Colleda CO / ST / TT (early 1950s classics)"],"Suzuki T20":["T20 Super Six"],"Suzuki GT250":["GT250 (2-stroke twin)"],"Suzuki GT380":["GT380 (2-stroke triple)"],"Suzuki GT550":["GT550 (2-stroke triple)"],"Suzuki GT750":["GT750 (Water Buffalo)"],"Suzuki GS400":["GS400 (parallel twin)"],"Suzuki GS750":["GS750 (inline-four)"],"Suzuki GS1000":["GS1000 (classic inline-four)"],"Suzuki GSX1100S Katana":["GSX1100S Katana (1981 original)"],"Suzuki GSX-S1000":["GSX-S1000 (modern streetfighter)"],"Suzuki GSX-R750":["GSX-R750 (JDM supersport)"],"Suzuki GSX-R600":["GSX-R600 (600 sport)"],"Suzuki GSX-R125":["GSX-R125 (Japan spec small sport)"],"Suzuki GSX250R":["GSX250R (Japan domestic twin)"],"Suzuki SV650":["SV650 / SV650X"],"Suzuki Gladius 650":["Gladius 650 (SFV650)"],"Suzuki V-Strom 250":["V-Strom 250 / SX"],"Suzuki V-Strom 650":["V-Strom 650 / 650XT"],"Suzuki V-Strom 800DE":["V-Strom 800DE (parallel twin)"],"Suzuki V-Strom 1050":["V-Strom 1050 / DE"],"Suzuki Burgman 200":["Burgman 200 (AN200)"],"Suzuki Burgman 400":["Burgman 400 (AN400)"],"Suzuki Address":["Address 110 / 125 (scooter)"],"Suzuki GSX-S125":["GSX-S125 (naked small sport)"],"Suzuki Hustler 90":["Hustler 90 (trail bike)"],"Suzuki DR-Z400S":["DR-Z400S (dual sport)"],"Suzuki RM-Z450":["RM-Z450 (motocross)"],"Tohatsu Runpet":["Runpet (50 moped series)"],"Tohatsu Runpet Sports":["Runpet Sports (50)"],"Tohatsu Runpet Super":["Runpet Super (high output 50)"],"Tohatsu Runpet Deluxe":["Runpet Deluxe (50commuter)"],"Tohatsu Runpet Sport 60":["Runpet Sport 60 (export version)"],"Tohatsu Runpet Trail":["Runpet Trail (off-road version)"],"Tohatsu Runpet Super Sports":["Runpet Super Sports (60racer)"],"Tohatsu 60 Super Sports":["60 Super Sports"],"Tohatsu 90 Sport":["90 Sport (commuter)"],"Tohatsu 125 Runpet":["125 Runpet"],"Tohatsu 125 Racer":["125 Racer (factory GP bike)"],"Tohatsu 150 Sport":["150 Sport"],"Tohatsu 150 Deluxe":["150 Deluxe (touring )"],"Tohatsu 175 Twin":["175 Twin (OHV parallel twin)"],"Tohatsu 200 Racer":["200 Racer (race prototype)"],"Tohatsu 250 Twin":["250 Twin (two-stroke road bike)"],"Tohatsu 250 Racer":["250 Racer (GP competition motorcycle)"],"Tohatsu 250 Sports Twin":["250 Sports Twin (road sport variant)"],"Tohatsu 250 Runpet":["250 Runpet"],"Tohatsu 125 Scooter":["125 Scooter (urban commuter)"],"Tohatsu 175 Scooter":["175 Scooter (export)"],"Tohatsu 50 GP":["50 GP (factory race bike)"],"Tohatsu 125 GP":["125 GP"],"Tohatsu 200 GP":["200 GP"],"Tohatsu 250 GP":["250 GP (racing motorcycle)"],"Tohatsu 125 Sport":["125 Sport"],"Tohatsu 60 Runpet Racer":["60 Runpet Racer (export competition)"],"Tohatsu 250 Clubman":["250 Clubman (touring type)"],"Tohatsu 200 Clubman":["200 Clubman (road sports)"],"Yamaha YA-1":["YA-1 (Red Dragonfly, first Yamaha bike)"],"Yamaha YDS-1":["YDS-1 (Classic 2-stroke twin)"],"Yamaha RD350":["RD350 (Classic 2-stroke performance)"],"Yamaha SR400":["SR400 (JDM retro thumper)"],"Yamaha SR500":["SR500 (classic 499 single)"],"Yamaha MT-07":["MT-07 (JDM 689 parallel twin)"],"Yamaha XSR700":["XSR700 (retro 689 twin)"],"Yamaha XSR900":["XSR900 (retro 890 triple)"],"Yamaha YZF-R15":["YZF-R15 V4 (Japan spec 155 single)"],"Yamaha YZF-R25":["YZF-R25 (Japan domestic )"],"Yamaha YZF-R3":["YZF-R3 (321twin)"],"Yamaha Tracer 700":["Tracer 700 (sport touring)"],"Yamaha Tracer 900":["Tracer 900 / 9 GT"],"Yamaha FJR1300":["FJR1300 (JDM sport tourer)"],"Yamaha XT250 Serow":["Serow 250 (dual-purpose trail bike)"],"Yamaha Tenere 700":["Tenere 700 (adventure twin)"],"Yamaha Bolt":["Bolt / XV950 (cruiser)"],"Yamaha VMAX":["VMAX (1679 muscle bike)"],"Yamaha Majesty":["Majesty 250 / 400 (maxi-scooter)"],"Yamaha NMAX":["NMAX 125 / 155"],"Yamaha Jog":["Jog 50 (classic scooter)"],"Dnepr":["K-650","K-750","M-72","MT-10/36","MT-11","MT-9","MW 750"],"IMZ-Ural":["8.103-10 Classic","8.123 Solo \u201cClassic\u201d","8.1234 Voyage","M-67.36","M-72K","M70 Anniversary Edition"],"Ural":["Limited Edition Arctic","Limited Edition Gaucho Rambler","Limited Edition MIR","M70 Solo","Ranger","Sportsman","Wolf Solo"],"Daelim":["Daystar 125","Daystar 250","Freewing 125","RoadSport 125","RoadSport 250","Roadwin 125","Roadwin 250R FI","VJ 125 Roadwin","VJF 250 Roadwin"],"Hyosung":["GD250N","GT125","GT250","GT650","GV250","GV300S","GV650","RX125"],"Bultaco":["Astro 250","Astro 360","El Bandido 360","Frontera 250","Frontera 370","Mercurio 200","Streaker 125","Streaker 75"],"Derbi":["Atlantis City 50","Cross City 125","GPR 125 4T 4V","Mulhac\xe9n 125","Rambla 300i","Senda DRD 125 SM","Senda R 125","Variant Start"],"GASGAS":["EC 300","EC 350F","ES 700","EX 450F","MC 125","MC 250","MC 50","SM 700","TXT GP 300"],"OSSA":["250 TE","Explorer 350","Phantom 125","Pluma 230","Stiletto 250","Super Pioneer 250","Yankee 500"],"Rieju":["Aventura 500","Century 125","E-City","MR Ranger 200","MR Ranger 300","NKD 50","RS3 125","Tango 125i"],"Quadro Vehicles":["350D","350S","4 / Quadro4","Nuvion","QV3","Qooder (399  version)","Quadro3 / QV3","Quadro4 / Qooder","X Qooder","eQooder"],"Quantya":["E120","E500","E550 LXT","EVO1 Strada","EVO1 Supermoto","EVO1 Track","Eco1","MMX Junior","vRone"],"Kymco":["AK550","Downtown 200i","K Pipe 125","Like 150","Quannon 125","Super 9","Venox 250","X-Town 300i","Xciting 500 Ri"],"SYM":["ADX 125","Cruisym 300","Jet 14 Evo 125","Maxsym TL 508","Symphony ST 125","Symphony ST 200","Symphony ST 50"],"GPX Racing":["Demon 150GR","Demon GR200R","Drone 150","GTM 250R","Gentleman 200","Legend 150","Legend 250 Twin III","Mad 300","Popz 110","Popz 125","Raptor 180"],"Stallions":["CT 170i Bobber","Makina 170i Cafe","Percheron 450","SM 170i","SM 170i+","SM 250","SM 400","SM150 B&W"],"Triumph":["Tiger 1050","Tiger 1200 GT Pro","Tiger 1200 Rally Explorer","Tiger 800 XC","Tiger 800 XR","Tiger 900 GT","Tiger 900 Rally Pro","Tiger Sport 660","Tiger Sport 800"],"AJS":["7R","7R3","Bobber 125","Cadwell 125","Cadwell 400","Cadwell Clubman","E95 Porcupine Replica","Enduro 250","Highway Star 400","Interceptor 250","JS125 Super","JS125-E5","JSM 50","Model 14","Model 16","Model 16M","Model 18","Model 18S","Model 20","Model 31","Model 31 CSR","Model 33","Model 33 CSR","Model 9","Model D","Model E","Model G8","Model K7","Model S3 V-twin","Modena 125","Porcupine E90","Porcupine E95","RX 125","Regal Raptor 350","Silver Streak","Stormer 250","Stormer 370","Stormer 410","Tempest Roadster 125","Tempest Scrambler 125","Trail 90","Y4 Trials","Y5 Enduro"],"Ariel":["Ace","Ace R","Square Four 1000","Square Four 500","Square Four 600"],"LiveWire":["LiveWire ONE","LiveWire ONE Launch Edition","Project LiveWire Prototype","S2 Adventure","S2 Del Mar","S2 Del Mar Launch Edition","S2 MX Concept","S2 Mulholland","S3 Project","S4 Cruiser (rumored)"],"Motus":["MST","MST Barber Museum Edition","MST Founders Edition","MST KMV4 Prototype","MST Laguna Seca Edition","MST Performance Edition","MST Silverstone Edition","MST Special Ops Edition","MST Sport","MST-R","MST-R Carbon Edition","MST-R GP","MST-R Launch Edition"]},"VS":["2024","2023","2022","2021","2020","2019","2018","2017","2016","2015","2014","2013","2012","2011","2010","2009","2008","2007","2006","2005","2004","2003","2002","2001","2000","1999","1998","1997","1996","1995","1994","1993","1992","1991","1990"],"UC":["Petrol","Electric"],"ck":["Manual","Automatic"],"xP":["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry"],"E8":{"Andhra Pradesh":["Visakhapatnam","Vijayawada","Guntur","Nellore","Kurnool","Rajahmundry","Tirupati","Kadapa","Kakinada","Anantapur","Eluru","Ongole","Chittoor","Srikakulam","Vizianagaram","Proddatur","Tenali","Adoni","Machilipatnam"],"Arunachal Pradesh":["Itanagar","Naharlagun","Pasighat","Tawang","Ziro","Bomdila","Tezu","Seppa","Aalo","Daporijo","Roing","Changlang","Namsai"],"Assam":["Guwahati","Silchar","Dibrugarh","Jorhat","Nagaon","Tinsukia","Tezpur","Bongaigaon","Karimganj","Dhubri","Goalpara","Hailakandi","Barpeta","Lakhimpur"],"Bihar":["Patna","Gaya","Bhagalpur","Muzaffarpur","Purnia","Darbhanga","Bihar Sharif","Arrah","Begusarai","Katihar","Chapra","Sasaram","Sitamarhi","Motihari","Samastipur"],"Chhattisgarh":["Raipur","Bhilai","Bilaspur","Korba","Durg","Rajnandgaon","Jagdalpur","Raigarh","Ambikapur","Dhamtari","Kanker","Mahasamund"],"Goa":["Panaji","Margao","Vasco da Gama","Mapusa","Ponda","Bicholim","Curchorem","Sanquelim","Cuncolim","Quepem"],"Gujarat":["Ahmedabad","Surat","Vadodara","Rajkot","Bhavnagar","Jamnagar","Junagadh","Gandhinagar","Anand","Nadiad","Morbi","Mehsana","Bharuch","Navsari","Valsad"],"Haryana":["Faridabad","Gurgaon","Panipat","Ambala","Yamunanagar","Rohtak","Hisar","Karnal","Sonipat","Panchkula","Kurukshetra","Jhajjar","Bhiwani"],"Himachal Pradesh":["Shimla","Dharamshala","Solan","Mandi","Palampur","Kullu","Hamirpur","Bilaspur","Nahan","Una","Chamba","Kangra"],"Jharkhand":["Ranchi","Jamshedpur","Dhanbad","Bokaro","Deoghar","Hazaribagh","Giridih","Ramgarh","Medininagar","Chirkunda","Chaibasa","Gumla"],"Karnataka":["Bangalore","Mysore","Hubli","Mangalore","Belgaum","Gulbarga","Davanagere","Bellary","Bijapur","Shimoga","Tumkur","Raichur","Udupi","Hassan"],"Kerala":["Thiruvananthapuram","Kochi","Kozhikode","Kollam","Thrissur","Palakkad","Alappuzha","Malappuram","Kannur","Kottayam","Idukki","Pathanamthitta","Kasargod"],"Madhya Pradesh":["Indore","Bhopal","Jabalpur","Gwalior","Ujjain","Sagar","Dewas","Satna","Ratlam","Rewa","Chhindwara","Khargone","Morena"],"Maharashtra":["Mumbai","Pune","Nagpur","Thane","Nashik","Aurangabad","Solapur","Kolhapur","Amravati","Nanded","Akola","Jalgaon","Latur","Sangli"],"Manipur":["Imphal","Thoubal","Bishnupur","Churachandpur","Kakching","Ukhrul","Senapati","Tamenglong","Jiribam","Moirang"],"Meghalaya":["Shillong","Tura","Nongstoin","Jowai","Baghmara","Williamnagar","Nongpoh","Resubelpara","Mairang","Cherrapunji"],"Mizoram":["Aizawl","Lunglei","Champhai","Serchhip","Kolasib","Lawngtlai","Saiha","Mamit","Khawzawl","Zawlnuam"],"Nagaland":["Kohima","Dimapur","Mokokchung","Tuensang","Wokha","Zunheboto","Phek","Mon","Longleng","Kiphire"],"Odisha":["Bhubaneswar","Cuttack","Rourkela","Brahmapur","Sambalpur","Puri","Balasore","Bhadrak","Baripada","Jharsuguda","Kendrapara","Angul"],"Punjab":["Ludhiana","Amritsar","Jalandhar","Patiala","Bathinda","Mohali","Pathankot","Hoshiarpur","Moga","Batala","Firozpur","Sangrur"],"Rajasthan":["Jaipur","Jodhpur","Kota","Bikaner","Ajmer","Udaipur","Bhilwara","Alwar","Bharatpur","Sikar","Tonk","Pali","Jhunjhunu"],"Sikkim":["Gangtok","Namchi","Gyalshing","Mangan","Rangpo","Jorethang","Singtam","Pelling","Ravangla","Yuksom"],"Tamil Nadu":["Chennai","Coimbatore","Madurai","Tiruchirappalli","Salem","Tirunelveli","Tiruppur","Erode","Vellore","Thoothukudi","Nagercoil","Dindigul","Karur","Kanchipuram"],"Telangana":["Hyderabad","Warangal","Nizamabad","Khammam","Karimnagar","Ramagundam","Mahbubnagar","Nalgonda","Adilabad","Suryapet","Sangareddy","Jagtial","Mancherial"],"Tripura":["Agartala","Udaipur","Dharmanagar","Kailasahar","Belonia","Khowai","Ambassa","Teliamura","Sabroom","Amarpur"],"Uttar Pradesh":["Lucknow","Kanpur","Ghaziabad","Agra","Varanasi","Meerut","Prayagraj","Bareilly","Aligarh","Moradabad","Noida","Gorakhpur","Firozabad","Jhansi"],"Uttarakhand":["Dehradun","Haridwar","Roorkee","Haldwani","Rudrapur","Kashipur","Rishikesh","Pithoragarh","Nainital","Almora","Tehri","Mussoorie"],"West Bengal":["Kolkata","Howrah","Durgapur","Asansol","Siliguri","Bardhaman","Malda","Baharampur","Habra","Kharagpur","Jalpaiguri","Haldia"],"Andaman and Nicobar Islands":["Port Blair","Car Nicobar","Diglipur","Mayabunder","Rangat","Hut Bay","Nancowry","Campbell Bay"],"Chandigarh":["Chandigarh"],"Dadra and Nagar Haveli and Daman and Diu":["Daman","Diu","Silvassa"],"Delhi":["New Delhi","Delhi","North Delhi","South Delhi","East Delhi","West Delhi","Central Delhi","Dwarka","Rohini","Shahdara"],"Jammu and Kashmir":["Srinagar","Jammu","Anantnag","Baramulla","Udhampur","Kathua","Pulwama","Rajouri","Sopore","Kupwara"],"Ladakh":["Leh","Kargil","Nubra","Zanskar","Drass","Nyoma","Khalsi","Khaltse"],"Lakshadweep":["Kavaratti","Agatti","Amini","Andrott","Minicoy","Kalpeni"],"Puducherry":["Puducherry","Karaikal","Mahe","Yanam"]}}'),ho=e=>{let{onApply:t,onClose:n,initialFilters:i={}}=e;const[a,o]=(0,r.useState)(c({vehicleType:"cars",priceRange:[500,5e3],distance:10,selectedVehicles:[],fuelType:"All",transmission:"All"},i)),[s,l]=(0,r.useState)(""),[u,d]=(0,r.useState)(null),h=(0,r.useRef)(null),p={cars:co.carBrands,bikes:uo.WP};(0,r.useEffect)(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&n&&n()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]);const m=(e,t)=>{o(n=>c(c({},n),{},{[e]:t}))};return(0,qa.jsxs)("div",{ref:h,className:"absolute top-full right-0 mt-2 w-80 sm:w-96 bg-white rounded-xl shadow-lg z-50 border border-gray-200 animate-fadeIn",children:[(0,qa.jsx)("div",{className:"sm:hidden fixed inset-0 bg-black/40 -z-10",onClick:n}),(0,qa.jsxs)("div",{className:"max-h-[80vh] sm:max-h-[600px] overflow-y-auto p-6",children:[(0,qa.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Filter"}),(0,qa.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-xl font-bold transition-colors",children:"\u2715"})]}),(0,qa.jsxs)("div",{className:"mb-6",children:[(0,qa.jsx)("p",{className:"font-medium mb-2",children:"Vehicle Type"}),(0,qa.jsx)("div",{className:"flex gap-3",children:["cars","bikes"].map(e=>(0,qa.jsxs)("label",{className:"flex items-center text-sm",children:[(0,qa.jsx)("input",{type:"radio",name:"vehicleType",checked:a.vehicleType===e,onChange:()=>(e=>{o(t=>c(c({},t),{},{vehicleType:e,selectedVehicles:[]})),l("")})(e),className:"mr-2"}),e.toUpperCase()]},e))})]}),(0,qa.jsxs)("div",{className:"mb-6",children:[(0,qa.jsx)("p",{className:"font-medium mb-2",children:"Price Range"}),(0,qa.jsx)("input",{type:"range",min:50,max:2e4,value:a.priceRange[1],onChange:e=>m("priceRange",[50,Number(e.target.value)]),className:"w-full accent-blue-600"}),(0,qa.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mt-1",children:[(0,qa.jsx)("span",{children:"\u20b950"}),(0,qa.jsxs)("span",{children:["\u20b9",a.priceRange[1]]})]})]}),(0,qa.jsxs)("div",{className:"mb-6",children:[(0,qa.jsx)("p",{className:"font-medium mb-2",children:"Distance"}),(0,qa.jsx)("input",{type:"range",min:1,max:50,value:a.distance,onChange:e=>m("distance",Number(e.target.value)),className:"w-full accent-blue-600"}),(0,qa.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mt-1",children:[(0,qa.jsx)("span",{children:"1 km"}),(0,qa.jsxs)("span",{children:[a.distance," km"]})]})]}),(0,qa.jsxs)("div",{className:"mb-6",children:[(0,qa.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Vehicle Name"}),(0,qa.jsxs)("select",{className:"w-full border rounded-md px-3 py-2 text-sm",value:s,onChange:e=>{l(e.target.value),m("selectedVehicles",[e.target.value])},children:[(0,qa.jsx)("option",{value:"",children:"Select"}),(p[a.vehicleType]||[]).map(e=>(0,qa.jsx)("option",{value:e,children:e},e))]})]}),(0,qa.jsxs)("div",{className:"mb-6",children:[(0,qa.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Fuel"}),(0,qa.jsxs)("select",{className:"w-full border rounded-md px-3 py-2 text-sm",value:a.fuelType,onChange:e=>m("fuelType",e.target.value),children:[(0,qa.jsx)("option",{children:"All"}),(0,qa.jsx)("option",{children:"Petrol"}),(0,qa.jsx)("option",{children:"Diesel"}),(0,qa.jsx)("option",{children:"Electric"}),(0,qa.jsx)("option",{children:"CNG"}),(0,qa.jsx)("option",{children:"Hybrid"})]})]}),(0,qa.jsxs)("div",{className:"mb-6",children:[(0,qa.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Transmission"}),(0,qa.jsxs)("select",{className:"w-full border rounded-md px-3 py-2 text-sm",value:a.transmission,onChange:e=>m("transmission",e.target.value),children:[(0,qa.jsx)("option",{children:"All"}),(0,qa.jsx)("option",{children:"Manual"}),(0,qa.jsx)("option",{children:"Automatic"})]})]}),u&&(0,qa.jsx)("div",{className:"mb-4 text-red-600 text-sm",children:u}),(0,qa.jsx)("button",{onClick:()=>{(a.priceRange[0]>=a.priceRange[1]?(d("Invalid price range"),0):(d(null),1))&&(t(a),n&&n())},className:"w-full bg-gradient-to-r from-blue-900 to-blue-400 text-white py-2 rounded-md font-medium hover:opacity-90 transition",children:"Apply"}),(0,qa.jsx)("button",{onClick:()=>{o({vehicleType:"cars",priceRange:[500,5e3],distance:10,selectedVehicles:[],fuelType:"All",transmission:"All"}),l(""),d(null)},className:"w-full mt-3 text-blue-600 font-medium hover:underline",children:"Reset Filters"})]}),(0,qa.jsx)("style",{children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        .animate-fadeIn {\n          animation: fadeIn 0.2s ease-out;\n        }\n\n        @media (max-width: 640px) {\n          .animate-fadeIn {\n            position: fixed !important;\n            bottom: 0 !important;\n            top: auto !important;\n            right: 0 !important;\n            left: 0 !important;\n            width: 100% !important;\n            max-width: 100% !important;\n            border-radius: 1rem 1rem 0 0 !important;\n            margin: 0 !important;\n          }\n        }\n      "})]})},po=e=>{let{children:t,autoplay:n=!1,autoplayDelay:i=3e3,showDots:a=!0,showArrows:o=!0,className:s=""}=e;const[l,c]=(0,r.useState)(0),u=t.length,d=()=>{c(e=>(e+1)%u)};return(0,r.useEffect)(()=>{if(n){const e=setInterval(d,i);return()=>clearInterval(e)}},[n,i,l]),0===u?null:(0,qa.jsxs)("div",{className:"relative overflow-hidden ".concat(s),children:[(0,qa.jsx)("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:"translateX(-".concat(100*l,"%)")},children:t.map((e,t)=>(0,qa.jsx)("div",{className:"w-full flex-shrink-0",children:e},t))}),o&&u>1&&(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)("button",{onClick:()=>{c(e=>(e-1+u)%u)},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 shadow-lg transition-all duration-200 z-10","aria-label":"Previous slide",children:(0,qa.jsx)(oo,{className:"w-5 h-5 text-gray-700"})}),(0,qa.jsx)("button",{onClick:d,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 shadow-lg transition-all duration-200 z-10","aria-label":"Next slide",children:(0,qa.jsx)(so,{className:"w-5 h-5 text-gray-700"})})]}),a&&u>1&&(0,qa.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:t.map((e,t)=>(0,qa.jsx)("button",{onClick:()=>(e=>{c(e)})(t),className:"w-3 h-3 rounded-full transition-all duration-200 ".concat(t===l?"bg-white scale-110":"bg-white/60 hover:bg-white/80"),"aria-label":"Go to slide ".concat(t+1)},t))})]})},mo=n.p+"static/media/slides.7eb28c21979282e7e1b9.png",fo="data:image/png;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAOptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAImlsb2MAAAAAREAAAQABAAAAAAEOAAEAAAAAAAAWsAAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAamlwcnAAAABLaXBjbwAAABNjb2xybmNseAABAA0ABoAAAAAMYXYxQ4EEDAAAAAAUaXNwZQAAAAAAAAJyAAACcgAAABBwaXhpAAAAAAMICAgAAAAXaXBtYQAAAAAAAAABAAEEAYIDBAAAFrhtZGF0EgAKChkmZxnHggIaDQgyny0RQAEEEEFA9LrNyy9Il6LMWWcCoG7e3fR+Ni4S+KmSHgWobWA8ROdAJHE9HAnlJ5nGtl7XeLOJSHTP/5WjysyArkBdIbMfk2BKk7h7KeBvLb/T/QcseT6QhUK+ZkHl+JLz4p7QeIzeQu57sRVM3eFJjt8yjsei4f6rwfEeqIl4sFUebZx89NAZH0+AafGiadz0hx5ALRtaQuv4LKTq03vPcEqnSOfCRGTg9CxQLz/NfrtJThIS1qRrr17LiCP2GRYRMW174XM9ZP8iTZ7Yc/Mp23S4PSRtd2OHlytat+gvz5O3jn+ToHw+vIeCfuC6exXPg9AYYZSPTQ9tUbzI4oQgvlLE2syCYZRB0tv54jQQme0wKAgCjhXbw/HGkyhVv0N3Pz2cpWYf/jX0Zcm0D3jfIu2DR2uzrjc2btkfXLjWukKNKKKh7bLwtgCnxSybIRRgAq69GfJAqccVnghI7J0jrYyo4L+PQEbipoiPhEVXjM6w2l3e9b3zqwFU1Q56LyH5tcHsaW1RQk0jfiE/Mqvh2RQBNapfS5bXrnttwvRyT58VRZw4uf8ZOZ1uvNMf1oadb79+A1IqAVJmjMNVy3B5kZFTJGNhfiJITL6+OWqCLCeuECKs3ln5znNDsjcU6cm28SssCjgQ6IqUJSaAmyx6E9xNtICHs65etKSHvUBsn0QcIQ+kF4bXaSE61vOfJZYUNZJnDZahQn7WbMCSIbq3jKl4acRVuCMV7KU0UDrQaEGrbdrk8oNQ4MrletiBKkTCiCgEvTu5fqNrbSiWcpCAbyUdIn7kinTIp5RrSS6rStN/BXmLKP98tqfOGEIrO2yqBag5AnMODgEgGxv1GrXrwb0004rXBxlaaS9pv8zXhhSDORHegwTpWS52l0eFxpeGadrIISqJ+zxhmEsAqpO5D9pSHll5GL0v/9RS3E8AmN+OBCr52oM15AlyArgx3yLIQeFQ1yVTzeDTUpAX1CXh8Kmbw2/ceaI1fd7H8YUlqDDhXufFjeGprFZgFcVkOTKYp5s/5qKnwRPF3bJmgOyu8g+E9G/T+u7pU5WA8oDewpuhZ1VXUJJ0+/Zawf5/m46V3dNtCAE+sfzSLUghixVFETMg6J8whgVLkLfNR6sEBwnsAFqZ9k3h42mE4p6r4z3qPF4tUyceS+zb1+9sRChOnNBfHDPs8WwUvH5ICsbbgVkkruSLisQjc46CER5cmckAIyKPTessSx9EwzLeZILB/yhqzrcBdG1fZaL0fqRoyFeWt2jyyQeHqmDlTrQTYDKADiOyekIWE3x8+dpxQYutYrPYuyB1K3ArI8clcgkaLMAR9vWtXTQQXgns6Rv9d/Ko7UeQ9+MYftUPlW7iYc831uYwFi4offau0M8AoQHR8QBQT/a9uhYoTXiBWTgQVvgK5bGExLrG+S9uAJVD5VPlB2ayF5dC3bX7QsUR99zxZ3MTaNOw8hsTPrBGU9pJhre17JJLtr8ffsK8Kd/WgpgWkcVRbuCVup3dt8VSrvgUZCoqiEMPysTyeMrI3+RIipVt4VidZ0wIR+LbWimhue7lezaJ4A7IxfjQZGvVyuentk93+o3F3qea71G4/PC+xgZjYadp4N7cf83TU6J3CAvNzj2j0yS3Dskur60/tjtAIcMcBgSwji0zKTSH1W1mt5z0NU8FYfU6LRpyGK7iZiT84HbTT4iN4viin7ekjkQov8HN3nlhToQ1dMV+Tch0pZ2lL0AIaguRYSdDjekSvyysgF3b/SaP4d2Acr/RyNS7SsFmNjBnX83/NaTg+swcJDACgXGST5t9w/o6JmHFdi7Yn2h9t73elkd0XoQ7PsBnP9dskZdTcXKesCUWzSYHOHnniRmya8Lj4yvT5w28chX/qRGYDtHbTm2No38Rr8WN02/f5bO9WNw4ufudFHdDjzA7u86nKL24MtqcAOWkCNoF/t95TK0H4JyHf7u0wYP9Nt3fcV7H8snp76PUqg025hEtx8wFdl7x8riWqSmTUVuDBSbRzxdilx8We4KBjPHZAGcPLRPh4F8631PlpfBOsrU9mQnTkJE6jaUvkihX/Z/kBjTPpv+92Afk6guy/milnMeEx539qYC846jTnx8M6gjfwNkBFaQzMgZ8ZnKTheySjMVq8O51vKaZmTh1s4TmDotvDHTPdaj8XLsQImApIiDFPAM4HBPoJuXSuaIDmVESVBgCOrgKz/zDrOie8BPdDJh5InidukAAkRQU3Lsw4Oy0nTDIsFo7/aGzOloX66+Cvs3M2GfmWEA/bdv0dZvn+nfT7zDEi9yF/KKWpC5zkSKP9T9s304uUgqSz0BWITU4bX61O50JvzXNj7MJdybKuYzVUmZuW5QtLVJY3mE3zHxkvIGegpT/qznSxODd6p9Z/ZSFEzw847Ov8nysdTx5016yPUZy6avi08/cv510eiEznzzrJgutIyCCrZOSoZCUhcK1h3ZQw86klwhqPknupMcOLDt5cNQfIE9XwOPPpJM6SJ470V39pIGqlRb4pUAtkA1Jz3xjMBfdYlqU4dSk9dtZ1YoF3ycZZCUbeZdUEMWRcSTQ/nYDitltdjKXVtE8FnZuw5peEZRnV81vPut8cPdppYIUYeQCDlh4N98wLO5JMgSblTHGJBtBWoE69LFgFVz/tAQt4RGwnFgryWioHn1Aug1hkfrJVx7DSg2xz1GnsdccY+d4TfJbMfpd5Kz4w7FNhbOkJJ1x8FXIfUsQblx1kgCX8HV6WNOhw9nPNWa0qxJWR2P1Lgt2/vaEtbDEetZ+Yn+HmExF9GPkge+EMHLN8Ttr7chUEPY2jJ8c9Qjf6ZC+m+HNd8/1NPubtye4kP1hW40JO7AFLJO1jdmZUBIL7EP5LtpjY8QBJyR0PvnLRerqzM80NJB1ineRSSP64n/WpSbLEMO/sDHVDcL9igwjO5eKZqNo8IyIOW9YJawWkd1yWqTPCb7N/2UOuyaWd5RdANrf5nFO4Upjiow9rqc0TxdjZMHBIZ2LEjq6opkFmZBm1if6pcgf+zGUur4lF1GUXHVYq/RFs6A3rf0w7/+Swv0EgZsd5+dk0Odymemk9Yg9lb5DlS4L5IDEnojQLEyOMXOLlyoSwgLCntOEV0gFTmEsReogTPtMHgbDzGBDB+0BC0n4AZ4AveYDl/yqNyqbn088uDIHbcneGBQASi50OqHW7QC/YQJI8OuOUJojkXU2uWLGjvzrsYIfMYeDnWaONkxRseMOm40+gAIwPenGp8OhnAwoHfsV+fTkOGixUKKtZfPUr3eHOPmSs6gAAm5+MT/KAgoMIpzrGCt/2KSsVfs/N9rPATSr9CipurYQ2rVV8v/qj+/s2yWxZslDaVXgNnRbsNp7nCEEbRhYijBwFXwKFLZJoIh6DqVqAUsBMDIZeXc5bYkQXuX7CQb5sUzOjdLyFtudEs8LPJgOPXMHQjGtEH493+EWYUbr99B6pIzOT/A0CxiHbJq9y0grDEjPhkZYoGllRCtm3LUWSCzQy1QHqyPHq2qAgPsci4HzZWPQUnOzmKfKadXYbLky09yVyN2mrIGKpyVmY/vcVKHZPm4JKicrIpndMT2hVAuaKUHARnBsOx/EYzjt/0ZyPuI2FS1m/RhyEr3tLBI0H2ZMksuAoMvyS9rjt/iQH+5wZjuunhP3K11s32p73NzBSbCzSxUODM8z0NhPNuhCEPYkQoN9ZWYU3YTh7Bfp1z+NwPttqzW0E/4d/e6rWdkG5Mb+uG74wOrMZMBUlv5XZ7B/YbhBbQeR7W0QieFhNqFmI09S7F29+RZJ3qe3IjnCi1/Qv6Gs5HuWvQGylMVV+J8cbfPlUsuUr1ctD8HYtlL9VSUJ/6ypfg+HYOTdBGU3ePxUhkHiBFQtRDO45hLPgjGUhkqa+IJPvquDUncqQAFUKowwEp/0qdUkJXyRH+IBc+6nxCAe3nZyrl9Qspka+QiXRjtfzTbJkSaoHA8aRticA+qrfoJiS5sRdi4NPIBZNn1m+j5P8bXN1K8ha3o8FJmqFdo9nzfVcXmBavpgswXOddvVo4o375fshUMrk3dI1bvt1xCrVum/7cxeg6gQ6ngqflZy4DHFYv8LfxwxyPjAdNkfxUiYY386GfJooWI7WUrS1cWAlfUG4b+o58YWI//ScWItTWvlHoZz0i/QR5zjZ/hmoHAmpqoDqc5KKMfqz9y79MWjNGcpqrPjMsoijarTmogBz/MsfT47uRGDs7PKzs1IsRVpjQG+oxHmuQccH3TJXqrHiF/bfNfayR/ehLaOFaiK+9QgMV1Np40F93UBrsh+JaGuN0B5+4yCGmPfYZ543tK9MHrhQa2VKcmAWyypTKP7ctCJaj7Lyhzi3QsVGgQWyXRNYQAsQJk7Tl4/6Xpvk/ZdEhvTxRusUL55vDc6aG8N/bwzskv9BbrIGK5486JkjEVfplHLEGOfAZfsmPVjqLtn2CW/lIO35ZW+DKSe+XMdbyeCTJW6+2BQB+kqlblakTgfR2sg1reMeaNQ6W+jInGPmpJXoeAuU3bJ2T2h/ckfaHCJzO3xu/QhYzHx1GomNCWRrsWodKbSOEfxghnySA/3iUIJwTy034JQ8vFmEbrDeJW7V/nR4Ya6NQIfZLzW3IoIP5RxNLHqpi1iRS1YgqPJ4vVH0ASxr9TiTIa/vKCqEZgNrxdmOefaAeXnoTouE5sp8RBEDSveS5l6nVkGJ5f4RmNzgKh4pK/QxA57iI6FcvkqgdiWGsZGrf+Yf9j2U5i8k3L4V9OC2XG0KdWM98JeghP/4JkH3wwZEUNnWR8hEGG+9mZv/xv0P5Y7TdIGyIzhswPJ1CU8htxcMjWIocp3G4K/OAvb/49cVdMniohZhM7p2pwlLhFVlej8cjbMY52KK5eX7BBoyA5/Pv8Ibt8xE/kmM2Luef+FApA6hSV/a9Uiu9UU2e9A/ak4X9Aq/qyA23+DISZzY8pd/xX1dsCV11I2cjQGHhGjFcBmlQmesdUCK/7UT75Cn+qVp15fZGbs2HyiXM6MFif1+N1P5C4xtplwqSDe6Uvo1PlVfD8V+hAz00Iu/k0DROBNoNjWVh8UdFBktoOZ9BnVEnn87o0NJEARHzQC1YJywWGbVLiDY2MClSsz3qWRHK15GJFCviTFn/hS+Y6XGBsPKeOXa4c/0Xx5FOdvow0whVn+gASw/Fz6ttBPXkG/F+FnrroBPmZswhUZ4kEdnfkpLDFKmDMB4i81wUtb48GnncGvEEBGViUH8y0Wpsins/kwLbHQAJxU1yy7qxU2GIGJ1WnEYgRoV8yCIdLdOQjmF9uj/v1q4I7bnGUD/i1aWdgB3eVZGJRv1kZjZ2GkZDHQTpb4yYFFadHZEzOsnNKOYF1XKmwfX5sehDWEUe3K2nL1xnkbX8w5yOBD5VbayH/YKEn8/0un0UcI94/tkg9R2M6NTNEirtYDraeyMbeVC2TIGM7z1oN4EcVja/Kh0C0uzwrrQiHfqvJSCVTRqkAYtynQ8qEAxm62zWJBkz2lbO29gqU6mxLpDaB+UGm8jHpisZD2x0NzbdgvFCgppcUNHhK+2TeUm06ipyWUcqQOb0Asu1BattGTHqNIi9rDZx7pD2W0suPdYLGAMrlBi5JAkbeOGFPJn3t4lG49rN1WodDNwaDGswZaSZofwFaF/znw1C45+iSuunMw62w2uX7l7e6YQC2yRdR8CcwQz4Xu2lmZ6dupTo1e2K49lO37StK0R08+nprs1sVNP/Ccb3asYSjJp9FMIXFk9BhcrJkQaNBWzBVQxk6gr6Nrc+AiSrG2vJg6fkukSyFTbnA4Km17LfkfyFm5Ick+jbMOqBR/7EHvNu9vdzXRxyI0/PD983NhAF/MqlZI+3NAlP7xzuHs1YQZcWKAXMAAMhD6N2z4Vxmlgw7x/U3ZOo6pYccD6Gma1Zl/MFmcsKLSLyCSaf/muY7r6rRgDrl/8kqek4Pdqh1oiFZmTneWFqw+4Tx4N2PkXES5LYbSSMBr2/Gpq5lk+QuHPzoljOpiJIOr0w5TkYz8kercgDc2GCXrBlU90ovylMQ99NKwf7lJ2JXRxH/7+C0NvI6nVN+f/9VIve07lSLWWElniMWNuea78BkTIE0DcXwY3hLAFo0oqQQdOpq9bi7kakiVsFkC1b2GC3JZPxS6dbuBOJgSMSoiUexKz7kYDIpIsb0WU72orc6bTK3w51usvFH5RYJku2at7J2xEKQIwrj7d0aN4Zo24t+QEvNtsA/X8s4f3njWjD7JqfdPO6TNj9FqelIqyCiXwutMvjJsn7mlinueh90Xf63Sjt3s9w0E9Nk+UCpVWUNDTEaA4dt6ApuHz9e8lB1Q8GlfT6AvtvzFACahXNNwAGnC+mXjiuJBm/kuSBgvP359ANgEJHmwKsUi5EfRN/ktEpeWAQhakPiVx4h++SHj+l3q8QQy+JH1ao8y25bKLZM2rKvEVYKsq7ZJWDBuU0KhYXXiWqdcBhSUFwRjwuCFK9tJ/XHyPDGMePwnLFb+KqAm4ko621VJOYSQPc2epAhIMKT9HE6LKtWI96Ro6YPv6LEs5hW0girpeAEnX1dYAFLDeCGG4ub66UNWsbnPi84WnPiSYTRzzkQDqJ3KUytlGahcLelMs4uLS7xXUTMpP8kiYS3ZMW1g6sgdJr4kerOSuZcCCGq5MQvoKu+aSZTWBjrn9C7ERMRCbv817+3B5R56ndx7VGiMybfCqzWCzPB+9Inz/omAOjlOzkhZuRB2EF+JwllfG0oatjFNZbtbdbJ1N3AwKAehblKyzKHD0FFGj7c8VCU+UKcP9b/Jog8lt1ef2jfZ9K/lxpt/LPOC1rOqDHINaQjBLX6HkPdzf7FuM8JcmIO+l2wWHb9BbvzLGZ/1FDXUwdyQ2z6Fswj3zqKAvUqLLyt1jgNemcEdkriiKdiwA2yLD92LOpcRt+cPNLLylpWY9/gn4BEOX9h7FxOc35tLpVmfjGGaDGJbgJ8wZKOB0zCP4CmS+V4GlTQKckCs8h9PLzgORtfxuaODDPB79n2aCKNZPgRnLQKNVoHibv6+tSvEq+jbQdMH4Z+U+UJeiMAtsTXeq93hdph0fM1dD5b2YHXq0C4UwJl9J6DCn+bieLFEnvu6bvSvJNokuXLPADJK4k8KaTtV2b65NQRM3CTwV5KUfBCryeS5JeJzQ//0k0vwictX2nbquEff9EoGdIu2Y09+ib5vOYrntHlfXn3Vpr0yLpF4Wc0VaxSPzkEXW71JOr4a1xQq+ugYBjmpQbPECeS+axoPpGYhS/tmTGH0/stJawmbm0qBtu7CCRpKcGkLHr3DxrPdiZceencjpICbEq9R8pjLCI1g9ZnHve5+A+5QJWZ33HusjEt8aUOInlh3xNi/uvnEKsxIam0hdMOlK22aDXKhA864rh7wyhP3x2keTNcmy0kWWCR3wxLaCSjGHhBrC5V3NiqBpo9Bt6IzGmFonXxYShE1ebgKxEOaJ12MlIGzSFvvQlPcxP5AOtZHWdct9vz8EEhcriEez/T4ubgl16KS8SRyIOksKu+3PHMsf5GDAH2i76Q36gbZCGbx50/ZoIcncSKIJka+o5lS3fWO4k0jotcwd9/P3oADNSMtEkDFv6XACvvE8REIY72RYhmSUnSXWnB0O/RSx+7kmmNdZ6H5VhQOL6cIxJqc2aIOTd7o3Y24T4D9n2yk1dJ5HlCZAe0lq2IBvUdwvp9uFXvxafngzBbwpx3iw4/A",go=e=>{let{className:t=""}=e;const n=[{id:"1",title:"\ud83d\ude97 Premium Cars",subtitle:"Luxury at Your Fingertips",description:"Experience premium vehicles with comfort and style. Book now and get 20% off your first ride!",buttonText:"Book Premium Cars",backgroundImage:mo,textColor:"text-white",onButtonClick:()=>window.location.href="/listed"},{id:"2",title:"\ud83d\udefa Quick Autos",subtitle:"Fast & Affordable",description:"Need a quick ride around the city? Our autos are perfect for short distances and budget-friendly trips.",buttonText:"Find Autos",backgroundImage:mo,textColor:"text-white",onButtonClick:()=>window.location.href="/auto"},{id:"3",title:"\u23f0 24/7 Service",subtitle:"Always Available",description:"Round-the-clock service with instant booking. Your ride is just a tap away, anytime, anywhere.",buttonText:"Book Now",backgroundImage:mo,textColor:"text-white",onButtonClick:()=>window.location.href="/rental"},{id:"4",title:"\ud83c\udfaf Special Offers",subtitle:"Limited Time Deals",description:"Get amazing discounts on weekend bookings. Save up to 30% on your next adventure!",buttonText:"View Offers",backgroundImage:mo,textColor:"text-white",onButtonClick:()=>alert("Special offers coming soon!")}];return(0,qa.jsx)("div",{className:"w-full ".concat(t),children:(0,qa.jsx)(po,{autoplay:!0,autoplayDelay:4e3,showDots:!0,showArrows:!0,className:"h-80 rounded-xl shadow-lg",children:n.map(e=>(0,qa.jsxs)("div",{className:"relative h-80 flex items-center justify-center overflow-hidden rounded-xl",children:[e.backgroundImage&&(0,qa.jsx)("div",{className:"absolute inset-0 bg-cover bg-center ",style:{backgroundImage:"url(".concat(e.backgroundImage,")"),backgroundBlendMode:"overlay"}}),(0,qa.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"}),(0,qa.jsx)("div",{className:"relative z-10 text-center px-8 max-w-2xl",children:(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-2 ".concat(e.textColor," tracking-wide"),children:"RENTONGOVEHICLE \u2013 Smart"}),(0,qa.jsx)("h2",{className:"text-3xl md:text-4xl font-bold ".concat(e.textColor," tracking-wide"),children:"Car Rentals & Listings"}),(0,qa.jsx)("h6",{className:"text-sm  ".concat(e.textColor," tracking-wide"),children:"Rent or List Vehicles Effortlessly. Anywhere, Anytime."}),(0,qa.jsxs)("h6",{className:"text-sm ".concat(e.textColor," tracking-wide flex items-center justify-center gap-2"),children:[(0,qa.jsx)("img",{src:$a,alt:"Car",className:"w-6 h-6"}),"Car\u2019s Bookings & Listings",(0,qa.jsx)("span",{className:"mx-1",children:"|"}),(0,qa.jsx)("img",{src:fo,alt:"Bike",className:"w-6 h-6"}),"Bike Bookings"]})]})})]},e.id))})})},yo=n.p+"static/media/FilterLogo.044b4ac9de2c0548133d.png";function vo(e,t){let n;try{n=e()}catch(nl){return}const r={getItem:e=>{var r;const i=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),a=null!=(r=n.getItem(e))?r:null;return a instanceof Promise?a.then(i):i(a)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)};return r}const xo=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>xo(e)(n),catch(e){return this}}}catch(nl){return{then(e){return this},catch:t=>xo(t)(nl)}}},bo=(e,t)=>(n,r,i)=>{let a=c({storage:vo(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>c(c({},t),e)},t),o=!1;const s=new Set,l=new Set;let u=a.storage;if(!u)return e(function(){console.warn("[zustand persist middleware] Unable to update item '".concat(a.name,"', the given storage is currently unavailable.")),n(...arguments)},r,i);const d=()=>{const e=a.partialize(c({},r()));return u.setItem(a.name,{state:e,version:a.version})},h=i.setState;i.setState=(e,t)=>(h(e,t),d());const p=e(function(){return n(...arguments),d()},r,i);let m;i.getInitialState=()=>p;const f=()=>{var e,t;if(!u)return;o=!1,s.forEach(e=>{var t;return e(null!=(t=r())?t:p)});const i=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=r())?e:p))||void 0;return xo(u.getItem.bind(u))(a.name).then(e=>{if(e){if("number"!==typeof e.version||e.version===a.version)return[!1,e.state];if(a.migrate){const t=a.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;const[i,o]=e;if(m=a.merge(o,null!=(t=r())?t:p),n(m,!0),i)return d()}).then(()=>{null==i||i(m,void 0),m=r(),o=!0,l.forEach(e=>e(m))}).catch(e=>{null==i||i(void 0,e)})};return i.persist={setOptions:e=>{a=c(c({},a),e),e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:e=>(s.add(e),()=>{s.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},a.skipHydration||f(),m||p},wo=Tt()(bo((e,t)=>({reviews:[],addReview:t=>{const n=c(c({},t),{},{id:Date.now().toString()+Math.random().toString(36),timestamp:new Date});e(e=>({reviews:[n,...e.reviews]}))},getReviewsByVehicleId:e=>t().reviews.filter(t=>t.vehicleId===e),getAverageRating:e=>{const n=t().reviews.filter(t=>t.vehicleId===e);if(0===n.length)return 0;const r=n.reduce((e,t)=>e+t.rating,0);return Number((r/n.length).toFixed(1))},getTotalReviewCount:e=>t().reviews.filter(t=>t.vehicleId===e).length,getRatingDistribution:e=>{const n=t().reviews.filter(t=>t.vehicleId===e),r=n.length;if(0===r)return[5,4,3,2,1].map(e=>({stars:e,count:0,percentage:0}));const i=[5,4,3,2,1].map(e=>{const t=n.filter(t=>t.rating===e).length,i=Math.round(t/r*100);return{stars:e,count:t,percentage:i}});return i}}),{name:"review-storage"})),ko=n.p+"static/media/automatic.986f8de89251967c2454.jpeg",So=n.p+"static/media/seats.497bea1fb906edf3f96d.jpeg",No="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/2wBDAQMDAwQDBAgEBAgQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/wAARCAA4ADgDASIAAhEBAxEB/8QAHQAAAgICAwEAAAAAAAAAAAAAAAcGCAIDAQQFCf/EAEAQAAEDAwMCAgQJCQkAAAAAAAECAwQFBhEAByEIEhMxFUFRlRkiMlVhcZGx0QkYNEJWc3Wy0xQjNzhSgaKz8P/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwD6e6iV67r7f7eKbZu25GIT7qe9EdKFuvKT7exAKgPpIA4OpaSEgqUQAOST6tVs6dLRoe6Eu592b3pjFYmzasuPGRNR4rbCEpSs9qFZB4cQkZB7QjAxzoJavq22cSogVCpqHtEBWD9us2erPZp1fauqVFkf6lwHCP8Ajk6ZqbRtRCQlFsUlKR5AQmwP5dYv2ZZ8lHhybUozqD+quC0ofYU6DTaF92jfsBVStGux6kw2rtc8PuSts+oKQoBSf9wNe9quFbt2l7RdR9oy7QjCnU27G3IcyEz8VkrJ7T2p8gnuU0oJHAKePPGmNuXvjR9ra7DpdftutPQpTKXVVGMyFMNErKe0kkZUMZIHOCMZzoGTo11KRVqbXqXFrVHmNyoU1pLzDyPJaFDIPPI+o8jyOjQbpZAivEnADavu1UbpR6h9pLc22mQKvczjL6qw+4EiDIWCktNAHKUEeo6tzK/RXv3avu1XHpDsSx6lthNk1GzaHKeNafHiP05laseEzxkpz6zoJ5+dLsh+1rvu2T/T0fnS7Ifta77tk/09e1d9B2dsa3plz3DZVtsQ4aO5WKVHK3FfqoQCkZUo8AfcMnRZlvbVXvbFPuumbb0WPFqTXitNyaPHQ4kZI5ASR6sggnIwdAh90d7Ntr23s2hh2zX1SJHpkNHuiPNZKn4/anK0jzwf/HVqazR6bcFKl0SsRESYU1pTL7SxwpChg/UfYfMHnVbt/aLt7Zu7u0FRRSbdoafTClF8MMRR8V6Pz3YHkCftOrHUi4aBcDa3aDXKfUkNkBaoklDwSfpKScaBJ9Pkqp2VfN3bHzZqpsOhn+3051XykNLKSUn6w62rHqV3+3RosP8Aza3/APwhr+WJo0D2lfor37tX3aR3Rt/hVN/jb/8A0s6c9YqtLpkVfpKpRYniNr7PHeS33YHOMkZ0gOkK8bRp218xioXVR4rprL6gh6c0hRHhM84KvLg6D0OrS07grFAp1yx6xT26LQSt+ZAmPKbTIcJT2YCflqI7kgZB+Me08nE22Bvyubh7ftVuu0KPTFsvqiMCM2pDLzSEpwtCVE4AJKeCRlBx7B0tyqRtPuk5Rm7h3Hp6IVJkqkLhMVZhLUrIAw58bPGMAgggKUB55Exh3rtxT4jMGDd1tx40dCWmmmqgwlCEAYCQArAAHq0CM6qbKtu9d1Nn4Nx08ymfSjrWA6ts9q3owUMpIPOBrmj2lQdruqeg23ZzTtPptUojq32FSFuBxRS+cZWSSMsoOM+Y1t30u21J+7m0jsG56TJQzV1FxTU1tYQPHjfKIVx5Hz9mmXuNtPZW8jESpGquMT6eSiNU6a+krQM5KFEZChk5xwQTwRk5CEWAtLvVluA42oKSKU2gkcgKAigj68g/Zo0wtrNnrZ2pjTPRD8ubPqSgqXOlqCnHMEkAYAAGVE+0k8k8YNBjuLslYe6M+NU7riy1yIrBjIWxJU3/AHZUVYI8vMnn6dKH4Ozps+bK/wC9l/ho0aA+Ds6bPmyv+9l/ho+Ds6bPmyv+9l/ho0aDsQPyfPTnTZrFQjU2vB6M4l1sqqqiO5JyOMadO3u2lqbY02RSrUjPtMy3vHdLzynFKV2gDk+QwPVo0aCVaNGjQf/Z",_o=e=>{let{vehicle:t,onBook:n}=e;const r=ye(),{getAverageRating:i}=wo();i(t.id);return(0,qa.jsxs)("div",{onClick:()=>{n?n(t):r("/book-now/".concat(t.id),{state:{vehicleType:t.type||"car"}})},className:"w-full border-b pb-5 cursor-pointer p-2 hover:bg-gray-50 transition",children:[(0,qa.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-40 sm:h-48 object-cover rounded-xl"}),(0,qa.jsxs)("div",{className:"mt-3",children:[(0,qa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qa.jsx)("h2",{className:"text-lg sm:text-xl font-semibold truncate",children:t.name}),(0,qa.jsxs)("div",{className:"flex items-center gap-1 border border-yellow-400 px-2 py-1 rounded-lg text-yellow-500 text-sm",children:["\u2b50 ",t.rating]})]}),(0,qa.jsxs)("p",{className:"text-xl sm:text-2xl font-bold mt-1",children:["\u20b9",t.price,(0,qa.jsx)("span",{className:"text-gray-500 text-base font-normal",children:"/day"})]}),(0,qa.jsxs)("div",{className:"mt-2 text-gray-700 space-y-1 text-sm",children:[(0,qa.jsxs)("p",{className:"flex items-center gap-2",children:[" ",(0,qa.jsx)("img",{src:ko,alt:"Transmission",className:"w-4 h-4 sm:w-5 sm:h-5"})," ",t.transmission]}),(0,qa.jsxs)("p",{className:"flex items-center gap-2",children:[" ",(0,qa.jsx)("img",{src:So,alt:"Seats",className:"w-4 h-4 sm:w-5 sm:h-5"})," ",t.seats," Seaters"]}),(0,qa.jsxs)("p",{className:"flex items-center gap-2",children:[" ",(0,qa.jsx)("img",{src:No,alt:"Fuel",className:"w-4 h-4 sm:w-5 sm:h-5"})," ",t.fuel]})]}),(0,qa.jsxs)("p",{className:"flex items-center gap-2 mt-2 text-gray-500 text-sm",children:[(0,qa.jsx)(Ka,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500 mt-0.5 flex-shrink-0"}),t.location]}),(0,qa.jsxs)("p",{children:[t.distance,"km away"]})]})]})},Co=e=>{let{limit:t,filters:n,searchText:i,onResultsChange:a}=e;ye();const{coordinates:o,currentCity:s}=Qa(),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!0),[h,p]=(0,r.useState)(""),[m]=(0,r.useState)(5);(0,r.useEffect)(()=>{(async()=>{try{d(!0),p("");const{latitude:e,longitude:t}=o,n=await La.car.getNearbyCars(e,t),r=n.data||n,i=(Array.isArray(r)?r:Array.isArray(r.data)?r.data:r.cars||[]).map(e=>({_id:e._id,CarName:e.CarName||"Unknown Car",CarModel:e.CarModel||"N/A",Carseater:e.Carseater||"4",fuelType:e.fuelType||"N/A",transmissionType:e.transmissionType||"N/A",kmDriven:e.kmDriven||0,description:e.description||"No description available",RentPerDay:e.RentPerDay||0,pickupArea:e.pickupArea||"Unknown",pickupCity:e.pickupCity||s,pickupCityState:e.pickupCityState||"",pickupCityCountry:e.pickupCityCountry||"",carImages:Array.isArray(e.carImages)&&e.carImages.length>0?e.carImages:["https://via.placeholder.com/400x250?text=No+Image"],distance:e.distance||"0",averageRating:e.averageRating||"0.0",totalReviews:e.totalReviews||0}));c(i)}catch(kN){console.error("Error fetching nearby cars:",kN),p(kN.message||"Failed to fetch nearby cars.")}finally{d(!1)}})()},[o,s,m]);const f=r.useMemo(()=>{let e=l;const r=i||(null===n||void 0===n?void 0:n.searchText);if(r&&r.trim()){const t=r.toLowerCase().trim();e=e.filter(e=>{var n,r,i;return e.CarName.toLowerCase().includes(t)||(null===(n=e.CarModel)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.pickupArea)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(i=e.pickupCity)||void 0===i?void 0:i.toLowerCase().includes(t))})}if(n&&(n.priceRange&&(e=e.filter(e=>e.RentPerDay>=n.priceRange[0]&&e.RentPerDay<=n.priceRange[1])),n.fuelType&&"All"!==n.fuelType&&(e=e.filter(e=>e.fuelType.toLowerCase().includes(n.fuelType.toLowerCase()))),n.transmission&&"All"!==n.transmission&&(e=e.filter(e=>e.transmissionType.toLowerCase().includes(n.transmission.toLowerCase()))),n.carName&&n.carName.trim())){const t=n.carName.toLowerCase().trim();e=e.filter(e=>e.CarName.toLowerCase().includes(t))}return t?e.slice(0,t):e},[l,n,t,i]);(0,r.useEffect)(()=>{a&&i&&a(f.length>0)},[f.length,i,a]);const g=f;return(0,qa.jsxs)("div",{className:t?"w-full":"bg-gray-50 min-h-screen p-6 flex flex-col",children:[!t&&(0,qa.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Nearby Cars"}),(0,qa.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:u?(0,qa.jsx)("p",{className:"text-gray-500 col-span-full text-center",children:"Loading..."}):h?(0,qa.jsx)("p",{className:"text-red-500 col-span-full text-center",children:h}):g.length>0?g.map(e=>{var t;return(0,qa.jsx)(_o,{vehicle:{id:e._id,name:e.CarName,price:e.RentPerDay,transmission:e.transmissionType,fuel:e.fuelType,seats:Number(e.Carseater)||0,location:"".concat(e.pickupArea||"",", ").concat(e.pickupCity||""),rating:Number(e.averageRating)||4.4,distance:String(e.distance),image:(null===(t=e.carImages)||void 0===t?void 0:t[0])||"https://via.placeholder.com/400x250?text=No+Image"}},e._id)}):(0,qa.jsx)("p",{className:"text-gray-500 col-span-full text-center",children:i||null!==n&&void 0!==n&&n.searchText?'No cars found matching "'.concat(i||(null===n||void 0===n?void 0:n.searchText),'"'):"No cars available nearby."})})]})},Ao=e=>{let{vehicle:t,onBook:n}=e;const r=ye(),{getAverageRating:i}=wo();i(t.id);return(0,qa.jsxs)("div",{onClick:()=>{n?n(t):r("/book-now/".concat(t.id),{state:{vehicleType:t.type||"bike"}})},className:"w-full border-b pb-5 cursor-pointer p-2 hover:bg-gray-50 transition",children:[(0,qa.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-48 object-cover rounded-xl"}),(0,qa.jsxs)("div",{className:"mt-3",children:[(0,qa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qa.jsx)("h2",{className:"text-xl font-semibold",children:t.name}),(0,qa.jsxs)("div",{className:"flex items-center gap-1 border border-yellow-400 px-2 py-1 rounded-lg text-yellow-500 text-sm",children:["\u2b50 ",t.rating]})]}),(0,qa.jsxs)("p",{className:"text-2xl font-bold mt-1",children:["\u20b9",t.price,(0,qa.jsx)("span",{className:"text-gray-500 text-base font-normal",children:"/day"})]}),(0,qa.jsx)("div",{className:"mt-2 text-gray-700 space-y-1 text-sm",children:(0,qa.jsxs)("p",{className:"flex items-center gap-2",children:[" ",(0,qa.jsx)("img",{src:No,alt:"Fuel",className:"w-4 h-4 sm:w-5 sm:h-5"})," ",t.fuel]})}),(0,qa.jsxs)("p",{className:"flex items-center gap-2 mt-2 text-gray-500 text-sm",children:[(0,qa.jsx)(Ka,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500 mt-0.5 flex-shrink-0"}),t.location]}),(0,qa.jsxs)("p",{children:[t.distance,"km away"]})]})]})},jo=e=>{let{limit:t,filters:n,searchText:i,onResultsChange:a}=e;ye();const{coordinates:o,currentCity:s}=Qa(),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!0),[h,p]=(0,r.useState)(""),[m]=(0,r.useState)(5);(0,r.useEffect)(()=>{(async()=>{try{d(!0),p("");const{latitude:e,longitude:t}=o;console.log("Fetching bikes for ".concat(s,":"),e,t);const n=await La.bike.getNearbyBikes(e,t,m),r=n.data||n,i=(Array.isArray(r)?r:Array.isArray(r.data)?r.data:r.bikes||[]).map(e=>({_id:e._id,bikeName:e.bikeName||"Unknown Bike",bikeModel:e.bikeModel||"N/A",bikeNumber:e.bikeNumber||"N/A",description:e.description||"No description available",pricePerKm:e.pricePerKm||0,contactName:e.contactName||"N/A",contactNumber:e.contactNumber||"N/A",pickupArea:e.pickupArea||"Unknown",pickupCity:e.pickupCity||s,pickupCityState:e.pickupCityState||"",pickupCityCountry:e.pickupCityCountry||"",bikeImages:Array.isArray(e.bikeImages)&&e.bikeImages.length>0?e.bikeImages:["https://via.placeholder.com/400x250?text=No+Image"],distance:e.distance||"0",averageRating:e.averageRating||"4.4",totalReviews:e.totalReviews||0}));c(i)}catch(kN){console.error("Error fetching nearby bikes:",kN),p(kN.message||"Failed to fetch nearby bikes. Please try again.")}finally{d(!1)}})()},[o,s,m]);const f=r.useMemo(()=>{let e=l;const r=i||(null===n||void 0===n?void 0:n.searchText);if(r&&r.trim()){const t=r.toLowerCase().trim();e=e.filter(e=>{var n,r,i;return e.bikeName.toLowerCase().includes(t)||(null===(n=e.bikeModel)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.pickupArea)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(i=e.pickupCity)||void 0===i?void 0:i.toLowerCase().includes(t))})}if(n&&(n.priceRange&&(e=e.filter(e=>e.pricePerKm>=n.priceRange[0]&&e.pricePerKm<=n.priceRange[1])),n.bikeName&&n.bikeName.trim())){const t=n.bikeName.toLowerCase().trim();e=e.filter(e=>e.bikeName.toLowerCase().includes(t))}return t?e.slice(0,t):e},[l,n,t,i]);(0,r.useEffect)(()=>{a&&i&&a(f.length>0)},[f.length,i,a]);const g=f;return(0,qa.jsxs)("div",{className:t?"w-full":"bg-gray-50 min-h-screen p-6 flex flex-col",children:[!t&&(0,qa.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Nearby Bikes"}),(0,qa.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:u?(0,qa.jsx)("p",{className:"text-gray-500 col-span-full text-center",children:"Loading..."}):h?(0,qa.jsx)("p",{className:"text-red-500 col-span-full text-center",children:h}):g.length>0?g.map(e=>{var t;return(0,qa.jsx)(Ao,{vehicle:{id:e._id,name:e.bikeName,model:e.bikeModel,price:e.pricePerKm,transmission:"Manual",fuel:"Petrol",seats:2,location:"".concat(e.pickupArea||"",", ").concat(e.pickupCity||""),rating:Number(e.averageRating)||0,distance:String(e.distance||0),image:(null===(t=e.bikeImages)||void 0===t?void 0:t[0])||"https://via.placeholder.com/400x250?text=No+Image"}},e._id)}):(0,qa.jsx)("p",{className:"text-gray-500 col-span-full text-center",children:i||null!==n&&void 0!==n&&n.searchText?'No bikes found matching "'.concat(i||(null===n||void 0===n?void 0:n.searchText),'"'):"No bikes available nearby."})})]})},Eo=()=>{var e,t;const[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(null),s=ye(),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)((new Date).toISOString().split("T")[0]),[m,f]=(0,r.useState)((new Date).toISOString().split("T")[0]);return(0,qa.jsxs)("div",{className:"bg-gray-50 min-h-screen flex flex-col",children:[(0,qa.jsx)("div",{className:"px-4 sm:px-6 py-4",children:(0,qa.jsx)(go,{})}),(0,qa.jsxs)("div",{className:"px-4 sm:px-6 py-4 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"text-base sm:text-lg font-semibold mb-2 text-gray-800",children:"Select Date & Time"}),(0,qa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,qa.jsx)(lo,{value:h,onChange:p,minDate:(new Date).toISOString().split("T")[0]}),(0,qa.jsx)(lo,{value:m,onChange:f,minDate:h})]})]}),(0,qa.jsxs)("div",{className:"flex gap-2 w-full md:w-auto",children:[(0,qa.jsxs)("div",{className:"flex items-center bg-white border rounded-full relative flex-1 md:w-[300px] h-[40px]",children:[(0,qa.jsx)(io,{className:"w-6 h-6 text-gray-500 mr-4 ml-2"}),(0,qa.jsx)("input",{type:"text",placeholder:"Search by name or location...",className:"flex-1 outline-none text-gray-700 text-sm",value:l,onChange:e=>c(e.target.value)})]}),(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsxs)("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white text-lm font-semibold px-4 py-1 rounded-md hover:opacity-100 transition-all",children:[(0,qa.jsx)("img",{src:yo,alt:"Filter",className:"w-5 h-5 sm:w-6 sm:h-6"}),(0,qa.jsx)("span",{className:"hidden sm:inline",children:"Filter"})]}),n&&(0,qa.jsx)(ho,{onApply:e=>{o(e),i(!1)},onClose:()=>i(!1),initialFilters:a||{}})]})]})]}),a&&(0,qa.jsx)("div",{className:"px-4 sm:px-6 py-2",children:(0,qa.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qa.jsx)("h4",{className:"text-sm font-semibold text-blue-800",children:"Active Filters:"}),(0,qa.jsx)("button",{onClick:()=>o(null),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Clear All"})]}),(0,qa.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs",children:[a.priceRange&&(0,qa.jsxs)("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded",children:["\u20b9",a.priceRange[0]," - \u20b9",a.priceRange[1]]}),a.fuelType&&"All"!==a.fuelType&&(0,qa.jsx)("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded",children:a.fuelType}),a.transmission&&"All"!==a.transmission&&(0,qa.jsx)("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded",children:a.transmission}),a.distance&&(0,qa.jsxs)("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded",children:["Within ",a.distance,"km"]})]})]})}),(!a||"cars"===a.vehicleType)&&(0,qa.jsxs)("div",{className:"px-4 sm:px-6",children:[(0,qa.jsxs)("div",{className:"flex w-full items-center justify-between mb-4 sm:mb-6 mt-2",children:[(0,qa.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-800",children:"Nearby Cars"}),(0,qa.jsx)("button",{onClick:()=>s("/nearby-cars"),className:"text-black font-semibold hover:underline",children:"View More \u2192"})]}),(0,qa.jsx)(Co,{limit:4,searchText:l,filters:a&&"cars"===a.vehicleType?{priceRange:a.priceRange,fuelType:a.fuelType,transmission:a.transmission,distance:a.distance,carName:null===(e=a.selectedVehicles)||void 0===e?void 0:e[0]}:void 0})]}),(!a||"bikes"===a.vehicleType)&&(0,qa.jsxs)("div",{className:"px-4 sm:px-6 mt-2",children:[(0,qa.jsxs)("div",{className:"flex w-full items-center justify-between mb-4 sm:mb-6 mt-2",children:[(0,qa.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-800",children:"Nearby Bikes"}),(0,qa.jsx)("button",{onClick:()=>s("/nearby-bikes"),className:"text-black font-semibold hover:underline",children:"View More \u2192"})]}),(0,qa.jsx)(jo,{limit:4,searchText:l,filters:a&&"bikes"===a.vehicleType?{priceRange:a.priceRange,distance:a.distance,bikeName:null===(t=a.selectedVehicles)||void 0===t?void 0:t[0]}:void 0})]})]})};var To=n(836);function Io(e){let{initialLat:t,initialLng:n,onSaveLocation:i}=e;const a=ye(),{setLocationWithCoordinates:o}=Qa(),s=(0,r.useRef)(null),l=(0,r.useRef)(null),c=(0,r.useRef)(null),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[m,f]=(0,r.useState)(""),[g,y]=(0,r.useState)(null),v={lat:t||17.4894387,lng:n||78.4602418};(0,r.useEffect)(()=>{var e;if(null!==(e=window.google)&&void 0!==e&&e.maps)return void y(window.google);const t=document.getElementById("google-maps-script");if(t)return void t.addEventListener("load",()=>{y(window.google)});const n=document.createElement("script");n.id="google-maps-script",n.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyA6myHzS10YXdcazAFalmXvDkrYCp5cLc8","&libraries=places"),n.async=!0,n.defer=!0,n.onload=()=>{y(window.google)},document.head.appendChild(n)},[]),(0,r.useEffect)(()=>{if(!g)return;const e=new g.maps.Map(document.getElementById("map"),{center:v,zoom:14});s.current=e;const n=new g.maps.Marker({map:e,position:t?v:void 0,draggable:!0});if(l.current=n,c.current){const t=new g.maps.places.Autocomplete(c.current,{fields:["geometry","formatted_address","address_components"]});t.addListener("place_changed",()=>{const r=t.getPlace();if(!r.geometry)return;const i=r.geometry.location,a=i.lat(),o=i.lng();n.setPosition({lat:a,lng:o}),e.setCenter({lat:a,lng:o}),e.setZoom(15),f(r.formatted_address||""),d(r.formatted_address||""),b(r.address_components||[])})}n.addListener("dragend",()=>{const e=n.getPosition();e&&x(e.lat(),e.lng())}),e.addListener("click",e=>{if(!e.latLng)return;const t=e.latLng.lat(),r=e.latLng.lng();n.setPosition({lat:t,lng:r}),x(t,r)})},[g]);const x=(e,t)=>{if(!g)return;(new g.maps.Geocoder).geocode({location:{lat:e,lng:t}},e=>{e&&e[0]&&(f(e[0].formatted_address),d(e[0].formatted_address),b(e[0].address_components||[]))})},b=e=>{const t=e.find(e=>e.types.includes("locality"))||e.find(e=>e.types.includes("administrative_area_level_1"))||e.find(e=>e.types.includes("country"));p((null===t||void 0===t?void 0:t.long_name)||"")};return(0,qa.jsxs)("div",{className:"flex flex-col md:flex-row p-4 gap-10 ml-10",children:[(0,qa.jsx)("div",{className:"border rounded-lg shadow",style:{width:700,height:500},children:(0,qa.jsx)("div",{id:"map",style:{width:"100%",height:"100%"}})}),(0,qa.jsxs)("div",{className:"w-full md:w-1/3 space-y-4",children:[(0,qa.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Search Location"}),(0,qa.jsx)("input",{ref:c,value:u,onChange:e=>d(e.target.value),className:"w-full border px-3 py-2 rounded",placeholder:"Search city or address"}),(0,qa.jsx)("button",{onClick:()=>{if(!navigator.geolocation)return alert("Geolocation not supported");navigator.geolocation.getCurrentPosition(e=>{if(!g)return;const t=e.coords.latitude,n=e.coords.longitude,r=s.current;l.current.setPosition({lat:t,lng:n}),r.setCenter({lat:t,lng:n}),r.setZoom(15),x(t,n)},e=>alert(e.message),{enableHighAccuracy:!0})},children:(0,qa.jsx)("img",{src:To,alt:"Use Current Location",className:"w-10 h-10"})}),(0,qa.jsx)("button",{onClick:()=>{const e=l.current;if(!e||!h)return alert("Please select a location");const t=e.getPosition();if(!t)return;const n=t.lat(),r=t.lng();o(h,{latitude:n,longitude:r},"India"),null===i||void 0===i||i(h,n,r),a("/rental",{replace:!0})},className:"w-full bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white py-2 rounded",children:"Save"})]})]})}const Ro=(0,r.createContext)(null),Po=Ro.Provider;function Mo(){const e=(0,r.useContext)(Ro);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Lo(){return Mo().map}function Do(e){const t=Lo();return(0,r.useEffect)(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}var Bo=n(228);const Oo=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function Fo(){return Fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(this,arguments)}function Vo(e,t){let{bounds:n,boundsOptions:a,center:o,children:s,className:l,id:c,placeholder:u,style:d,whenReady:h,zoom:p}=e,m=i(e,Oo);const[f]=(0,r.useState)({className:l,id:c,style:d}),[g,y]=(0,r.useState)(null);(0,r.useImperativeHandle)(t,()=>{var e;return null!==(e=null===g||void 0===g?void 0:g.map)&&void 0!==e?e:null},[g]);const v=(0,r.useCallback)(e=>{if(null!==e&&null===g){const t=new Bo.Map(e,m);null!=o&&null!=p?t.setView(o,p):null!=n&&t.fitBounds(n,a),null!=h&&t.whenReady(h),y(function(e){return Object.freeze({__version:1,map:e})}(t))}},[]);(0,r.useEffect)(()=>()=>{null===g||void 0===g||g.map.remove()},[g]);const x=g?r.createElement(Po,{value:g},s):null!==u&&void 0!==u?u:null;return r.createElement("div",Fo({},f,{ref:v}),x)}const zo=(0,r.forwardRef)(Vo);n(950);function Uo(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Ho(e,t){return null==t?function(t,n){const i=(0,r.useRef)();return i.current||(i.current=e(t,n)),i}:function(n,i){const a=(0,r.useRef)();a.current||(a.current=e(n,i));const o=(0,r.useRef)(n),{instance:s}=a.current;return(0,r.useEffect)(function(){o.current!==n&&(t(s,n,o.current),o.current=n)},[s,n,i]),a}}function Go(e,t){var n;const r=null!==(n=e.pane)&&void 0!==n?n:t.pane;return r?c(c({},e),{},{pane:r}):e}function Ko(e){return function(t){const n=Mo(),i=e(Go(t,n),n);return function(e,t){const n=(0,r.useRef)(t);(0,r.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}(n.map,t.attribution),function(e,t){const n=(0,r.useRef)();(0,r.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}(i.current,t.eventHandlers),function(e,t){(0,r.useEffect)(function(){var n;return(null!==(n=t.layerContainer)&&void 0!==n?n:t.map).addLayer(e.instance),function(){var n;null===(n=t.layerContainer)||void 0===n||n.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}(i.current,n),i}}const Wo=["url"],Zo=(qo=function(e,t){let{url:n}=e,r=i(e,Wo);return Uo(new Bo.TileLayer(n,Go(r,t)),t)},Yo=function(e,t,n){!function(e,t,n){const{opacity:r,zIndex:i}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)}(e,t,n);const{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)},function(e){function t(t,n){const{instance:i}=e(t).current;return(0,r.useImperativeHandle)(n,()=>i),null}return(0,r.forwardRef)(t)}(Ko(Ho(qo,Yo))));var qo,Yo;const Xo=["position"],Jo=function(e,t){return function(e){function t(t,n){const{instance:i,context:a}=e(t).current;return(0,r.useImperativeHandle)(n,()=>i),null==t.children?null:r.createElement(Po,{value:a},t.children)}return(0,r.forwardRef)(t)}(Ko(Ho(e,t)))}(function(e,t){let{position:n}=e,r=i(e,Xo);const a=new Bo.Marker(n,r);return Uo(a,(o=t,s={overlayContainer:a},Object.freeze(c(c({},o),s))));var o,s},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}),Qo=Ga("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$o=Ga("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),es=Ga("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),ts=Ga("navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),ns=e=>{let{options:t,value:n,onChange:i,placeholder:a,disabled:o=!1,required:s=!1}=e;const[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(n),h=(0,r.useRef)(null),p=(0,r.useRef)(null),m=t.filter(e=>e.toLowerCase().includes(u.toLowerCase()));(0,r.useEffect)(()=>{d(n)},[n]),(0,r.useEffect)(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&(c(!1),t.includes(u)||d(n))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[u,n,t]);return(0,qa.jsxs)("div",{className:"relative",ref:h,children:[(0,qa.jsxs)("div",{className:"w-full flex items-center border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent transition ".concat(o?"bg-gray-100 cursor-not-allowed":"bg-white cursor-text"),children:[(0,qa.jsx)("input",{ref:p,type:"text",value:u,onChange:e=>{const n=e.target.value;d(n),c(!0);const r=t.find(e=>e.toLowerCase()===n.toLowerCase());r&&i(r)},onFocus:()=>{o||c(!0)},placeholder:a,disabled:o,required:s,className:"flex-1 px-4 py-3 outline-none rounded-lg ".concat(o?"bg-gray-100 cursor-not-allowed":"bg-white")}),(0,qa.jsx)("button",{type:"button",onClick:()=>{var e;o||(c(!l),null===(e=p.current)||void 0===e||e.focus())},disabled:o,className:"px-3 py-3",children:(0,qa.jsx)(Qo,{className:"w-5 h-5 text-gray-400 transition-transform ".concat(l?"rotate-180":"")})})]}),l&&!o&&(0,qa.jsx)("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden top-full",children:(0,qa.jsx)("div",{className:"max-h-60 overflow-y-auto",children:m.length>0?m.map(e=>(0,qa.jsx)("div",{onClick:()=>(e=>{i(e),d(e),c(!1)})(e),className:"px-4 py-3 cursor-pointer transition ".concat(e===n?"bg-blue-50 text-blue-700 font-medium":"hover:bg-gray-50"),children:e},e)):(0,qa.jsx)("div",{className:"px-4 py-3 text-gray-500 text-center",children:"No results found"})})})]})},rs={async getCoordinates(e){const t=Object.values(e).filter(Boolean).join(", ");if(!t)return null;try{const e=await fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(t),"&limit=1")),n=await e.json();return n&&n.length>0?{latitude:n[0].lat,longitude:n[0].lon,displayName:n[0].display_name}:null}catch(n){return console.error("Geocoding error:",n),null}},async reverseGeocode(e,t){try{const n=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(t,"&addressdetails=1")),r=await n.json();return r.address?{street:r.address.road||r.address.suburb||"",city:r.address.city||r.address.town||r.address.village||"",state:r.address.state||"",pincode:r.address.postcode||"",country:r.address.country||""}:null}catch(n){return console.error("Reverse geocoding error:",n),null}}};function is(e){let{onClick:t}=e;return Do({click(e){t(e.latlng.lat,e.latlng.lng)}}),null}const as=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[m,f]=(0,r.useState)([17.4889,78.4603]),[g,y]=(0,r.useState)(null),[v,x]=(0,r.useState)([]),b=/^[A-Z]{2}[0-9]{2}[A-Z]{1,2}[0-9]{1,4}$/i,[w,k]=(0,r.useState)(""),[S,N]=(0,r.useState)({userId:localStorage.getItem("userId")||"",CarName:"",CarBrand:"",CarModel:"",CarNumber:"",Carseater:"",CarYear:"",fuelType:"",transmissionType:"",kmDriven:"",Ac_available:!1,description:"",RentPerHour:"",RentPerDay:"",contactName:"",contactNumber:"",DepositAmount:"0",drivingLicenseRequired:!1,AadharCardRequired:!1,DepositVehicle:!1,insurance:!1,insuranceExpiry:"",photoFront:null,photoBack:null,photoLeft:null,photoRight:null,photoInterior:null,pickupArea:"",pickupCity:"",pickupCityState:"",pickupCityPinCode:"",pickupCityCountry:"",pickupLatitude:"17.4889",pickupLongitude:"78.4603",gps:!1}),[_,C]=(0,r.useState)({});(0,r.useEffect)(()=>{S.CarBrand&&co.carModels[S.CarBrand]?(x(co.carModels[S.CarBrand]),N(e=>c(c({},e),{},{CarModel:""}))):x([])},[S.CarBrand]);const A=co.states,[j,E]=(0,r.useState)([]);(0,r.useEffect)(()=>{if(S.pickupCityState){const e=co.cities[S.pickupCityState]||[];E(e),N(e=>c(c({},e),{},{pickupCity:""}))}else E([])},[S.pickupCityState]);const T=[{name:"CarBrand",label:"Car Brand",options:(null===co||void 0===co?void 0:co.carBrands)||[],placeholder:"Type brand name..."},{name:"CarModel",label:"Car Model",options:v,placeholder:"Type model name...",disabled:!S.CarBrand},{name:"CarYear",label:"Manufacturing Year",options:(null===co||void 0===co?void 0:co.years)||[],placeholder:"Type year..."},{name:"Carseater",label:"Seating Capacity",options:(null===co||void 0===co?void 0:co.seatingCapacity)||[],placeholder:"Type seats..."},{name:"fuelType",label:"Fuel Type",options:(null===co||void 0===co?void 0:co.fuelTypes)||[],placeholder:"Type fuel type..."},{name:"transmissionType",label:"Transmission",options:["Manual","Automatic","AMT","CVT","DCT","iMT"],placeholder:"Type transmission..."}],I=[{name:"pickupCityState",label:"State",options:A,placeholder:"Type state..."},{name:"pickupCity",label:"City",options:j,placeholder:"Type city...",disabled:!S.pickupCityState}];(0,r.useEffect)(()=>{S.pickupLatitude&&S.pickupLongitude&&(y([parseFloat(S.pickupLatitude),parseFloat(S.pickupLongitude)]),f([parseFloat(S.pickupLatitude),parseFloat(S.pickupLongitude)]))},[S.pickupLatitude,S.pickupLongitude]),(0,r.useEffect)(()=>{const e=setTimeout(async()=>{const e={pickupArea:S.pickupArea,pickupCity:S.pickupCity,pickupCityState:S.pickupCityState,pickupCityPinCode:S.pickupCityPinCode,pickupCityCountry:S.pickupCityCountry},t=await rs.getCoordinates(e);t&&(N(e=>c(c({},e),{},{pickupLatitude:t.latitude,pickupLongitude:t.longitude})),o(""))},1e3);return()=>clearTimeout(e)},[S.pickupArea,S.pickupCity,S.pickupCityState,S.pickupCityPinCode,S.pickupCityCountry]);const R=e=>{const{name:t,value:n,type:r,checked:i}=e.target;N(e=>c(c({},e),{},{[t]:"checkbox"===r?i:n}))},P=(e,t)=>{N(n=>c(c({},n),{},{[e]:t}))};return(0,qa.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[(0,qa.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,qa.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 sm:p-8",children:[(0,qa.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6",children:"List your Car"}),(0,qa.jsxs)("div",{className:"space-y-6",children:[(0,qa.jsx)("div",{className:"border-b pb-2",children:(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Vehicle Details"})}),(0,qa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:T.map(e=>(0,qa.jsxs)("div",{"data-error":!!_[e.name],children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label," ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("div",{className:_[e.name]?"ring-2 ring-red-500 rounded-lg":"",children:(0,qa.jsx)(ns,{options:e.options,value:S[e.name],onChange:t=>{P(e.name,t),C(t=>c(c({},t),{},{[e.name]:""}))},placeholder:e.placeholder,disabled:e.disabled,required:!0})}),_[e.name]&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1",children:_[e.name]})]},e.name))}),(0,qa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{name:"CarNumber",label:"Car Number",placeholder:"AP12AB1234"},{name:"kmDriven",label:"KM Driven",placeholder:"15000"},{name:"RentPerHour",label:"Rent Per Hour (\u20b9)",type:"number",placeholder:"500"},{name:"RentPerDay",label:"Rent Per Day (\u20b9)",type:"number",placeholder:"5000"}].map(e=>(0,qa.jsxs)("div",{"data-error":!!_[e.name],children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label," ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("input",{type:e.type||"text",name:e.name,value:S[e.name],onChange:t=>{"CarNumber"===e.name?(e=>{const t=e.target.value.toUpperCase();N(e=>c(c({},e),{},{CarNumber:t})),b.test(t)?k(""):k("Invalid format, e.g., AP12AB1234")})(t):R(t),C(t=>c(c({},t),{},{[e.name]:""}))},placeholder:e.placeholder,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition ".concat(_[e.name]?"border-red-500 ring-2 ring-500":"border-gray-300"),required:!0}),_[e.name]&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1",children:_[e.name]})]},e.name))}),(0,qa.jsxs)("div",{className:"mt-6",children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",(0,qa.jsx)("span",{className:"text-red-500"})]}),(0,qa.jsx)("textarea",{name:"description",value:S.description,onChange:R,placeholder:"Describe your car's condition, features, and any additional details...",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition resize-none"})]}),(0,qa.jsxs)("div",{className:"mt-6",children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Car Photos ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Upload photos of your car from different angles (at least one photo required)"}),(0,qa.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:[{key:"photoFront",label:"Front View"},{key:"photoBack",label:"Back View"},{key:"photoLeft",label:"Left Side"},{key:"photoRight",label:"Right Side"},{key:"photoInterior",label:"Interior"}].map(e=>(0,qa.jsxs)("div",{className:"flex flex-col",children:[(0,qa.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:e.label}),S[e.key]?(0,qa.jsxs)("div",{className:"relative group",children:[(0,qa.jsx)("img",{src:URL.createObjectURL(S[e.key]),alt:e.label,className:"w-full h-28 object-cover rounded-lg border-2 border-green-400"}),(0,qa.jsx)("button",{type:"button",onClick:()=>{return t=e.key,void N(e=>c(c({},e),{},{[t]:null}));var t},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:(0,qa.jsx)(Wa,{className:"w-4 h-4"})})]}):(0,qa.jsxs)("label",{className:"cursor-pointer border-2 border-dashed rounded-lg h-28 flex flex-col items-center justify-center transition ".concat(_[e.key]?"border-red-400 bg-red-50":"border-blue-300 bg-blue-50 hover:bg-blue-100"),children:[(0,qa.jsx)($o,{className:"w-6 h-6 ".concat(_[e.key]?"text-red-500":"text-blue-600")}),(0,qa.jsx)("span",{className:"text-xs mt-1 ".concat(_[e.key]?"text-red-500":"text-blue-600"),children:"Upload"}),(0,qa.jsx)("input",{type:"file",accept:"image/*",onChange:t=>((e,t)=>{e.target.files&&e.target.files[0]&&(N(n=>c(c({},n),{},{[t]:e.target.files[0]})),C(e=>c(c({},e),{},{[t]:""})))})(t,e.key),className:"hidden"})]}),_[e.key]&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1",children:_[e.key]})]},e.key))})]}),(0,qa.jsx)("div",{className:"border-b pb-2 pt-4",children:(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Contact Information"})}),(0,qa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{name:"contactName",label:"Name",placeholder:"John Doe"},{name:"contactNumber",label:"Contact Number",placeholder:"9876543210",pattern:"[0-9]{10}"}].map(e=>(0,qa.jsxs)("div",{"data-error":!!_[e.name],children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label," ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("input",{type:"contactNumber"===e.name?"tel":"text",name:e.name,value:S[e.name],onChange:t=>{R(t),C(t=>c(c({},t),{},{[e.name]:""}))},placeholder:e.placeholder,pattern:e.pattern,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition ".concat(_[e.name]?"border-red-500 ring-2 ring-red-500":"border-gray-300"),required:!0}),_[e.name]&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1",children:_[e.name]})]},e.name))}),(0,qa.jsx)("div",{className:"border-b pb-2 pt-4",children:(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Additional Details"})}),(0,qa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"Ac_available",label:"AC Available"},{name:"drivingLicenseRequired",label:"Driving License Required"},{name:"AadharCardRequired",label:"Aadhar Card Required"},{name:"DepositVehicle",label:"Deposit Vehicle Required"},{name:"gps",label:"GPS Tracking Available"}].map(e=>(0,qa.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,qa.jsx)("input",{type:"checkbox",name:e.name,checked:S[e.name],onChange:R,className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,qa.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:e.label})]},e.name))}),S.DepositVehicle&&(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deposit Amount (\u20b9)"}),(0,qa.jsx)("input",{type:"number",name:"DepositAmount",value:S.DepositAmount,onChange:R,placeholder:"10,000",min:0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,qa.jsx)("div",{className:"border-b pb-2 pt-4",children:(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Vehicle Pickup Address"})}),(0,qa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:I.map(e=>(0,qa.jsxs)("div",{"data-error":!!_[e.name],children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label," ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("div",{className:_[e.name]?"ring-2 ring-red-500 rounded-lg":"",children:(0,qa.jsx)(ns,{options:e.options,value:S[e.name],onChange:t=>{P(e.name,t),C(t=>c(c({},t),{},{[e.name]:""}))},placeholder:e.placeholder,disabled:e.disabled,required:!0})}),_[e.name]&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1",children:_[e.name]})]},e.name))}),(0,qa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{name:"pickupArea",label:"Street/Area",placeholder:"Street name or area"},{name:"pickupCityPinCode",label:"Zip/Pincode",placeholder:"500001"},{name:"pickupCityCountry",label:"Country",placeholder:"India",fullWidth:!0}].map(e=>(0,qa.jsxs)("div",{className:e.fullWidth?"md:col-span-2":"","data-error":!!_[e.name],children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label," ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("input",{type:"text",name:e.name,value:S[e.name],onChange:t=>{R(t),C(t=>c(c({},t),{},{[e.name]:""}))},placeholder:e.placeholder,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition ".concat(_[e.name]?"border-red-500 ring-2 ring-red-500":"border-gray-300"),required:!0}),_[e.name]&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1",children:_[e.name]})]},e.name))}),(0,qa.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-2",children:[(0,qa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,qa.jsx)(Ka,{className:"w-5 h-5 text-blue-600"}),"GPS Location"]}),(0,qa.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,qa.jsxs)("button",{type:"button",onClick:()=>{if(i(!0),o(""),!navigator.geolocation)return o("Geolocation is not supported by your browser"),void i(!1);navigator.geolocation.getCurrentPosition(async e=>{const{latitude:t,longitude:n}=e.coords;N(e=>c(c({},e),{},{pickupLatitude:t.toString(),pickupLongitude:n.toString()}));const r=await rs.reverseGeocode(t,n);r&&N(e=>c(c({},e),{},{pickupArea:r.street,pickupCity:r.city,pickupCityState:r.state,pickupCityPinCode:r.pincode,pickupCityCountry:r.country})),i(!1)},e=>{o("Unable to retrieve location. Please enable GPS."),i(!1)})},disabled:n,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50 text-sm",children:[n?(0,qa.jsx)(es,{className:"w-4 h-4 animate-spin"}):(0,qa.jsx)(ts,{className:"w-4 h-4"}),n?"Getting...":"Current Location"]}),(0,qa.jsxs)("button",{type:"button",onClick:()=>p(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition text-sm",children:[(0,qa.jsx)(Ka,{className:"w-4 h-4"}),"Open Map Picker"]})]})]}),a&&(0,qa.jsx)("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded mb-4",children:a}),s&&(0,qa.jsx)("div",{className:"mt-4 border border-gray-300 rounded-lg overflow-hidden",children:(0,qa.jsx)("iframe",{src:"https://www.openstreetmap.org/export/embed.html?bbox=".concat(parseFloat(S.pickupLongitude)-.01,",").concat(parseFloat(S.pickupLatitude)-.01,",").concat(parseFloat(S.pickupLongitude)+.01,",").concat(parseFloat(S.pickupLatitude)+.01,"&layer=mapnik&marker=").concat(S.pickupLatitude,",").concat(S.pickupLongitude),width:"100%",height:"300",style:{border:0},title:"Location Map"})})]}),(0,qa.jsx)("button",{type:"button",onClick:async e=>{e.preventDefault();const n={};S.CarBrand||(n.CarBrand="Car brand is required"),S.CarModel||(n.CarModel="Car model is required"),S.CarYear||(n.CarYear="Manufacturing year is required"),S.Carseater||(n.Carseater="Seating capacity is required"),S.fuelType||(n.fuelType="Fuel type is required"),S.transmissionType||(n.transmissionType="Transmission type is required"),S.CarNumber?b.test(S.CarNumber.toUpperCase())||(n.CarNumber="Invalid format, e.g., AP12AB1234"):n.CarNumber="Car number is required",S.kmDriven||(n.kmDriven="KM driven is required"),(!S.RentPerHour||parseFloat(S.RentPerHour)<=0)&&(n.RentPerHour="Valid rent per hour is required"),S.RentPerDay||(n.RentPerDay="Rent per day is required"),S.contactName||(n.contactName="Contact name is required"),S.contactNumber?10!==S.contactNumber.length&&(n.contactNumber="Enter a valid 10-digit number"):n.contactNumber="Contact number is required",S.pickupCityState||(n.pickupCityState="State is required"),S.pickupCity||(n.pickupCity="City is required"),S.pickupArea||(n.pickupArea="Street/Area is required"),S.pickupCityPinCode||(n.pickupCityPinCode="Pincode is required"),S.pickupCityCountry||(n.pickupCityCountry="Country is required");if(S.photoFront||S.photoBack||S.photoLeft||S.photoRight||S.photoInterior||(n.photoFront="At least one photo is required"),C(n),Object.keys(n).length>0){const e=document.querySelector('[data-error="true"]');return void(null===e||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"}))}if(!S.userId||24!==S.userId.length||!/^[a-f0-9]{24}$/i.test(S.userId))return void alert("Invalid user ID format. Please log in again.");if(!S.pickupLatitude||!S.pickupLongitude)return void alert("Please get your current location");d(!0);const r=new FormData,i="".concat(S.CarBrand," ").concat(S.CarModel);r.append("userId",S.userId.trim()),r.append("CarName",i.trim()),r.append("CarModel",S.CarYear),r.append("CarNumber",S.CarNumber.trim().toUpperCase()),r.append("Carseater",S.Carseater),r.append("fuelType",S.fuelType),r.append("transmissionType",S.transmissionType),r.append("kmDriven",S.kmDriven),r.append("Ac_available",S.Ac_available?"yes":"no"),r.append("description",S.description.trim()),r.append("RentPerHour",S.RentPerHour),r.append("RentPerDay",S.RentPerDay),r.append("contactName",S.contactName.trim()),r.append("contactNumber",S.contactNumber.trim()),r.append("DepositAmount",S.DepositAmount),r.append("drivingLicenseRequired",S.drivingLicenseRequired.toString()),r.append("AadharCardRequired",S.AadharCardRequired.toString()),r.append("DepositVehicle",S.DepositVehicle?"yes":"no"),r.append("pickupArea",S.pickupArea.trim()),r.append("pickupCity",S.pickupCity.trim()),r.append("pickupCityState",S.pickupCityState.trim()),r.append("pickupCityPinCode",S.pickupCityPinCode.trim()),r.append("pickupCityCountry",S.pickupCityCountry.trim()),r.append("pickupLatitude",S.pickupLatitude),r.append("pickupLongitude",S.pickupLongitude),r.append("gps",S.gps.toString()),S.photoFront&&r.append("carImages",S.photoFront),S.photoBack&&r.append("carImages",S.photoBack),S.photoLeft&&r.append("carImages",S.photoLeft),S.photoRight&&r.append("carImages",S.photoRight),S.photoInterior&&r.append("carImages",S.photoInterior);try{await La.car.createCar(r);t(!0)}catch(c){var a,o,s,l;let e="Failed to post car. Please try again.";null!==c&&void 0!==c&&null!==(a=c.response)&&void 0!==a&&null!==(o=a.data)&&void 0!==o&&o.message?e=c.response.data.message:null!==c&&void 0!==c&&null!==(s=c.response)&&void 0!==s&&null!==(l=s.data)&&void 0!==l&&l.error?e=c.response.data.error:null!==c&&void 0!==c&&c.message&&(e=c.message),e.includes("userId")||e.includes("ObjectId")?e="Invalid user ID. Please log in again and try.":e.includes("CarNumber")?e="Invalid car number format. Please check and try again.":e.includes("duplicate")&&(e="This car is already listed. Please check the car number."),alert(e)}finally{d(!1)}},disabled:n||u,className:"w-full bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white font-semibold py-3 px-6 rounded-lg hover:opacity-90 transition-all shadow-md hover:shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:u?(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(es,{className:"w-5 h-5 animate-spin"}),"Posting..."]}):"Post Now"})]})]})}),h&&(0,qa.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",children:(0,qa.jsxs)("div",{className:"w-full max-w-5xl h-[80vh] bg-white rounded-lg overflow-hidden shadow-lg flex flex-col",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Location on Map"}),(0,qa.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Click anywhere on the map to set your location"})]}),(0,qa.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg transition text-sm font-medium",children:"Close"})]}),(0,qa.jsx)("div",{className:"flex-1",children:(0,qa.jsxs)(zo,{center:m,zoom:14,style:{height:"100%",width:"100%"},children:[(0,qa.jsx)(Zo,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,qa.jsx)(is,{onClick:(e,t)=>{y([e,t]),i(!0),rs.reverseGeocode(e,t).then(n=>{n&&N(r=>c(c({},r),{},{pickupLatitude:e.toString(),pickupLongitude:t.toString(),pickupArea:n.street,pickupCity:n.city,pickupCityState:n.state,pickupCityPinCode:n.pincode,pickupCityCountry:n.country}))}).catch(e=>o(String(e))).finally(()=>i(!1))}}),g&&(0,qa.jsx)(Jo,{position:g})]})})]})}),e&&(0,qa.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 bg-black/40",children:(0,qa.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-sm w-full mx-auto text-center",children:[(0,qa.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,qa.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Posted Successfully! \ud83c\udf89"}),(0,qa.jsx)("p",{className:"text-gray-600 mb-6",children:"Your car is now listed and visible to all users."}),(0,qa.jsx)("button",{onClick:()=>{t(!1),window.location.href="/listed"},className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold py-3 px-6 rounded-lg hover:opacity-90 transition-all shadow-md",children:"View Listed Cars"})]})})]})},os=e=>{let{options:t,value:n,onChange:i,placeholder:a,disabled:o=!1,required:s=!1}=e;const[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(n),h=(0,r.useRef)(null),p=(0,r.useRef)(null),m=t.filter(e=>e.toLowerCase().includes(u.toLowerCase()));(0,r.useEffect)(()=>{d(n)},[n]),(0,r.useEffect)(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&(c(!1),t.includes(u)||d(n))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[u,n,t]);return(0,qa.jsxs)("div",{className:"relative",ref:h,children:[(0,qa.jsxs)("div",{className:"w-full flex items-center border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent transition ".concat(o?"bg-gray-100 cursor-not-allowed":"bg-white cursor-text"),children:[(0,qa.jsx)("input",{ref:p,type:"text",value:u,onChange:e=>{const n=e.target.value;d(n),c(!0);const r=t.find(e=>e.toLowerCase()===n.toLowerCase());r&&i(r)},onFocus:()=>{o||c(!0)},placeholder:a,disabled:o,required:s,className:"flex-1 px-4 py-3 outline-none rounded-lg ".concat(o?"bg-gray-100 cursor-not-allowed":"bg-white")}),(0,qa.jsx)("button",{type:"button",onClick:()=>{var e;o||(c(!l),null===(e=p.current)||void 0===e||e.focus())},disabled:o,className:"px-3 py-3",children:(0,qa.jsx)(Qo,{className:"w-5 h-5 text-gray-400 transition-transform ".concat(l?"rotate-180":"")})})]}),l&&!o&&(0,qa.jsx)("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden top-full",children:(0,qa.jsx)("div",{className:"max-h-60 overflow-y-auto",children:m.length>0?m.map(e=>(0,qa.jsx)("div",{onClick:()=>(e=>{i(e),d(e),c(!1)})(e),className:"px-4 py-3 cursor-pointer transition ".concat(e===n?"bg-blue-50 text-blue-700 font-medium":"hover:bg-gray-50"),children:e},e)):(0,qa.jsx)("div",{className:"px-4 py-3 text-gray-500 text-center",children:"No results found"})})})]})},ss={async getCoordinates(e){const t=Object.values(e).filter(Boolean).join(", ");if(!t)return null;try{const e=await fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(t),"&limit=1")),n=await e.json();return n&&n.length>0?{latitude:n[0].lat,longitude:n[0].lon,displayName:n[0].display_name}:null}catch(n){return console.error("Geocoding error:",n),null}},async reverseGeocode(e,t){try{const n=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(t,"&addressdetails=1")),r=await n.json();return r.address?{street:r.address.road||r.address.suburb||"",city:r.address.city||r.address.town||r.address.village||"",state:r.address.state||"",pincode:r.address.postcode||"",country:r.address.country||""}:null}catch(n){return console.error("Reverse geocoding error:",n),null}}};function ls(e){let{onClick:t}=e;return Do({click(e){t(e.latlng.lat,e.latlng.lng)}}),null}const cs=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[m,f]=(0,r.useState)([17.4889,78.4603]),[g,y]=(0,r.useState)(null),[v,x]=(0,r.useState)([]),[b,w]=(0,r.useState)({userId:(()=>{const e=localStorage.getItem("userId");return e&&24===e.length&&/^[a-f0-9]{24}$/i.test(e)?e:""})(),bikeBrand:"",bikeModel:"",bikeNumber:"",bikeEngine:"",bikeYear:"",fuel:"",transmission:"",pricePerKm:"",kmDriven:"",description:"",photoFront:null,photoBack:null,photoLeft:null,photoRight:null,photoInterior:null,contactName:"",contactNumber:"",insuranceNo:"",pickupArea:"",pickupCity:"",pickupCityState:"",pickupCityPinCode:"",pickupCityCountry:"",latitude:"17.4889",longitude:"78.4603",drivingLicense:!1,aadharCard:!1,depositVehicle:!1,depositMoney:"0",gps:!1}),[k,S]=(0,r.useState)({}),N=uo.WP.sort(),_=uo.VS,C=uo.UC,A=uo.ck,j=uo.xP,[E,T]=(0,r.useState)([]);(0,r.useEffect)(()=>{if(b.bikeBrand){const e=uo.a5[b.bikeBrand]||[];x(e),w(e=>c(c({},e),{},{bikeModel:""}))}else x([])},[b.bikeBrand]),(0,r.useEffect)(()=>{if(b.pickupCityState){const e=uo.E8[b.pickupCityState]||[];T(e),w(e=>c(c({},e),{},{pickupCity:""}))}else T([])},[b.pickupCityState]);const I=[{name:"bikeBrand",label:"Bike Brand",options:N,placeholder:"Type brand name..."},{name:"bikeModel",label:"Bike Model",options:v,placeholder:"Type model name...",disabled:!b.bikeBrand},{name:"bikeYear",label:"Manufacturing Year",options:_,placeholder:"Type year..."},{name:"fuel",label:"Fuel Type",options:C,placeholder:"Type fuel type..."},{name:"transmission",label:"Transmission",options:A,placeholder:"Type transmission..."}],R=[{name:"pickupCityState",label:"State",options:j,placeholder:"Type state..."},{name:"pickupCity",label:"City",options:E,placeholder:"Type city...",disabled:!b.pickupCityState}];(0,r.useEffect)(()=>{b.latitude&&b.longitude&&(y([parseFloat(b.latitude),parseFloat(b.longitude)]),f([parseFloat(b.latitude),parseFloat(b.longitude)]))},[b.latitude,b.longitude]),(0,r.useEffect)(()=>{const e=setTimeout(async()=>{const e={pickupArea:b.pickupArea,pickupCity:b.pickupCity,pickupCityState:b.pickupCityState,pickupCityPinCode:b.pickupCityPinCode,pickupCityCountry:b.pickupCityCountry},t=await ss.getCoordinates(e);t&&(w(e=>c(c({},e),{},{latitude:t.latitude,longitude:t.longitude})),o(""))},1e3);return()=>clearTimeout(e)},[b.pickupArea,b.pickupCity,b.pickupCityState,b.pickupCityPinCode,b.pickupCityCountry]);const P=e=>{const{name:t,value:n,type:r,checked:i}=e.target;w(e=>c(c({},e),{},{[t]:"checkbox"===r?i:n}))},M=(e,t)=>{w(n=>c(c({},n),{},{[e]:t}))};return(0,qa.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[(0,qa.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,qa.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 sm:p-8",children:[(0,qa.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6",children:"List your Bike"}),(0,qa.jsxs)("div",{className:"space-y-6",children:[(0,qa.jsx)("div",{className:"border-b pb-2",children:(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Vehicle Details"})}),(0,qa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[I.map(e=>(0,qa.jsxs)("div",{"data-error":!!k[e.name],children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label," ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("div",{className:k[e.name]?"ring-2 ring-red-500 rounded-lg":"",children:(0,qa.jsx)(os,{options:e.options,value:b[e.name],onChange:t=>{M(e.name,t),S(t=>c(c({},t),{},{[e.name]:""}))},placeholder:e.placeholder,disabled:e.disabled,required:!0})}),k[e.name]&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1",children:k[e.name]})]},e.name)),[{name:"bikeNumber",label:"Bike Number",placeholder:"AP12AB1234"},{name:"bikeEngine",label:"Engine Capacity (CC)",placeholder:"350"},{name:"kmDriven",label:"KM Driven",placeholder:"15000"},{name:"pricePerKm",label:"Price (per km) (\u20b9)",type:"number",placeholder:"250"}].map(e=>(0,qa.jsxs)("div",{"data-error":!!k[e.name],children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label," ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("input",{type:e.type||"text",name:e.name,value:b[e.name],onChange:t=>{P(t),S(t=>c(c({},t),{},{[e.name]:""}))},placeholder:e.placeholder,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition ".concat(k[e.name]?"border-red-500 ring-2 ring-red-500":"border-gray-300"),required:!0}),k[e.name]&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1",children:k[e.name]})]},e.name))]}),(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",(0,qa.jsx)("span",{className:"text-red-500"})]}),(0,qa.jsx)("textarea",{name:"description",value:b.description,onChange:P,placeholder:"Describe your bike's condition, features, and any additional details...",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition resize-none"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bike Photos ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Upload photos of your bike from different angles (at least one photo required)"}),(0,qa.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:[{key:"photoFront",label:"Front View"},{key:"photoBack",label:"Back View"},{key:"photoLeft",label:"Left Side"},{key:"photoRight",label:"Right Side"},{key:"photoInterior",label:"Interior/Dashboard"}].map(e=>(0,qa.jsxs)("div",{className:"flex flex-col",children:[(0,qa.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:e.label}),b[e.key]?(0,qa.jsxs)("div",{className:"relative group",children:[(0,qa.jsx)("img",{src:URL.createObjectURL(b[e.key]),alt:e.label,className:"w-full h-28 object-cover rounded-lg border-2 border-green-400"}),(0,qa.jsx)("button",{type:"button",onClick:()=>{return t=e.key,void w(e=>c(c({},e),{},{[t]:null}));var t},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:(0,qa.jsx)(Wa,{className:"w-4 h-4"})})]}):(0,qa.jsxs)("label",{className:"cursor-pointer border-2 border-dashed rounded-lg h-28 flex flex-col items-center justify-center transition ".concat(k[e.key]?"border-red-400 bg-red-50":"border-blue-300 bg-blue-50 hover:bg-blue-100"),children:[(0,qa.jsx)($o,{className:"w-6 h-6 ".concat(k[e.key]?"text-red-500":"text-blue-600")}),(0,qa.jsx)("span",{className:"text-xs mt-1 ".concat(k[e.key]?"text-red-500":"text-blue-600"),children:"Upload"}),(0,qa.jsx)("input",{type:"file",accept:"image/*",onChange:t=>((e,t)=>{e.target.files&&e.target.files[0]&&(w(n=>c(c({},n),{},{[t]:e.target.files[0]})),S(e=>c(c({},e),{},{[t]:""})))})(t,e.key),className:"hidden"})]}),k[e.key]&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1",children:k[e.key]})]},e.key))})]}),(0,qa.jsx)("div",{className:"border-b pb-2 pt-4",children:(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Contact Information"})}),(0,qa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{name:"contactName",label:"Name",placeholder:"John Doe"},{name:"contactNumber",label:"Contact Number",placeholder:"9876543210",pattern:"[0-9]{10}"}].map(e=>(0,qa.jsxs)("div",{"data-error":!!k[e.name],children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label," ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("input",{type:"contactNumber"===e.name?"tel":"text",name:e.name,value:b[e.name],onChange:t=>{P(t),S(t=>c(c({},t),{},{[e.name]:""}))},placeholder:e.placeholder,pattern:e.pattern,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition ".concat(k[e.name]?"border-red-500 ring-2 ring-red-500":"border-gray-300"),required:!0}),k[e.name]&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1",children:k[e.name]})]},e.name))}),(0,qa.jsx)("div",{className:"border-b pb-2 pt-4",children:(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Additional Details"})}),(0,qa.jsxs)("div",{"data-error":!!k.insuranceNo,children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Insurance Number ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("input",{type:"text",name:"insuranceNo",value:b.insuranceNo,onChange:e=>{P(e),S(e=>c(c({},e),{},{insuranceNo:""}))},placeholder:"1234567890",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 outline-none transition ".concat(k.insuranceNo?"border-red-500 ring-2 ring-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500 focus:border-transparent"),required:!0}),k.insuranceNo&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1 block",children:k.insuranceNo})]}),(0,qa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"drivingLicense",label:"Driving License Required"},{name:"aadharCard",label:"Aadhar Card Required"},{name:"depositVehicle",label:"Deposit Vehicle Required"},{name:"gps",label:"GPS Tracking Available"}].map(e=>(0,qa.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,qa.jsx)("input",{type:"checkbox",name:e.name,checked:b[e.name],onChange:P,className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),(0,qa.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:e.label})]},e.name))}),b.depositVehicle&&(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deposit Amount (\u20b9)"}),(0,qa.jsx)("input",{type:"number",name:"depositMoney",value:b.depositMoney,onChange:P,placeholder:"10,000",min:0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,qa.jsx)("div",{className:"border-b pb-2 pt-4",children:(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Vehicle Pickup Address"})}),(0,qa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:R.map(e=>(0,qa.jsxs)("div",{"data-error":!!k[e.name],children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label," ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("div",{className:k[e.name]?"ring-2 ring-red-500 rounded-lg":"",children:(0,qa.jsx)(os,{options:e.options,value:b[e.name],onChange:t=>{M(e.name,t),S(t=>c(c({},t),{},{[e.name]:""}))},placeholder:e.placeholder,disabled:e.disabled,required:!0})}),k[e.name]&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1",children:k[e.name]})]},e.name))}),(0,qa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{name:"pickupArea",label:"Street/Area",placeholder:"Street name or area"},{name:"pickupCityPinCode",label:"Zip/Pincode",placeholder:"500001"},{name:"pickupCityCountry",label:"Country",placeholder:"India",fullWidth:!0}].map(e=>(0,qa.jsxs)("div",{className:e.fullWidth?"md:col-span-2":"","data-error":!!k[e.name],children:[(0,qa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label," ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("input",{type:"text",name:e.name,value:b[e.name],onChange:t=>{P(t),S(t=>c(c({},t),{},{[e.name]:""}))},placeholder:e.placeholder,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition ".concat(k[e.name]?"border-red-500 ring-2 ring-red-500":"border-gray-300"),required:!0}),k[e.name]&&(0,qa.jsx)("span",{className:"text-red-500 text-xs mt-1",children:k[e.name]})]},e.name))}),(0,qa.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-2",children:[(0,qa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,qa.jsx)(Ka,{className:"w-5 h-5 text-blue-600"}),"GPS Location"]}),(0,qa.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,qa.jsxs)("button",{type:"button",onClick:()=>{if(i(!0),o(""),!navigator.geolocation)return o("Geolocation is not supported by your browser"),void i(!1);navigator.geolocation.getCurrentPosition(async e=>{const{latitude:t,longitude:n}=e.coords;w(e=>c(c({},e),{},{latitude:t.toString(),longitude:n.toString()}));const r=await ss.reverseGeocode(t,n);r&&w(e=>c(c({},e),{},{pickupArea:r.street,pickupCity:r.city,pickupCityState:r.state,pickupCityPinCode:r.pincode,pickupCityCountry:r.country})),i(!1)},e=>{o("Unable to retrieve location. Please enable GPS."),i(!1)})},disabled:n,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50 text-sm",children:[n?(0,qa.jsx)(es,{className:"w-4 h-4 animate-spin"}):(0,qa.jsx)(ts,{className:"w-4 h-4"}),n?"Getting...":"Current Location"]}),(0,qa.jsxs)("button",{type:"button",onClick:()=>p(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition text-sm",children:[(0,qa.jsx)(Ka,{className:"w-4 h-4"}),"Open Map Picker"]})]})]}),a&&(0,qa.jsx)("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded mb-4",children:a}),s&&(0,qa.jsx)("div",{className:"mt-4 border border-gray-300 rounded-lg overflow-hidden",children:(0,qa.jsx)("iframe",{src:"https://www.openstreetmap.org/export/embed.html?bbox=".concat(parseFloat(b.longitude)-.01,",").concat(parseFloat(b.latitude)-.01,",").concat(parseFloat(b.longitude)+.01,",").concat(parseFloat(b.latitude)+.01,"&layer=mapnik&marker=").concat(b.latitude,",").concat(b.longitude),width:"100%",height:"300",style:{border:0},title:"Location Map"})})]}),(0,qa.jsx)("button",{type:"button",onClick:async e=>{e.preventDefault();const n={};b.bikeBrand||(n.bikeBrand="Bike brand is required"),b.bikeModel||(n.bikeModel="Bike model is required"),b.bikeYear||(n.bikeYear="Manufancturing year is required"),b.fuel||(n.fuel="Fuel type is required"),b.transmission||(n.transmission="Transmission type is required"),b.bikeNumber||(n.bikeNumber="Bike number is required"),b.bikeEngine||(n.bikeEngine="Engine capacity is required"),b.kmDriven||(n.kmDriven="KM driven is required"),(!b.pricePerKm||parseFloat(b.pricePerKm)<=0)&&(n.pricePerKm="Valid price per km is required"),b.contactName||(n.contactName="Contact name is required"),b.contactNumber?10!==b.contactNumber.length&&(n.contactNumber="Enter a valid 10-digit number"):n.contactNumber="Contact number is required",b.pickupCityState||(n.pickupCityState="State is required"),b.pickupCity||(n.pickupCity="City is required"),b.pickupArea||(n.pickupArea="Street/Area is required"),b.pickupCityPinCode||(n.pickupCityPinCode="Pincode is required"),b.pickupCityCountry||(n.pickupCityCountry="Country is required");if(b.photoFront||b.photoBack||b.photoLeft||b.photoRight||b.photoInterior||(n.photoFront="At least one photo is required"),S(n),Object.keys(n).length>0){const e=document.querySelector('[data-error="true"]');return void(null===e||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"}))}if(!b.userId||24!==b.userId.length||!/^[a-f0-9]{24}$/i.test(b.userId))return void alert("Invalid user ID format. Please log in again.");if(!b.latitude||!b.longitude)return void alert("Please get your current location");d(!0);const r=new FormData,i="".concat(b.bikeBrand," ").concat(b.bikeModel);r.append("userId",b.userId.trim()),r.append("bikeName",i.trim()),r.append("bikeModel",b.bikeYear),r.append("bikeNumber",b.bikeNumber.trim().toUpperCase()),r.append("bikeEngine",b.bikeEngine.trim()),r.append("fuel",b.fuel),r.append("transmission",b.transmission),r.append("pricePerKm",b.pricePerKm),r.append("description",b.description.trim()),r.append("contactName",b.contactName.trim()),r.append("contactNumber",b.contactNumber.trim()),r.append("InsuranceNo",b.insuranceNo.trim()),r.append("pickupArea",b.pickupArea.trim()),r.append("pickupCity",b.pickupCity.trim()),r.append("pickupCityState",b.pickupCityState.trim()),r.append("pickupCityPinCode",b.pickupCityPinCode.trim()),r.append("pickupCityCountry",b.pickupCityCountry.trim()),r.append("latitude",b.latitude),r.append("longitude",b.longitude),r.append("gps",b.gps.toString()),r.append("drivingLicense",b.drivingLicense.toString()),r.append("aadharCard",b.aadharCard.toString()),r.append("depositVehicle",b.depositVehicle.toString()),r.append("depositMoney",b.depositMoney),b.photoFront&&r.append("bikeImages",b.photoFront),b.photoBack&&r.append("bikeImages",b.photoBack),b.photoLeft&&r.append("bikeImages",b.photoLeft),b.photoRight&&r.append("bikeImages",b.photoRight),b.photoInterior&&r.append("bikeImages",b.photoInterior);try{await La.bike.createBike(r);t(!0)}catch(c){var a,o,s,l;let e="Failed to post bike. Please try again.";null!==c&&void 0!==c&&null!==(a=c.response)&&void 0!==a&&null!==(o=a.data)&&void 0!==o&&o.message?e=c.response.data.message:null!==c&&void 0!==c&&null!==(s=c.response)&&void 0!==s&&null!==(l=s.data)&&void 0!==l&&l.error?e=c.response.data.error:null!==c&&void 0!==c&&c.message&&(e=c.message),e.includes("userId")||e.includes("ObjectId")?e="Invalid user ID. Please log in again and try.":e.includes("bikeNumber")?e="Invalid bike number format. Please check and try again.":e.includes("duplicate")&&(e="This bike is already listed. Please check the bike number."),alert(e)}finally{d(!1)}},disabled:n||u,className:"w-full bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white font-semibold py-3 px-6 rounded-lg hover:opacity-90 transition-all shadow-md hover:shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:u?(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(es,{className:"w-5 h-5 animate-spin"}),"Posting..."]}):"Post Now"})]})]})}),h&&(0,qa.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",children:(0,qa.jsxs)("div",{className:"w-full max-w-5xl h-[80vh] bg-white rounded-lg overflow-hidden shadow-lg flex flex-col",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Location on Map"}),(0,qa.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Click anywhere on the map to set your location"})]}),(0,qa.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg transition text-sm font-medium",children:"Close"})]}),(0,qa.jsx)("div",{className:"flex-1",children:(0,qa.jsxs)(zo,{center:m,zoom:14,style:{height:"100%",width:"100%"},children:[(0,qa.jsx)(Zo,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,qa.jsx)(ls,{onClick:(e,t)=>{y([e,t]),i(!0),ss.reverseGeocode(e,t).then(n=>{n&&w(r=>c(c({},r),{},{latitude:e.toString(),longitude:t.toString(),pickupArea:n.street,pickupCity:n.city,pickupCityState:n.state,pickupCityPinCode:n.pincode,pickupCityCountry:n.country}))}).catch(e=>o(String(e))).finally(()=>i(!1))}}),g&&(0,qa.jsx)(Jo,{position:g})]})})]})}),e&&(0,qa.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 bg-black/40",children:(0,qa.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-sm w-full mx-auto text-center",children:[(0,qa.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,qa.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Posted Successfully! \ud83c\udf89"}),(0,qa.jsx)("p",{className:"text-gray-600 mb-6",children:"Your bike is now listed and visible to all users."}),(0,qa.jsx)("button",{onClick:()=>{t(!1),window.location.href="/listed-bike"},className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold py-3 px-6 rounded-lg hover:opacity-90 transition-all shadow-md",children:"View Listed Bikes"})]})})]})},us=Ga("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),ds=e=>{let{rating:t,maxStars:n=5,size:r="md",showNumber:i=!1,className:a=""}=e;const o=[],s=Math.floor(t),l=t%1!==0,c={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[r];for(let d=0;d<s;d++)o.push((0,qa.jsx)(us,{className:"".concat(c," fill-yellow-400 text-yellow-400")},"full-".concat(d)));l&&o.push((0,qa.jsx)(us,{className:"".concat(c," fill-yellow-400 text-yellow-400"),style:{clipPath:"inset(0 50% 0 0)"}},"half"));const u=n-Math.ceil(t);for(let d=0;d<u;d++)o.push((0,qa.jsx)(us,{className:"".concat(c," text-gray-300")},"empty-".concat(d)));return(0,qa.jsxs)("div",{className:"flex items-center gap-1 ".concat(a),children:[o,i&&(0,qa.jsx)("span",{className:"ml-1 text-sm font-medium text-gray-700",children:t.toFixed(1)})]})},hs=e=>{let{label:t}=e;return(0,qa.jsx)("div",{className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg",children:(0,qa.jsx)("span",{className:"text-sm text-gray-600",children:t})})},ps=()=>{const{id:e}=ve(),t=me(),n=ye(),[i,a]=(0,r.useState)(null),[o,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(0),[h,p]=(0,r.useState)([]),[m,f]=(0,r.useState)({averageRating:0,totalReviews:0,distribution:{5:0,4:0,3:0,2:0,1:0}}),[g,y]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const e=new URLSearchParams(t.search).get("type");s(e)},[t.search]),(0,r.useEffect)(()=>{(async()=>{if(e&&o)try{let t;c(!0),t="bike"===o?await La.bike.getBikeById(e):await La.car.getCarById(e);const n=La.utils.extractResponseData(t);a(n)}catch(t){console.error("\u274c Error fetching vehicle details:",t)}finally{c(!1)}})()},[e,o]),(0,r.useEffect)(()=>{(async()=>{if(e&&o)try{y(!0);const n=await La.review.getReviewsByCarId(e),r=La.utils.extractResponseData(n);console.log("\ud83d\udcca Reviews fetched:",r);const i=Array.isArray(r)?r.map(e=>({_id:e._id,userId:e.userId,userName:e.userName||"Anonymous",rating:e.rating||0,comment:e.comment||"",createdAt:e.createdAt||(new Date).toISOString(),location:e.location||"Unknown"})):[];p(i);try{const t=await La.review.getAverageRating(e,o),n=La.utils.extractResponseData(t);console.log("\u2b50 Rating data:",n);const r={5:0,4:0,3:0,2:0,1:0};i.forEach(e=>{const t=Math.round(e.rating);t>=1&&t<=5&&r[t]++}),f({averageRating:(null===n||void 0===n?void 0:n.averageRating)||0,totalReviews:i.length,distribution:r})}catch(t){console.warn("\u26a0\ufe0f Could not fetch average rating:",t);const e=i.length>0?i.reduce((e,t)=>e+t.rating,0)/i.length:0,n={5:0,4:0,3:0,2:0,1:0};i.forEach(e=>{const t=Math.round(e.rating);t>=1&&t<=5&&n[t]++}),f({averageRating:e,totalReviews:i.length,distribution:n})}}catch(n){console.error("\u274c Error fetching reviews:",n)}finally{y(!1)}})()},[e,o]);if(l)return(0,qa.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 text-gray-600 text-lg",children:"Loading vehicle details..."});if(!i)return(0,qa.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 text-gray-600 text-lg",children:"Vehicle not found."});const v=i.carName||i.bikeName||"Vehicle",x=i.carModel||i.bikeModel||"",b=i.price||0;return(0,qa.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:(0,qa.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,qa.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,qa.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,qa.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,qa.jsxs)("div",{className:"relative",children:[i.images&&i.images.length>0?(0,qa.jsx)("img",{src:i.images[u],alt:v,className:"w-full h-[400px] object-cover"}):(0,qa.jsx)("div",{className:"w-full h-[400px] flex items-center justify-center bg-gray-100 text-gray-500",children:"No Image Available"}),i.images&&i.images.length>1&&(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)("button",{onClick:()=>{var e;null!==i&&void 0!==i&&null!==(e=i.images)&&void 0!==e&&e.length&&d(e=>(e-1+i.images.length)%i.images.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white p-2 rounded-full shadow-lg transition",children:(0,qa.jsx)(oo,{className:"w-6 h-6"})}),(0,qa.jsx)("button",{onClick:()=>{var e;null!==i&&void 0!==i&&null!==(e=i.images)&&void 0!==e&&e.length&&d(e=>(e+1)%i.images.length)},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white p-2 rounded-full shadow-lg transition",children:(0,qa.jsx)(so,{className:"w-6 h-6"})})]}),i.images&&i.images.length>1&&(0,qa.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:i.images.map((e,t)=>(0,qa.jsx)("button",{onClick:()=>d(t),className:"w-2 h-2 rounded-full transition ".concat(t===u?"bg-white":"bg-white/50")},t))})]})}),(0,qa.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,qa.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:v}),(0,qa.jsx)("p",{className:"text-gray-500 mb-4",children:x}),(0,qa.jsxs)("div",{className:"flex items-baseline mb-6",children:[(0,qa.jsxs)("span",{className:"text-4xl font-bold text-gray-900",children:["\u20b9",b]}),(0,qa.jsxs)("span",{className:"text-gray-600 ml-2",children:["/",i.priceType||"hr"]})]}),(0,qa.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[(0,qa.jsx)(hs,{label:i.transmission||"Manual"}),(0,qa.jsx)(hs,{label:"".concat(i.seats||4," Seaters")}),(0,qa.jsx)(hs,{label:i.fuel||"Petrol"}),(0,qa.jsx)(hs,{label:"AC"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Description"}),(0,qa.jsx)("p",{className:"text-gray-600 leading-relaxed",children:i.description||"No description available."})]}),(0,qa.jsx)("button",{onClick:()=>n("/book-now/".concat(i._id,"?type=").concat(o)),className:"w-full mt-6 bg-gradient-to-r from-[#0B0E92] to-[#69A6F0] text-white font-semibold py-4 px-6 rounded-lg hover:opacity-90 transition-all shadow-md hover:shadow-lg",children:"Book Now"})]})]}),(0,qa.jsx)("div",{className:"lg:col-span-1",children:(0,qa.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Reviews"}),g?(0,qa.jsx)("div",{className:"text-center py-8",children:(0,qa.jsx)("p",{className:"text-gray-500",children:"Loading reviews..."})}):(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsxs)("div",{className:"mb-6",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,qa.jsx)(us,{className:"w-5 h-5 text-gray-400"}),(0,qa.jsx)("h3",{className:"font-semibold text-gray-900",children:"Ratings & Reviews"})]}),(0,qa.jsxs)("div",{className:"flex items-end gap-4 mb-4",children:[(0,qa.jsx)("span",{className:"text-5xl font-bold text-gray-900",children:m.averageRating.toFixed(1)}),(0,qa.jsxs)("div",{className:"pb-2",children:[(0,qa.jsx)(ds,{rating:m.averageRating}),(0,qa.jsxs)("p",{className:"text-sm text-gray-600",children:[m.totalReviews," reviews"]})]})]}),(0,qa.jsx)("div",{className:"flex flex-col gap-2",children:(()=>{const e=m.totalReviews;return 0===e?[{stars:5,count:0,percentage:0},{stars:4,count:0,percentage:0},{stars:3,count:0,percentage:0},{stars:2,count:0,percentage:0},{stars:1,count:0,percentage:0}]:[5,4,3,2,1].map(t=>({stars:t,count:m.distribution[t],percentage:Math.round(m.distribution[t]/e*100)}))})().map(e=>(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("span",{className:"text-sm font-medium w-3",children:e.stars}),(0,qa.jsx)(us,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),(0,qa.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,qa.jsx)("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:"".concat(e.percentage,"%")}})}),(0,qa.jsxs)("span",{className:"text-xs text-gray-500 w-10 text-right",children:[e.percentage,"%"]})]},e.stars))})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Customer Reviews"}),(0,qa.jsx)("div",{className:"space-y-4 max-h-[400px] overflow-y-auto",children:0===h.length?(0,qa.jsxs)("div",{className:"text-center py-8",children:[(0,qa.jsx)("p",{className:"text-gray-500 text-sm",children:"No reviews yet"}),(0,qa.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"Be the first to review this vehicle!"})]}):h.map(e=>(0,qa.jsx)("div",{className:"border-b border-gray-100 pb-4 last:border-0",children:(0,qa.jsxs)("div",{className:"flex items-start gap-3",children:[(0,qa.jsx)("img",{src:"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(e.userName||"User"),"&background=0B0E92&color=fff"),alt:e.userName,className:"w-10 h-10 rounded-full"}),(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,qa.jsx)("h4",{className:"font-semibold text-gray-900",children:e.userName}),(0,qa.jsx)(ds,{rating:e.rating,size:"sm"})]}),(0,qa.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:e.location||"Unknown location"}),(0,qa.jsx)("p",{className:"text-sm text-gray-600",children:e.comment})]})]})},e._id))})]})]})]})})]})})})},ms=Ga("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),fs=Ga("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);var gs=n(993),ys=n(75);const vs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAPpklEQVR4Aeycy44TxxfGK5N7lEj+K1JIokQYRYoSBBqPuIkVw4ol8ARMViwhTwA8AcySFfAE/FmyGlghrjMRiJtAYwTiJlBGAnG/5PvV9DHtcttu291tezCqmrp01Tmnvq/Pqeq2zZgb8H+zs7Olc+fObTt79uzu8+fP71f9qPKs8rzyv8rvg0wf12bUP8Mc5ipPImvAl+sGjpBTp06VBR7gHxKg82/fvv1XIB795JNP9r9//3636tuUK8pl5ZJymOjj2qQuTDKHucozyEKm8tEzZ85MKSNHwwYnDQQhImCSO1lAzX/++efzAg/wpwRT+bPPPnPfffed++GHH9yvv/7qfvvtN/fnn3+6VatWuUql4tasWVOX6ePa77//7scyh7nIQBYylbeNjY0dUvaeJt2HsEH9fU9j/bKA8CEg9oiEWREww50sWzwB33//vSuXyx708fFxB7gGbKlUct9884378ssv3aeffqop9Yk+rkEAYyGDuchAFmQiGx2M0+yydE9hg2yZl9dM4aXq70sqnBAtuCIi9it8zAuIvVp1hTsX4Ay0ADANyS5BJmSgwzyJtpEjrzmEl8rGQ/0gpjBCWJzuwBkteFZEsBeUuIuNBO5i2tlBn04SOo0cwiFexUzZONUPYnInJApN+1mcFjpp3rB69WofigBE/QORIANSsA2vwaiiicmVEHnErig04RF+YyZM4A1ffPEF6x3IjG14TQIxMwq5HDZyszsXQiw8yeoDyj40sTiIYNNV31CkBGLKCrkcx2dYYx6LyJwQvELhaVbGTrJREgLYJ1ic+oYyYTseQ2ZNWsQka9RR2Xu+2pmlzAixvUKWHXDOlYjBHDGJy+pbEok1cXNRakElHZX36zS2X/XMUiaE4L7aK/yzBJv2L7/84ribhik8pUXUvMXCrzb93YoK82CQVkarcT0TgiFy3xkpqeDOeMWyZcvUXNqJ56aVK1c61qyVlsEALFTvKfVEiE4cFRnCflHmgQsyuIN6smiIJrNWQhhrl9mQMgsmqneduiYExTpx4Bm1/WIphqh2yEIKN6LtK2ACNu3mNbveFSEoRLGElnBd9gvVP+oEBmAhEEpgA0aqd5w6JoQ4iUJp8mSwuak+SkIALOKkgJW6O0odEYIC7Rm1MIUBHWn7CAaDiYUvsAKzTpbdESEokHC/geOiqo9SAgJgE9voj/KMljAssSs1IdEDUJljHk/fidJGnTUEOH2BlToq796926MyVUpFiB58dvEAxEMfijhZpJKe7aChksaJE6wowS7ta5a2hEQxkA+S3I8//uhGZKS/L8Dq559/9hP0mmVPhKVvN/vTlhDtG4c02T9rLPsInsC11kwTp67YJg+WLeW3JET7Bu/+/VtbY7qltNHFRAQ4eUX7yWS70NWUENxLsc9vRj/99NMoVCVCna6TfYQXrowmdLU6dTUlRKEKMsq4Gxlho9w9AnwMEX1cXWp16kokBO+QasKVG+RQ9eLFC7ewsFCX6ZPtA5l4PsEwRZ7dEcY063IiIZF3ODyDk0LdjAFq3L9/301PT9flq1evDpCF9aaAJZs8vcI4cYNvICRibuC9g0UNYybisKfI9smkF5ANhIg59o6B8I65uTl37Ngx2Z5NQhYys5HWnRTIIPIwWy9p/Y1P3XIdIYPkHQBnAFKawd2WyIjLrMnpQyX2PLcjPHHVEaIYxzfGHScC1ftg6qJKA26x5VzYtv60pZFh48O29RdVgq2duN68eVP3zZU6QrT718JVUcYl6Tl9+nRDd7ekNAM/SUeD0hw7eLZDvJ5LtlJarhGiJ0i8w7/NxUNsQD/KHTt2+Pdmoe5OSWlGBu/k0BHKL7KNh7CfSGclwl5V9+EHO2JqBz3ffvstRV/zV1995QAM4EJD0pLSjgx0hLKLbtvmLuz5EZJXX/MQtfAQf7pSve8JwLolZRjIAGCLRCKkFrY8IdF52IcrXInBg5DbkXL8+PEGM0+ePOkPAeEFvA2CkRle61cbrAlb2rvLFy5cWI4dnhB1VmgUHa4IPwcPHnStXncAIEACKDbGM0/q8Tb1Bb1KoYxn5iIDWfH+eB0bsAWb4v15181L3r59ux1dnhAx5F0GxugsIrNwQgugHjlypGtS2tmalgxswBZswrZ2crO6bpjrIXEcmZ4QVbyHRB/Mq5lvYsEs3LQABIBwl1pfWHJ3c5cDcHitWZuxzGFuszHoRDc22Bhsw0Zr51kaIdLh9/Cx6EmxrLDlvv76a/Xnn27dutWgBEAABoAaLkYdAAvAAB11NS0Yw1jmNBuELnSiOxyTZGM4pkU79SUeEsFeUaoMF2N6UizUO7B069atjp8vU49ngAEggIr3x+sADNAAHu+P17nGGMbG++N1dKALnfF+6tiGjdSLyBaZtI9MErI8IUV5hy2QBbNwa1sJQAAFYNYXlgAN4AAfXqOPa4wJr1kb2ehAl/VZiU3YZu0iSsMeLxnTGbiMUlyHssjMwgEg1AlQAAZw4TVrA/iWLVusWSs3bNjguFbrCCrIRDY6gkvea7Ep7M+7bdjDBR7id/foQ/i8dTfIB4BuSWkQ1qZjEMnAZMPeewgdZDYWyn7kIkgZVDLA2wiRhyzHQ/oWsjDGcp6kDDIZrN+cQYSUIKREJ18TpcwrAwpn+1Z5+fLl/rOY0AbiPXE/nFutVsOhjuNqOI65yAgHl0olh85wfNjG9nBulm0jRCHrAyHWmaWiuCwWxQNXu5z06gM5ABrOPan3VlyLZ8AMxzE3Psbq6ArHJrWx3ebkUcaw94TkoWMks0sECFldTh1NywOBloTkoXAkszUCELLAED22U+SWeVjjJNUus9EmGcETeDiXh8Bw7Pj4uAvHMTccRxtd4dikNrYzPq8cw36hRojeaeWlz8tlUTwAtsqckNho/YTYHwDldUg4948//oiNWqyWy2VXqVTqMnORsTjiw190obMSjA/b2P5hVvY1I0TH3g+EvHv3LntNHUjkdMMJKZwCkADaCyjMRQayQvnoRHfYX2T75cuXXp2OvVU8xB/mrdNfKfgPgABMqBYAARJAw2udtpGBLGSGc9GNDWF/UW3zEPRBiP9wol+EAASAYEw8AxwAAmS8v5c6spCJ7FAONmBL2F9EO4b9P2O4CUpfvXpFUWgGAIAIlQIYwAFgeM3aPKw1+5IDe4ONC0tkIhsd4TVswaawP++2YQ8XvH73Iev58+d5662Tz8IBoK5TDYACMIBTMzFBRrPXIZDBNcrEyepENjrQpWZdwiZsq+vMuRHDfm5Mj+0n0Pfs2TOKQjILZuGhMgACKAALr1m7FRk2BjKGiRTDXu8T58YmJiZ4DqmyscRima0tl5IXeqHgrMgwub2SkmSjyc6yxDvAXjKrcMGmrro7yZ+nT59S5Jyd45zPA5gpypoMk9stKdiGjSYnz9K8Q/vHP+jxhKgxR+PJkycUhWQWzMLzIsMW0Skp2IRtNj/v0jAXB/9HlydET+m+gfF0FpVZ+M6dO7v+DBwyQ1tL+owj7GNdafYUbMGmcH6ebSNEOrxTeEI2btzIScvvI7EBGtPf1GoDB7ikLzls2rTJcS20PA0p4Zy822AdHXmr69ev/0BIpNj/mA/Do3Zfi3ZkEFqaGci1YSDl8ePHfgl6h+VPujS8h1CxGGaD6OtX7oUMs3kYSMFDsFfvEY9QkmuErFu3DpbmOILZQAb0IxPvkz525a4H6LQ2MZY54XiiADrC/iLb2GDhKsLeq68RQkte4sPWvXv3aPYtJ33OAbAA3KlRzGFuOI+9Juwrsm2RSN6xL663jhA9KR7QxQU8JGJPzeITAAKkaQ7b1p+2RBYybHzYtv6iSrDFQ9CniERkoupzHSE8KarXx7MHDx6o2r8EgAYcZa+WICMus1d5vcy/e/eun67N/HB0wvVt/tQRQodc6DAlLiX2qPYtG4BpDEgzxkhJMzavMXgH2CJf9bpwRV8DIdF5+ARkGJMMHOVsEDBMk7wDDQ2E0Pn69eu/KB8+fOjEItWBzGV9fr5r1y4Xz0mfsw+K8WDZyjuwM5GQKK5NM6BarVIMbC7pVUk8t3p13+9FtPMO7EskhAv6nGSvSn/ishOB2qPUJQJ4BlnTq/KUhr1D/T41JYQTl55L/MTbt2879hQ/Y/SnYwREgDPv0KFpXxSBEuU0JYTReoI8oPIEAiFF9VHqAgHIAENNPaFDkz/Fqp6YWhLCjGiDX8Dd2OTpG+X0CIAZ2GnGQoSlqs1TW0JwLwtdMaabSxxdqSGAV4AZHWAIltRb5baEMDkKXdPsI9euXRvtJ4DSJkNGDKvpCMM2s2L/PVO7kdGpaw5F169fbzd8iVzvfhk3btywZ7jq2rVr6/7XuFZSU3kIAjh1KQbyH6RU+WC+Wq3SPcoJCPAFbr5NoktVYbZZZeqUmhAkEgMjBX6TH528QKU+37lzxz169IhONvHNYEYjbe6IEISiQGdpWF/gBDEiBVQWM2Q8WHxLvgBGYLV4Jf3fjglBtM7ScyhU3ZMyCl/O//o3TgYYCZ+OU1eEoAWFRgrn7CtXrtgmxuWPJnPyvHz5ci1MgQnYdAtA14SgEMXaUyZU9xs9xzxOYWp/FIm1QkZsA58Ak14W3xMhKCZOihT2FF6aOQxkb+HaUs6skbVCitY5BwZgoXpPqWdC0I4hOmuvUN0/PLLRs69Exqp76SRCFMda1khdK5vWM1rHpynNS0yZEGKSRcpuvSL4W21/LCaEsb+ovSQSH0PgFXasZa2smWe0rBaYKSEYxSsCuS/7in9LjKeQh9lbsJ23Ezdv3rSDywnWyFpZc6e51fjMCUFZFMI263NjPgqu4iUXL150w0YMIYlnC2znq1Fa20LkFZmFKMmsS7kQYhrWrFlzWHfSZh0Fj9A3LMTgEewREBE9W2A+e8WKPLwC4ZZzJQQleIuOglMiZkVIDCGAuMy4Qch4AaEJIjhF4SGyi/C0Iuu9QnITU+6EmNYkYiADUgCAcAYgNr6oEp14A795hAza0s3P/KZ1A02IiNzCk/Q0pMIIMc1xYmyPIUQQzgDEyKHNW2Wbl1XJ7yiRzQ1gJMS8YU57xD4dY71HyLP9bzay0p1GTuGEmFEQwx6jO3CFQLB9xj9cGmC8jjHQuIsBDq/iLgbYKKSYSF/SxzXIZCxzmAvZyLp06ZI/XKCDsZrE5wjT2CBbJrRH7M3yGCv5HaW+ERK3UiDw4f+UAGGfmYg8h5/Z1X7VZcAS4gAXYAH4/PnzLp7p4xpkMhYymAuJRoDkHxYBf7OvoVN5NzbEbepXfSAIiS+eMBF5znYBtULh438Cb7MyD5x8eY9vi5O5s4n18enU6eMa4QZSufuZux1ZyJT8v0TAAbyUCYOU/wMAAP//0ZoVKwAAAAZJREFUAwAb11NtGymLNwAAAABJRU5ErkJggg==";var xs=n(64);const bs=Ga("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),ws=Ga("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ks=Ga("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Ss=e=>{let{isOpen:t,onClose:n,pageRole:i,currentUserId:a,currentUserName:o,ownerId:s,ownerName:l,ownerAvatar:c,customerId:u,customerName:d,customerAvatar:h,bookingId:p,vehicleId:m,apiUrl:f,socketUrl:g,useRealtime:y=!0}=e;const[v,x]=(0,r.useState)([]),[b,w]=(0,r.useState)(""),[k,S]=(0,r.useState)([]),[N,_]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[j,E]=(0,r.useState)(!1),T=(0,r.useRef)(null),I=(0,r.useRef)(null),R=(0,r.useRef)(null),P=a===s,M=P?u:s,L=P?d:l,D=P?c:h,B=(P?h:c)||"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(L),O=D||"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(o||"You");(0,r.useEffect)(()=>{t&&y&&(console.log("\ud83d\udd0d ========= POPUP CHAT INITIALIZED ========="),console.log("\ud83d\udcc4 Page Role:",i),console.log("\ud83d\udc64 Current User ID:",a),console.log("\ud83c\udfad Is Owner?:",P),console.log("\ud83c\udfe2 Owner ID:",s,"| Name:",l),console.log("\ud83d\udc65 Customer ID:",u,"| Name:",d),console.log("\ud83d\udcac Other User ID:",M,"| Name:",L),console.log("\ud83d\udcac Booking ID:",p),console.log("\ud83d\ude97 Vehicle ID:",m),console.log("==========================================="))},[t,i,a,s,u,p,m,y,P,M,L,l,d]);(0,r.useEffect)(()=>{setTimeout(()=>{var e;null===(e=I.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100)},[v]),(0,r.useEffect)(()=>{if(!t)return;let e=null,n=!0;return(async()=>{try{E(!0),console.log("\ud83d\udce5 Fetching messages for bookingId:",p);const e=new Pa(f),t=await e.getMessages(p);n&&(console.log("\u2705 Loaded ".concat(t.length," messages")),x(t))}catch(kN){console.error("\u274c Failed to fetch messages:",kN)}finally{n&&E(!1)}if(y&&n)try{const t=g||f;console.log("\ud83d\udd0c Connecting to Socket.IO...",t),e=er(t,{transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),R.current=e,e.on("connect",()=>{var t,r;console.log("\u2705 Socket connected, ID:",null===(t=e)||void 0===t?void 0:t.id),n&&A(!0),null===(r=e)||void 0===r||r.emit("join",a),console.log("\ud83d\udc4b Joined room with userId:",a)}),e.on("disconnect",()=>{console.log("\u274c Socket disconnected"),n&&A(!1)}),e.on("receiveMessage",e=>{console.log("\ud83d\udce8 Received message via Socket:",e),n&&x(t=>{const n=t.some(t=>{if(t._id&&e._id&&t._id===e._id)return!0;if(t.message===e.message&&t.senderId===e.senderId){return Math.abs(new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime())<1e3}return!1});return n?(console.log("\u26a0\ufe0f Duplicate message ignored"),t):(console.log("\u2705 New message added to state"),[...t,e])})}),e.on("error",e=>{console.error("\u274c Socket error:",e)})}catch(kN){console.error("\u274c Socket connection error:",kN)}})(),()=>{n=!1,e&&(console.log("\ud83d\udd0c Disconnecting socket..."),e.disconnect(),e=null),R.current&&(R.current=null),A(!1)}},[t,p,f,g,y,a]);const F=async()=>{if(!b.trim()&&0===k.length)return void console.warn("\u26a0\ufe0f Empty message, not sending");if(!a||!M||!p)return console.error("\u274c Missing required IDs:",{currentUserId:a,otherUserId:M,bookingId:p}),void alert("Error: Cannot send message. Missing user or booking information.");console.log("\ud83d\udce4 ========= SENDING MESSAGE ========="),console.log("  Message:",b),console.log("  From (senderId):",a),console.log("  To (receiverId):",M),console.log("  Booking ID:",p),console.log("  Files:",k.length),console.log("=====================================");const e={_id:"temp-".concat(Date.now(),"-").concat(Math.random()),senderId:a,receiverId:M,message:b,files:k.map(e=>URL.createObjectURL(e)),timestamp:(new Date).toISOString(),seen:!1};x(t=>[...t,e]);const t=b,n=[...k];w(""),S([]);try{var r;y&&null!==(r=R.current)&&void 0!==r&&r.connected&&(R.current.emit("sendMessage",{senderId:a,receiverId:M,message:t,bookingId:p}),console.log("\ud83d\udd0c Sent via Socket.IO")),console.log("\ud83d\udce6 Sending to /sendMessage endpoint");const i=new Pa(f),o=await i.sendMessage(p,a,M,t,n);console.log("\u2705 Message saved to database:",o),x(t=>t.map(t=>t._id===e._id?o:t))}catch(kN){console.error("\u274c Failed to send message:",kN),x(t=>t.filter(t=>t._id!==e._id)),alert("Failed to send message: ".concat(kN.message||"Unknown error"))}},V=e=>{try{return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch(t){return""}};return t?(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:n}),(0,qa.jsxs)("div",{className:"fixed right-6 bottom-6 bg-white rounded-2xl shadow-2xl z-50 flex flex-col transition-all duration-300 ".concat(N?"h-16":"h-[600px]"),style:{width:"400px"},children:[(0,qa.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-white rounded-t-2xl",children:[(0,qa.jsx)("img",{src:B,alt:L,className:"w-10 h-10 rounded-full ring-2 ring-blue-100"}),(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("h3",{className:"font-semibold text-gray-900",children:L}),(0,qa.jsxs)("p",{className:"text-xs flex items-center gap-1",children:[(0,qa.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(y?C?"bg-green-500":"bg-gray-400":"bg-blue-500")}),(0,qa.jsx)("span",{className:y?C?"text-green-600":"text-gray-500":"text-blue-600",children:y?C?"Online":"Connecting...":"Chat Mode"})]})]}),(0,qa.jsx)("button",{onClick:()=>_(!N),className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Minimize",children:(0,qa.jsx)(bs,{className:"w-4 h-4 text-gray-600"})}),(0,qa.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close",children:(0,qa.jsx)(Wa,{className:"w-5 h-5 text-gray-600"})})]}),!N&&(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[j?(0,qa.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,qa.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===v.length?(0,qa.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"No messages yet. Start the conversation!"}):v.map(e=>{const t=(e=>{var t;return("string"===typeof e.senderId?e.senderId:null===(t=e.senderId)||void 0===t?void 0:t._id)===a})(e);return(0,qa.jsx)("div",{className:"flex ".concat(t?"justify-end":"justify-start"),children:(0,qa.jsxs)("div",{className:"flex items-end gap-2 max-w-[75%] ".concat(t?"flex-row-reverse":"flex-row"),children:[(0,qa.jsx)("img",{src:t?O:B,alt:t?"You":L,className:"w-7 h-7 rounded-full flex-shrink-0 self-end"}),(0,qa.jsxs)("div",{className:"flex flex-col ".concat(t?"items-end":"items-start"),children:[!t&&(0,qa.jsx)("p",{className:"text-xs text-gray-600 mb-1 px-2",children:L}),(0,qa.jsxs)("div",{className:"rounded-2xl px-4 py-2 shadow-sm ".concat(t?"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-sm":"bg-white text-gray-900 rounded-bl-sm border border-gray-200"),children:[e.message&&(0,qa.jsx)("p",{className:"text-sm break-words whitespace-pre-wrap",children:e.message}),e.files&&e.files.map((t,n)=>(0,qa.jsx)("img",{src:t,alt:"attachment",className:"max-w-full h-auto rounded-lg max-h-64 cursor-pointer ".concat(e.message?"mt-2":""),onClick:()=>window.open(t,"_blank"),onError:e=>e.currentTarget.style.display="none"},n))]}),(0,qa.jsx)("p",{className:"text-xs text-gray-400 mt-1 px-2",children:V(e.timestamp)})]})]})},e._id)}),(0,qa.jsx)("div",{ref:I})]}),(0,qa.jsxs)("div",{className:"border-t border-gray-200 p-4 bg-white rounded-b-2xl",children:[k.length>0&&(0,qa.jsx)("div",{className:"mb-2 flex flex-wrap gap-2",children:k.map((e,t)=>(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview ".concat(t+1),className:"w-16 h-16 object-cover rounded-lg border border-gray-300"}),(0,qa.jsx)("button",{onClick:()=>S(e=>e.filter((e,n)=>n!==t)),className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center hover:bg-red-600","aria-label":"Remove file",children:"\xd7"})]},t))}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("input",{type:"file",ref:T,onChange:e=>{if(e.target.files){const t=Array.from(e.target.files);S(t),console.log("\ud83d\udcf8 Selected files:",t.map(e=>e.name))}T.current&&(T.current.value="")},accept:"image/*",multiple:!0,className:"hidden"}),(0,qa.jsx)("button",{onClick:()=>{var e;return null===(e=T.current)||void 0===e?void 0:e.click()},className:"p-2.5 bg-gray-100 text-gray-600 rounded-full hover:bg-gray-200 transition-all shadow-sm hover:shadow-md flex-shrink-0","aria-label":"Attach image",children:(0,qa.jsx)(ws,{className:"w-5 h-5"})}),(0,qa.jsx)("input",{type:"text",value:b,onChange:e=>w(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),F())},placeholder:"Write your message...",className:"flex-1 px-4 py-2.5 bg-gray-100 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all"}),(0,qa.jsx)("button",{onClick:F,disabled:!b.trim()&&0===k.length,className:"p-2.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-full hover:from-blue-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg flex-shrink-0","aria-label":"Send message",children:(0,qa.jsx)(ks,{className:"w-5 h-5"})})]})]})]})]})]}):null},Ns=Ga("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),_s=e=>{let{isOpen:t,onClose:n,onConfirm:r,bookingCustomerName:i,isDeleting:a}=e;return t?(0,qa.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:(0,qa.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 relative",children:[(0,qa.jsx)("button",{onClick:n,disabled:a,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:(0,qa.jsx)(Wa,{size:20})}),(0,qa.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,qa.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:(0,qa.jsx)(Ns,{className:"text-red-600",size:24})}),(0,qa.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Delete Booking"})]}),(0,qa.jsxs)("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete the booking for"," ",(0,qa.jsx)("span",{className:"font-semibold",children:i}),"?",(0,qa.jsx)("br",{}),(0,qa.jsx)("span",{className:"text-sm text-red-600 mt-2 block",children:"This action cannot be undone."})]}),(0,qa.jsxs)("div",{className:"flex gap-3",children:[(0,qa.jsx)("button",{onClick:n,disabled:a,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,qa.jsx)("button",{onClick:r,disabled:a,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Deleting..."]}):"Delete"})]})]})}):null},Cs=Ga("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),As=Ga("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),js=e=>{let{message:t,type:n,isVisible:i,onClose:a,duration:o=3e3}=e;return(0,r.useEffect)(()=>{if(i){const e=setTimeout(()=>{a()},o);return()=>clearTimeout(e)}},[i,o,a]),i?(0,qa.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,qa.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg min-w-[300px] ".concat("success"===n?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:["success"===n?(0,qa.jsx)(Cs,{className:"text-green-600",size:20}):(0,qa.jsx)(As,{className:"text-red-600",size:20}),(0,qa.jsx)("p",{className:"flex-1 text-sm font-medium ".concat("success"===n?"text-green-800":"text-red-800"),children:t}),(0,qa.jsx)("button",{onClick:a,className:"".concat("success"===n?"text-green-600":"text-red-600"," hover:opacity-70"),children:(0,qa.jsx)(Wa,{size:16})})]})}):null},Es=()=>{var e,t;const n=ye(),i=me(),{vehicleId:a}=ve(),o=(0,r.useRef)(!1),s=(0,r.useRef)(!1),[l,u]=(0,r.useState)(null),[d,h]=(0,r.useState)([]),[p,m]=(0,r.useState)(!0),[f,g]=(0,r.useState)(!0),[y,v]=(0,r.useState)(""),[x,b]=(0,r.useState)(""),[w,k]=(0,r.useState)(0),[S,N]=(0,r.useState)(!1),[_,C]=(0,r.useState)(null),[A,j]=(0,r.useState)(!1),[E,T]=(0,r.useState)(null),[I,R]=(0,r.useState)(!1),[P,M]=(0,r.useState)({show:!1,message:"",type:"success"}),L=null===(e=i.state)||void 0===e?void 0:e.vehicleData,D=(null===(t=i.state)||void 0===t?void 0:t.vehicleType)||(null!==L&&void 0!==L&&L.CarName||null!==L&&void 0!==L&&L.carImages?"car":"bike"),B=a||(null===L||void 0===L?void 0:L._id)||(null===L||void 0===L?void 0:L.id),O=localStorage.getItem("userId")||(null===l||void 0===l?void 0:l.userId)||"";(0,r.useEffect)(()=>{if(!B)return v("No vehicle ID provided"),void m(!1);if(o.current)return;(async()=>{try{var e;o.current=!0,m(!0);const t="car"===D?await La.car.getCarById(B):await La.bike.getBikeById(B),n=null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:t,r=(null===n||void 0===n?void 0:n.car)||(null===n||void 0===n?void 0:n.bike)||(null===n||void 0===n?void 0:n.data)||(null===n||void 0===n?void 0:n.vehicle)||n;if(!r||"object"!==typeof r)throw new Error("Invalid vehicle response format");u(r),v("")}catch(kN){var t,n;o.current=!1;const r=(null===kN||void 0===kN||null===(t=kN.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||(null===kN||void 0===kN?void 0:kN.message)||"Failed to load vehicle details";v(r)}finally{m(!1)}})()},[B,D]),(0,r.useEffect)(()=>{if(!B||!l)return void g(!1);if(s.current)return void g(!1);(async()=>{try{s.current=!0,g(!0);const t=l.userId;if(!t)return console.warn("No ownerId found for vehicle"),void h([]);const n="car"===D?"Car":"Bike";console.log("\ud83d\udcde Calling getMyVehicleBookings with:",{ownerId:t,vehicleTypeParam:n,finalVehicleId:B});const r=await La.chat.getMyVehicleBookings(t,n,B);console.log("\ud83d\udce6 Full API Response:",r);let i=[];if(r&&"object"===typeof r&&"data"in r){var e;const t=n.toLowerCase(),a=null===(e=r.data)||void 0===e?void 0:e[t];if(console.log("\ud83d\udce6 Vehicles array for ".concat(t,":"),a),Array.isArray(a)&&a.length>0){const e=a.find(e=>e._id===B);e&&Array.isArray(e.bookings)?(i=e.bookings,console.log("\u2705 Found bookings:",i)):console.log("\u26a0\ufe0f No bookings found for this vehicle")}}else Array.isArray(r)&&(i=r);const a=i.map(e=>{var t,n;return{_id:e._id,customerName:e.contactName||"Unknown Customer",contactName:e.contactName,startDate:e.FromDate?new Date(e.FromDate).toLocaleDateString("en-GB"):"N/A",FromDate:e.FromDate,startTime:(null===(t=e.FromTime)||void 0===t?void 0:t.replace(".",":"))||"N/A",FromTime:e.FromTime,endDate:e.ToDate?new Date(e.ToDate).toLocaleDateString("en-GB"):"N/A",ToDate:e.ToDate,endTime:(null===(n=e.ToTime)||void 0===n?void 0:n.replace(".",":"))||"N/A",ToTime:e.ToTime,mobile:e.contactNumber||"N/A",contactNumber:e.contactNumber,status:e.status,userId:e.userId,VechileId:e.VechileId,totalPrice:e.totalPrice}});console.log("\u2705 Transformed bookings:",a),h(a),b("")}catch(kN){s.current=!1;const t=(null===kN||void 0===kN?void 0:kN.message)||"Failed to load booking history";console.error("\u274c Error loading bookings:",kN),b(t),h([])}finally{g(!1)}})()},[B,l,D]);const F=e=>{if(!e)return"N/A";const t=e.replace(/\D/g,"");if(t.length>=3){const e=t.slice(-3),n=t.length-3;return"X".repeat(n)+e}return e};if(p)return(0,qa.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,qa.jsxs)("div",{className:"bg-white p-6 rounded-lg",children:[(0,qa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,qa.jsx)("p",{className:"mt-4 text-gray-700 font-medium",children:"Loading vehicle details..."})]})});if(y||!l)return(0,qa.jsxs)("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center",children:[(0,qa.jsx)("p",{className:"text-red-600 text-lg mb-4",children:y||"Vehicle not found"}),(0,qa.jsx)("button",{onClick:()=>n(-1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]});const V=!!l.CarName||!!l.carImages||"car"===D;let z=(V?l.carImages:l.bikeImages)||[];z=z.filter(e=>e&&""!==e.trim()&&"undefined"!==e);const U=V?["https://e7.pngegg.com/pngimages/768/421/png-clipart-car-computer-icons-sedan-auto-detailing-auto-driving-rectangle-thumbnail.png","https://png.pngtree.com/png-vector/20191201/ourmid/pngtree-car-vector-logo-design-png-image_2066853.jpg"]:["https://w7.pngwing.com/pngs/579/51/png-transparent-computer-icons-motorcycle-bicycle-motorcycle-logo-black-silhouette.png","https://w1.pngwing.com/pngs/381/835/png-transparent-yamaha-logo-car-decal-motorcycle-sticker-sport-bike-yamaha-yzfr1-bicycle-thumbnail.png"];0===z.length&&(z=U);const H=[...z];for(;H.length<3;)H.push(U[H.length%U.length]);const G=V?"".concat(l.CarName||"Unknown"," ").concat(l.CarModel||"").trim():"".concat(l.bikeName||"Unknown"," ").concat(l.bikeModel||"").trim(),K=V?l.RentPerHour||0:l.pricePerKm||0;return(0,qa.jsxs)("div",{className:"min-h-screen bg-white px-3 sm:px-6 py-4 sm:py-10",children:[(0,qa.jsxs)("div",{className:"max-w-[1400px] mx-auto flex flex-col lg:flex-row gap-4 lg:gap-8",children:[(0,qa.jsx)("div",{className:"flex-1 bg-white",children:(0,qa.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 mb-6",children:[(0,qa.jsxs)("div",{className:"relative w-full md:w-[420px] h-[250px] sm:h-[300px] flex-shrink-0 rounded-[10px] border-2 border-transparent hover:border-[#0066FF] transition-all duration-200",children:[(0,qa.jsx)("img",{src:H[w],alt:G,className:"w-full h-full object-cover transition-all duration-500 rounded-[10px]"}),(0,qa.jsx)("button",{onClick:e=>{e.stopPropagation(),k(e=>0===e?H.length-1:e-1)},className:"absolute left-3 top-1/2 -translate-y-1/2 w-12 h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center shadow-2xl z-20",children:(0,qa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),(0,qa.jsx)("button",{onClick:e=>{e.stopPropagation(),k(e=>e===H.length-1?0:e+1)},className:"absolute right-3 top-1/2 -translate-y-1/2 w-12 h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center shadow-2xl z-20",children:(0,qa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),(0,qa.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-1.5",children:H.map((e,t)=>(0,qa.jsx)("button",{onClick:()=>k(t),className:"h-2 rounded-full transition-all ".concat(t===w?"bg-[#0066FF] w-6":"bg-gray-700 w-2")},t))})]}),(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("h1",{className:"text-[32px] font-bold mb-1",children:G}),(0,qa.jsxs)("div",{className:"flex items-baseline gap-1 mb-3",children:[(0,qa.jsxs)("span",{className:"text-[32px] font-bold",children:["\u20b9",K]}),(0,qa.jsxs)("span",{className:"text-base text-gray-600",children:["/",V?"hr":"km"]})]}),(0,qa.jsx)("div",{className:"border rounded-[10px] mb-4",children:(0,qa.jsx)("div",{className:"flex",children:V?(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center py-3",children:[(0,qa.jsx)("img",{src:gs,className:"w-6 h-6 mb-1.5",alt:"transmission"}),(0,qa.jsx)("span",{className:"text-[13px]",children:l.transmissionType||"Manual"})]}),(0,qa.jsx)("div",{className:"w-[1px] bg-gray-200"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center py-3",children:[(0,qa.jsx)("img",{src:So,className:"w-6 h-6 mb-1.5",alt:"seats"}),(0,qa.jsxs)("span",{className:"text-[13px]",children:[l.Carseeter||"5"," Seaters"]})]}),(0,qa.jsx)("div",{className:"w-[1px] bg-gray-200"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center py-3",children:[(0,qa.jsx)("img",{src:ys,className:"w-6 h-6 mb-1.5",alt:"fuel"}),(0,qa.jsx)("span",{className:"text-[13px]",children:l.fuelType||"Petrol"})]}),(0,qa.jsx)("div",{className:"w-[1px] bg-gray-200"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center py-3",children:[(0,qa.jsx)("img",{src:vs,className:"w-6 h-6 mb-1.5",alt:"ac"}),(0,qa.jsx)("span",{className:"text-[13px]",children:l.Ac_available?"AC":"Non-AC"})]})]}):(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center py-3",children:[(0,qa.jsx)("img",{src:xs,className:"w-6 h-6 mb-1.5",alt:"engine"}),(0,qa.jsxs)("span",{className:"text-[13px]",children:[l.engineCapacity||"350"," CC"]})]}),(0,qa.jsx)("div",{className:"w-[1px] bg-gray-200"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center py-3",children:[(0,qa.jsx)("img",{src:gs,className:"w-6 h-6 mb-1.5",alt:"transmission"}),(0,qa.jsx)("span",{className:"text-[13px]",children:l.transmission||"Manual"})]}),(0,qa.jsx)("div",{className:"w-[1px] bg-gray-200"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center py-3",children:[(0,qa.jsx)("img",{src:ys,className:"w-6 h-6 mb-1.5",alt:"fuel"}),(0,qa.jsx)("span",{className:"text-[13px]",children:l.fuel||"Petrol"})]}),(0,qa.jsx)("div",{className:"w-[1px] bg-gray-200"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center py-3",children:[(0,qa.jsx)("img",{src:To,className:"w-6 h-6 mb-1.5",alt:"location"}),(0,qa.jsx)("span",{className:"text-[13px]",children:l.pickupCity||"N/A"})]})]})})}),(0,qa.jsxs)("div",{className:"border rounded-[10px] p-4",children:[(0,qa.jsx)("h2",{className:"text-[18px] font-bold mb-2",children:"Description"}),(0,qa.jsx)("p",{className:"text-gray-600 text-[14px]",children:l.description||"No description available"})]})]})]})}),(0,qa.jsx)("aside",{className:"w-full lg:w-[380px]",children:(0,qa.jsxs)("div",{className:"sticky top-6 bg-white p-6 rounded-[12px] shadow-lg border",children:[(0,qa.jsx)("h2",{className:"text-[20px] font-semibold mb-6",children:"Booking History"}),f?(0,qa.jsxs)("div",{className:"flex flex-col items-center py-8",children:[(0,qa.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,qa.jsx)("p",{className:"mt-3 text-sm text-gray-600",children:"Loading bookings..."})]}):0===d.length?(0,qa.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,qa.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udccb"}),(0,qa.jsx)("p",{className:"font-medium",children:"No bookings yet"})]}):(0,qa.jsx)("div",{className:"space-y-3 max-h-[70vh] overflow-y-auto",children:d.map(e=>(0,qa.jsxs)("div",{className:"border rounded-lg p-4 hover:border-blue-500 transition-all relative",children:[(0,qa.jsx)("button",{onClick:t=>((e,t)=>{t.stopPropagation(),T(e),j(!0)})(e,t),className:"absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-red-50 hover:bg-red-100 text-red-600 transition-colors z-10",title:"Delete booking",children:(0,qa.jsx)(ms,{size:16})}),(0,qa.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,qa.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,qa.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,qa.jsx)("path",{d:"M8 8C9.65685 8 11 6.65685 11 5C11 3.34315 9.65685 2 8 2C6.34315 2 5 3.34315 5 5C5 6.65685 6.34315 8 8 8Z",fill:"#666"}),(0,qa.jsx)("path",{d:"M8 9C5.33333 9 2 10.3333 2 13V14H14V13C14 10.3333 10.6667 9 8 9Z",fill:"#666"})]})}),(0,qa.jsx)("h3",{className:"font-semibold pr-8",children:e.customerName})]}),(0,qa.jsxs)("div",{className:"space-y-1 text-sm mb-2",children:[(0,qa.jsxs)("div",{className:"flex gap-2",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"From:"}),(0,qa.jsxs)("span",{children:[e.startDate," ",e.startTime]})]}),(0,qa.jsxs)("div",{className:"flex gap-2",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"To:"}),(0,qa.jsxs)("span",{children:[e.endDate," ",e.endTime]})]}),(0,qa.jsxs)("div",{className:"flex gap-2",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"Mobile:"}),(0,qa.jsx)("span",{children:F(e.mobile)})]})]}),(0,qa.jsx)("div",{className:"flex items-center justify-between",children:(0,qa.jsx)("span",{className:"inline-block px-2.5 py-0.5 rounded text-xs font-medium ".concat("Confirmed"===e.status?"bg-blue-100 text-blue-700":"Completed"===e.status?"bg-green-100 text-green-700":"Cancelled"===e.status?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:e.status})}),"Confirmed"===e.status&&(0,qa.jsx)("div",{className:"flex gap-2 mt-3",children:(0,qa.jsxs)("button",{onClick:t=>((e,t)=>{t.stopPropagation(),null!==l&&void 0!==l&&l.userId&&e.userId&&e._id?(C(e),N(!0)):alert("Error: Unable to start chat. Missing required information.")})(e,t),className:"flex-1 flex items-center justify-center gap-2 py-2 bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white rounded-full font-semibold",children:[(0,qa.jsx)(fs,{size:18}),(0,qa.jsx)("span",{children:"Chat"})]})}),"Completed"===e.status&&(0,qa.jsx)("div",{className:"mt-3",children:(0,qa.jsx)("div",{className:"bg-green-500 text-white text-center py-2 rounded-full font-semibold shadow-md",children:"\u2714 Ride Completed"})})]},e._id))})]})})]}),S&&_&&l&&(0,qa.jsx)(Ss,{isOpen:S,onClose:()=>{N(!1),C(null)},pageRole:"ownerView",currentUserId:l.userId||O,currentUserName:l.contactName,ownerId:l.userId||O,ownerName:l.contactName||"Owner",ownerAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(l.contactName||"Owner"),customerId:_.userId||"",customerName:_.customerName||_.contactName||"Customer",customerAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(_.customerName||"Customer"),bookingId:_._id||"",vehicleId:_._id||"",apiUrl:La.chat.apiUrl,socketUrl:Sa,useRealtime:!0}),(0,qa.jsx)(_s,{isOpen:A,onClose:()=>{j(!1),T(null)},onConfirm:async()=>{if(null!==E&&void 0!==E&&E._id){R(!0);try{await La.booking.deleteBooking(E._id),h(e=>e.filter(e=>e._id!==E._id)),M({show:!0,message:"Booking deleted successfully",type:"success"}),j(!1),T(null)}catch(kN){var e,t;const r=(null===kN||void 0===kN||null===(e=kN.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===kN||void 0===kN?void 0:kN.message)||"Failed to delete booking";M({show:!0,message:r,type:"error"})}finally{R(!1)}}},bookingCustomerName:(null===E||void 0===E?void 0:E.customerName)||"this customer",isDeleting:I}),(0,qa.jsx)(js,{message:P.message,type:P.type,isVisible:P.show,onClose:()=>M(e=>c(c({},e),{},{show:!1}))})]})},Ts=n.p+"static/media/BlackCar.78dc2ce6a1e75a410875.png",Is=Tt()(bo((e,t)=>({vehicles:[],addVehicle:t=>{const n=c(c({},t),{},{id:Date.now().toString()+Math.random().toString(36),createdAt:Date.now()});e(e=>({vehicles:[...e.vehicles,n]}))},updateVehicle:(t,n)=>{e(e=>({vehicles:e.vehicles.map(e=>e.id===t?c(c({},e),n):e)}))},deleteVehicle:t=>{e(e=>({vehicles:e.vehicles.filter(e=>e.id!==t)}))},getVehicleById:e=>t().vehicles.find(t=>t.id===e),getVehicleByName:e=>t().vehicles.find(t=>t.name===e)}),{name:"vehicle-storage"})),Rs=Tt()(bo((e,t)=>({cars:[],addCar:t=>{const n=c(c({},t),{},{id:Date.now().toString()+Math.random().toString(36),rating:0,createdAt:new Date});e(e=>({cars:[n,...e.cars]}))},updateCar:(t,n)=>{e(e=>({cars:e.cars.map(e=>e.id===t?c(c({},e),n):e)}))},deleteCar:t=>{e(e=>({cars:e.cars.filter(e=>e.id!==t)}))},getCarById:e=>t().cars.find(t=>t.id===e)}),{name:"listed-cars-storage"})),Ps=Tt()(bo((e,t)=>({bikes:[],addBike:t=>{var n,r,i,a;const o=c(c({},t),{},{id:Date.now().toString()+Math.random().toString(36),rating:0,createdAt:new Date,drivingLicense:null!==(n=t.drivingLicense)&&void 0!==n&&n,aadharCard:null!==(r=t.aadharCard)&&void 0!==r&&r,depositVehicle:null!==(i=t.depositVehicle)&&void 0!==i&&i,depositMoney:t.depositMoney||"0",transmission:t.transmission||"Manual",fuel:t.fuel||"Petrol",engineCapacity:t.engineCapacity||"",photos:null!==(a=t.photos)&&void 0!==a&&a.length?t.photos:[]});e(e=>({bikes:[o,...e.bikes]}))},updateBike:(t,n)=>{e(e=>({bikes:e.bikes.map(e=>{var r,i,a,o,s,l,u,d;return e.id===t?c(c(c({},e),n),{},{drivingLicense:null!==(r=n.drivingLicense)&&void 0!==r?r:e.drivingLicense,aadharCard:null!==(i=n.aadharCard)&&void 0!==i?i:e.aadharCard,depositVehicle:null!==(a=n.depositVehicle)&&void 0!==a?a:e.depositVehicle,depositMoney:null!==(o=n.depositMoney)&&void 0!==o?o:e.depositMoney,transmission:null!==(s=n.transmission)&&void 0!==s?s:e.transmission,fuel:null!==(l=n.fuel)&&void 0!==l?l:e.fuel,engineCapacity:null!==(u=n.engineCapacity)&&void 0!==u?u:e.engineCapacity,photos:null!==(d=n.photos)&&void 0!==d&&d.length?n.photos:e.photos}):e})}))},deleteBike:t=>{e(e=>({bikes:e.bikes.filter(e=>e.id!==t)}))},getBikeById:e=>t().bikes.find(t=>t.id===e)}),{name:"listed-bikes-storage"})),Ms={id:void 0,name:"Hyundai Verna",number:"Ap234",price:"250",transmission:"Automatic",seats:"5 Seaters",fuel:"Petrol",ac:!0,rating:"4.2",image:Ts,description:"Lorem ipsum is simply dummy text of the printing and typesetting industry.",location:{state:"Andhra Pradesh",district:"East Godavari",city:"Kakinada",pincode:"533001",street:"Gandhi Nagar"},documents:{drivingLicense:!0,aadharCard:!0,depositVehicle:!0,depositMoney:"10000"},createdAt:Date.now()},Ls=()=>{var e;const{vehicleName:t}=ve(),n=ye(),i=me(),{getVehicleByName:a,updateVehicle:o,deleteVehicle:s,addVehicle:l}=Is(),{cars:u,updateCar:d,deleteCar:h}=Rs(),{bikes:p,updateBike:m,deleteBike:f}=Ps(),g=null===(e=i.state)||void 0===e?void 0:e.carData,[y,v]=(0,r.useState)(()=>{if(g)return g;const e=a(t||"");if(e)return e;const n=u.find(e=>e.carName===t);var r;if(n)return{id:n.id,name:n.carName,number:n.carNumber,price:n.rentPrice,transmission:n.transmission,seats:"5 Seaters",fuel:n.fuel,ac:n.acAvailable,rating:(null===(r=n.rating)||void 0===r?void 0:r.toString())||"4.0",image:n.photos[0]||Ts,description:n.description,location:{state:n.state,district:n.state,city:n.city,pincode:n.pincode,street:n.street},documents:{drivingLicense:n.drivingLicense,aadharCard:n.aadharCard,depositVehicle:n.depositVehicle,depositMoney:n.depositMoney},createdAt:Date.now()};const i=p.find(e=>e.vehicleName===t);var o,s,l,c;return i?{id:i.id,name:i.vehicleName,price:i.farePrice,transmission:i.transmission||"Manual",seats:"2 Seaters",fuel:i.fuel||"Petrol",ac:!1,rating:(null===(o=i.rating)||void 0===o?void 0:o.toString())||"4.0",image:i.photos[0]||Ts,description:i.description||"",location:{state:i.state||"",district:i.state||"",city:i.city||"",pincode:i.pincode||"",street:i.street||""},documents:{drivingLicense:null!==(s=i.drivingLicense)&&void 0!==s&&s,aadharCard:null!==(l=i.aadharCard)&&void 0!==l&&l,depositVehicle:null!==(c=i.depositVehicle)&&void 0!==c&&c,depositMoney:i.depositMoney||"0"},createdAt:i.createdAt?new Date(i.createdAt).getTime():Date.now()}:Ms}),x=(e,t)=>v(n=>c(c({},n),{},{[e]:t})),b=(e,t)=>v(n=>c(c({},n),{},{location:c(c({},n.location),{},{[e]:t})}));return(0,qa.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,qa.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Edit Vehicle Details"}),(0,qa.jsxs)("div",{className:"mb-4",children:[(0,qa.jsx)("label",{className:"block text-gray-700",children:"Name"}),(0,qa.jsx)("input",{className:"border p-2 w-full",value:y.name,onChange:e=>x("name",e.target.value)})]}),(0,qa.jsxs)("div",{className:"mb-4",children:[(0,qa.jsx)("label",{className:"block text-gray-700",children:"Price"}),(0,qa.jsx)("input",{className:"border p-2 w-full",value:y.price,onChange:e=>x("price",e.target.value)})]}),(0,qa.jsxs)("div",{className:"mb-4",children:[(0,qa.jsx)("label",{className:"block text-gray-700",children:"Description"}),(0,qa.jsx)("textarea",{className:"border p-2 w-full",value:y.description,onChange:e=>x("description",e.target.value)})]}),(0,qa.jsxs)("div",{className:"mb-4 grid grid-cols-2 gap-2",children:[(0,qa.jsx)("input",{className:"border p-2",placeholder:"State",value:y.location.state,onChange:e=>b("state",e.target.value)}),(0,qa.jsx)("input",{className:"border p-2",placeholder:"City",value:y.location.city,onChange:e=>b("city",e.target.value)}),(0,qa.jsx)("input",{className:"border p-2",placeholder:"District",value:y.location.district,onChange:e=>b("district",e.target.value)}),(0,qa.jsx)("input",{className:"border p-2",placeholder:"Pincode",value:y.location.pincode,onChange:e=>b("pincode",e.target.value)})]}),(0,qa.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,qa.jsx)("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>{const e=y.id;if(!e)return l(c(c({},y),{},{type:"car"})),alert("Vehicle added successfully!"),void n("/listed");u.find(t=>t.id===e)?d(e,{carName:y.name,rentPrice:y.price,transmission:y.transmission,fuel:y.fuel,acAvailable:y.ac,description:y.description,state:y.location.state,city:y.location.city,pincode:y.location.pincode,street:y.location.street,drivingLicense:y.documents.drivingLicense,aadharCard:y.documents.aadharCard,depositVehicle:y.documents.depositVehicle,depositMoney:y.documents.depositMoney}):p.find(t=>t.id===e)?m(e,{vehicleName:y.name,farePrice:y.price,transmission:y.transmission,fuel:y.fuel,description:y.description,state:y.location.state,city:y.location.city,pincode:y.location.pincode,street:y.location.street,drivingLicense:y.documents.drivingLicense,aadharCard:y.documents.aadharCard,depositVehicle:y.documents.depositVehicle,depositMoney:y.documents.depositMoney}):o(e,y),alert("Vehicle details saved successfully!"),n(-1)},children:"Save"}),(0,qa.jsx)("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:()=>{if(!window.confirm("Are you sure you want to delete this vehicle?"))return;const e=y.id;e&&(u.find(t=>t.id===e)?h(e):p.find(t=>t.id===e)?f(e):s(e),alert("Vehicle deleted successfully!"),n("/listed"))},children:"Delete"}),(0,qa.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>{alert("Add photo functionality \u2014 file picker would open here.")},children:"Add Photo"})]})]})},Ds=n.p+"static/media/Enfield.a77020728524aa250a79.png",Bs=n.p+"static/media/yamaha.def6b4dd57774038e0a6.png",Os=n.p+"static/media/tvs-ntorq.84019c2cf51275ac9fc6.png",Fs=n.p+"static/media/Activa.ec7e19c03e3daa6759d1.png",Vs=[{id:"1",name:"Hyundai Verna",price:250,seats:5,transmission:"Automatic",fuel:"Petrol",rating:4.2,image:Ts,type:"Car",location:"Kakinada",available:!0,description:"Compact hatchback perfect for city rides."},{id:"2",name:"Maruti Swift",price:180,seats:5,transmission:"Manual",fuel:"Petrol",rating:4,image:Ts,type:"Car",location:"Hyderabad",available:!0,description:"Compact hatchback perfect for city rides."},{id:"5",name:"Honda City",price:300,seats:5,transmission:"Automatic",fuel:"Petrol",rating:4.5,image:Ts,type:"Car",location:"Hyderabad",available:!0,description:"Compact hatchback perfect for city rides."},{id:"6",name:"Toyota Innova",price:450,seats:7,transmission:"Manual",fuel:"Diesel",rating:4.7,image:Ts,type:"Car",location:"Bangalore",available:!0,description:"Compact hatchback perfect for city rides."},{id:"7",name:"Mahindra XUV500",price:400,seats:7,transmission:"Automatic",fuel:"Diesel",rating:4.4,image:Ts,type:"Car",location:"kakinada",available:!0,description:"Compact hatchback perfect for city rides."},{id:"8",name:"Tata Nexon",price:220,seats:5,transmission:"Manual",fuel:"Petrol",rating:4.3,image:Ts,description:"Compact hatchback perfect for city rides",location:"Hyderabad",available:!0,type:"Car"},{id:"13",name:"Royal Enfield ",price:120,transmission:"Manual",fuel:"Petrol",seats:2,location:"Kakinada",rating:4.6,available:!0,image:Ds,type:"Bike",description:"Compact hatchback perfect for city rides."},{id:"14",name:"Yamaha FZ-S",price:100,transmission:"Manual",fuel:"Petrol",seats:2,location:"Rajahmundry",rating:4.4,available:!0,image:Bs,type:"Bike",description:"Compact hatchback perfect for city rides."},{id:"15",name:"TVS Ntorq",price:90,transmission:"Automatic",fuel:"Petrol",seats:2,location:"Kakinada",rating:4.3,available:!0,image:Os,type:"Bike",description:"Compact hatchback perfect for city rides."},{id:"16",name:"Honda Activa 6G",price:80,transmission:"Automatic",fuel:"Petrol",seats:2,location:"Vijayawada",rating:4.6,available:!0,image:Fs,type:"Bike",description:"Compact hatchback perfect for city rides."}],zs=Ga("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Us=Ga("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Hs=Ga("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Gs=Ga("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Ks=Ga("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Ws=e=>{var t;let{isOpen:n,bookingId:i,bookingStatus:a="Waiting for response...",timer:o,timerSeconds:s,onClose:l,onTimerComplete:c,onAccepted:u,onRejected:d,onTimeout:h}=e;const p=null!==(t=null!==s&&void 0!==s?s:o)&&void 0!==t?t:120,[m,f]=(0,r.useState)(p),g=(0,r.useRef)(null),y=(0,r.useRef)(!1);if((0,r.useEffect)(()=>{n?(console.log("\ud83d\udfe2 WaitingPopup OPENED - Timer set to:",p,"seconds"),f(p),y.current=!1):(console.log("\ud83d\udd34 WaitingPopup CLOSED"),g.current&&(clearInterval(g.current),g.current=null))},[n,p]),(0,r.useEffect)(()=>{if(n)return console.log("\u23f1 Starting countdown from",m),g.current&&clearInterval(g.current),g.current=setInterval(()=>{f(e=>{const t=e-1;return t%10===0&&t>0&&console.log("\u23f1 Timer:",t,"seconds remaining"),t<=0?(console.log("\u23f0 TIMER REACHED 0 - Closing popup and calling callbacks"),g.current&&(clearInterval(g.current),g.current=null),y.current||(y.current=!0,setTimeout(()=>{null===h||void 0===h||h(),null===c||void 0===c||c(),l()},100)),0):t})},1e3),()=>{console.log("\ud83e\uddf9 Cleaning up timer interval"),g.current&&(clearInterval(g.current),g.current=null)}},[n,h,c,l]),(0,r.useEffect)(()=>{if(!n)return;let e=null,t=null;const r=()=>{try{e||(e=new(window.AudioContext||window.webkitAudioContext));const t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(880,e.currentTime),n.gain.setValueAtTime(.05,e.currentTime),n.gain.exponentialRampToValueAtTime(1e-4,e.currentTime+1),t.start(e.currentTime),t.stop(e.currentTime+1)}catch(nl){console.error("Audio play failed",nl)}};return r(),t=setInterval(r,3e3),()=>{t&&clearInterval(t),e&&"closed"!==e.state&&e.close()}},[n]),!n)return null;console.log("\ud83c\udfa8 WaitingPopup RENDERING - Time remaining:",m);const v=2*Math.PI*45,x=p>0?p:120,b=Math.max(0,Math.min(1,m/x)),w=v*(1-b);return(0,qa.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-end justify-center",children:[(0,qa.jsx)("div",{className:"absolute inset-0 bg-black/40",style:{backdropFilter:"blur(12px)"}}),(0,qa.jsxs)("div",{className:"relative w-full bg-white rounded-t-3xl shadow-2xl pb-8 pt-6 px-6",style:{animation:"slideUp 0.28s ease-out",maxWidth:"600px"},role:"dialog","aria-modal":"true",children:[(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-1",children:"Waiting for response!"}),a&&(0,qa.jsx)("p",{className:"text-center text-sm text-gray-600 mb-2",children:a}),i&&(0,qa.jsxs)("p",{className:"text-center text-xs text-gray-400 mb-2",children:["Booking: ",i.substring(0,8),"..."]}),(0,qa.jsx)("div",{className:"w-full h-px bg-gray-300 my-5"}),(0,qa.jsx)("div",{className:"flex justify-center gap-3 mb-8 px-8",children:[0,1,2,3].map(e=>(0,qa.jsx)("div",{className:"flex-1 h-1.5 rounded-full transition-opacity duration-300",style:{background:"linear-gradient(to right, #1A2980, #26D0CE)",opacity:e<Math.floor(4*b)?1:.28}},e))}),(0,qa.jsxs)("div",{className:"flex flex-col items-center",children:[(0,qa.jsxs)("div",{className:"relative w-32 h-32 mb-3",children:[(0,qa.jsxs)("svg",{width:"128",height:"128",viewBox:"0 0 128 128",style:{transform:"rotate(-90deg)"},children:[(0,qa.jsx)("defs",{children:(0,qa.jsxs)("linearGradient",{id:"grad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,qa.jsx)("stop",{offset:"0%",stopColor:"#1A2980"}),(0,qa.jsx)("stop",{offset:"100%",stopColor:"#26D0CE"})]})}),(0,qa.jsx)("circle",{cx:"64",cy:"64",r:45,stroke:"#E5E7EB",strokeWidth:10,fill:"none"}),(0,qa.jsx)("circle",{cx:"64",cy:"64",r:45,stroke:"url(#grad)",strokeWidth:10,strokeDasharray:v,strokeDashoffset:w,strokeLinecap:"round",fill:"none",style:{transition:"stroke-dashoffset 0.45s ease"}})]}),(0,qa.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,qa.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 24 24",fill:"none",children:[(0,qa.jsx)("defs",{children:(0,qa.jsxs)("linearGradient",{id:"clockGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,qa.jsx)("stop",{offset:"0%",stopColor:"#1A2980"}),(0,qa.jsx)("stop",{offset:"100%",stopColor:"#26D0CE"})]})}),(0,qa.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"url(#clockGrad)",strokeWidth:"2",fill:"none"}),(0,qa.jsx)("path",{d:"M12 6V12L16 14",stroke:"url(#clockGrad)",strokeWidth:"2",strokeLinecap:"round"})]})})]}),(0,qa.jsxs)("p",{className:"text-lg font-bold text-gray-800",children:[m," sec",0===m&&(0,qa.jsx)("span",{className:"text-sm text-red-500 ml-2",children:"(Closing...)"})]})]}),(0,qa.jsx)("div",{className:"mt-6 px-4",children:(0,qa.jsx)("button",{onClick:()=>{console.log("\ud83d\udd34 User manually closed waiting popup"),g.current&&(clearInterval(g.current),g.current=null),l()},className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-3 rounded-lg transition font-medium",children:"Cancel Waiting"})})]}),(0,qa.jsx)("style",{children:"\n        @keyframes slideUp {\n          from {\n            transform: translateY(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateY(0);\n            opacity: 1;\n          }\n        }\n      "})]})},Zs=e=>{let{isOpen:t=!0,onAccept:n,onReject:i,onClose:a}=e;return(0,r.useEffect)(()=>{if(!t)return;const e=e=>{"Escape"===e.key&&a&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,a]),t?(0,qa.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-label":"Booking acceptance dialog",children:[(0,qa.jsx)("div",{className:"absolute inset-0 bg-black/50",style:{backdropFilter:"blur(8px)"},onClick:a}),(0,qa.jsxs)("div",{className:"relative bg-white rounded-3xl shadow-2xl p-12 mx-4 w-full",style:{animation:"fadeIn 0.28s ease-out",maxWidth:"650px",minHeight:"400px"},onClick:e=>e.stopPropagation(),children:[(0,qa.jsx)("div",{className:"flex justify-center mb-8",children:(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[0,1,2].map(e=>(0,qa.jsx)("div",{className:"absolute rounded-full border-2 border-blue-500",style:{width:"".concat(120+36*e,"px"),height:"".concat(120+36*e,"px"),opacity:.3-.07*e,animation:"pulse 2s infinite ".concat(.2*e,"s")}},e))}),(0,qa.jsx)("div",{className:"relative w-36 h-36 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%)",boxShadow:"0 10px 40px rgba(59, 130, 246, 0.4)"},children:(0,qa.jsxs)("svg",{width:"72",height:"72",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,qa.jsx)("rect",{x:"1",y:"3",width:"15",height:"13"}),(0,qa.jsx)("polygon",{points:"16 8 20 8 23 11 23 16 16 16 16 8"}),(0,qa.jsx)("circle",{cx:"5.5",cy:"18.5",r:"2.5"}),(0,qa.jsx)("circle",{cx:"18.5",cy:"18.5",r:"2.5"})]})})]})}),(0,qa.jsx)("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8 leading-tight",children:"You've got a new booking!"}),(0,qa.jsxs)("div",{className:"space-y-4",children:[(0,qa.jsx)("button",{onClick:n,className:"w-full text-white font-bold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 text-lg",style:{background:"linear-gradient(to right, #0B0E92, #69A6F0)"},children:"Accept"}),(0,qa.jsx)("button",{onClick:i,className:"w-full bg-white text-red-600 font-bold py-4 px-6 rounded-xl border-2 border-red-600 hover:bg-red-50 transition-all duration-200 text-lg",children:"Reject"})]}),a&&(0,qa.jsx)("button",{onClick:a,className:"mt-6 w-full text-sm text-gray-500 hover:text-gray-700","aria-label":"Close booking dialog",children:"Close"}),(0,qa.jsx)("style",{children:"\n          @keyframes fadeIn {\n            from { opacity: 0; transform: scale(0.96); }\n            to { opacity: 1; transform: scale(1); }\n          }\n          @keyframes pulse {\n            0%,100% { transform: scale(0.9); opacity: 0.32; }\n            50% { transform: scale(1.06); opacity: 0; }\n          }\n        "})]})]}):null},qs=Zs,Ys=e=>{let{isOpen:t,onClose:n,onReject:r}=e;const i=ye();if(!t)return null;return(0,qa.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm z-50",children:(0,qa.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-[90%] max-w-md p-8 text-center transform transition-all duration-300",children:[(0,qa.jsx)("div",{className:"flex justify-center mb-6",children:(0,qa.jsx)("div",{className:"w-28 h-28 bg-gradient-to-b from-[#0B0E92] to-[#69A6F0] rounded-full flex items-center justify-center",children:(0,qa.jsx)("span",{className:"text-white text-6xl",children:"\u2639\ufe0f"})})}),(0,qa.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-8 leading-snug",children:"Sorry! your request was not accepted"}),(0,qa.jsx)("button",{onClick:()=>{i("/rental")},className:"w-full bg-gradient-to-r from-blue-700 to-blue-600 hover:from-blue-800 hover:to-blue-700 text-white font-semibold text-lg py-4 rounded-xl shadow-lg transition-all duration-200 active:scale-95",children:"Okay"})]})})},Xs=Tt()(bo((e,t)=>({bookings:[],addBooking:t=>e(e=>{const n=e.bookings.some(e=>e.id===t.id);return n?(console.log("\u26a0\ufe0f Booking already exists, skipping:",t.id),e):(console.log("\u2705 Adding new booking:",t.id),{bookings:[...e.bookings,t]})}),updateBooking:(t,n)=>e(e=>({bookings:e.bookings.map(e=>e.id===t?c(c({},e),n):e)})),updateBookingStatus:(t,n)=>e(e=>(console.log("\ud83d\udcdd Updating booking ".concat(t," status to: ").concat(n)),{bookings:e.bookings.map(e=>e.id===t?c(c({},e),{},{status:n}):e)})),deleteBooking:t=>e(e=>({bookings:e.bookings.filter(e=>e.id!==t)})),getBookingById:e=>t().bookings.find(t=>t.id===e),clearAllBookings:()=>e(()=>({bookings:[]})),setBookings:t=>e(()=>(console.log("\ud83d\udce6 Syncing ".concat(t.length," bookings from API")),{bookings:t}))}),{name:"booking-storage",version:2})),Js=e=>{switch(e){case"Pending":return"bg-amber-50 text-amber-700 border border-amber-200";case"Confirmed":return"bg-green-50 text-green-700 border border-green-200";case"Cancelled":return"bg-red-50 text-red-600 border border-red-200";case"AutoCancelled":return"bg-orange-50 text-orange-700 border border-orange-200";case"Completed":return"bg-purple-50 text-purple-700 border border-purple-200";default:return"bg-gray-100 text-gray-600 border border-gray-200"}},Qs=e=>{if(!e)return"Car";const t=e.toLowerCase();return t.includes("auto")?"Auto":t.includes("bike")?"Bike":"Car"},$s=e=>{try{const t=new Date(e.trim());return isNaN(t.getTime())?e:t.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(t){return e}},el=e=>{try{const[t,n]=e.split("."),r=parseInt(t),i=n||"00",a=r>=12?"PM":"AM";return"".concat((r>12?r-12:0===r?12:r).toString().padStart(2,"0"),":").concat(i," ").concat(a)}catch(t){return e}};function tl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let nl={data:""},rl=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||nl},il=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,al=/\/\*[^]*?\*\/|  +/g,ol=/\n+/g,sl=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+o+";":r+="f"==a[1]?sl(o,a):a+"{"+sl(o,"k"==a[1]?"":t)+"}":"object"==typeof o?r+=sl(o,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=o&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=sl.p?sl.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ll={},cl=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+cl(e[n]);return t}return e},ul=(e,t,n,r,i)=>{let a=cl(e),o=ll[a]||(ll[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!ll[o]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=il.exec(e.replace(al,""));)t[4]?r.shift():t[3]?(n=t[3].replace(ol," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(ol," ").trim();return r[0]})(e);ll[o]=sl(i?{["@keyframes "+o]:t}:t,n?"":"."+o)}let s=n&&ll.g?ll.g:null;return n&&(ll.g=ll[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(ll[o],t,r,s),o};function dl(e){let t=this||{},n=e.call?e(t.p):e;return ul(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let a=t[i];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":sl(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,rl(t.target),t.g,t.o,t.k)}dl.bind({g:1});let hl,pl,ml,fl=dl.bind({k:1});function gl(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;n.p=Object.assign({theme:pl&&pl()},s),n.o=/ *go\d+/.test(l),s.className=dl.apply(n,r)+(l?" "+l:""),t&&(s.ref=o);let c=e;return e[0]&&(c=s.as||e,delete s.as),ml&&c[0]&&ml(s),hl(c,s)}return t?t(i):i}}var yl,vl,xl,bl,wl,kl,Sl,Nl,_l,Cl,Al,jl,El,Tl,Il,Rl,Pl=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Ml=(()=>{let e=0;return()=>(++e).toString()})(),Ll=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Dl="default",Bl=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return c(c({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return c(c({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?c(c({},e),t.toast):e)});case 2:let{toast:r}=t;return Bl(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return c(c({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?c(c({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?c(c({},e),{},{toasts:[]}):c(c({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return c(c({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return c(c({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>c(c({},e),{},{pauseDuration:e.pauseDuration+a}))})}},Ol=[],Fl={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Vl={},zl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dl;Vl[t]=Bl(Vl[t]||Fl,e),Ol.forEach(e=>{let[n,r]=e;n===t&&r(Vl[t])})},Ul=e=>Object.keys(Vl).forEach(t=>zl(e,t)),Hl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl;return t=>{zl(t,e)}},Gl={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Kl=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return c(c({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||Ml()})}(t,e,n);return Hl(r.toasterId||(e=>Object.keys(Vl).find(t=>Vl[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Wl=(e,t)=>Kl("blank")(e,t);Wl.error=Kl("error"),Wl.success=Kl("success"),Wl.loading=Kl("loading"),Wl.custom=Kl("custom"),Wl.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Hl(t)(n):Ul(n)},Wl.dismissAll=e=>Wl.dismiss(void 0,e),Wl.remove=(e,t)=>{let n={type:4,toastId:e};t?Hl(t)(n):Ul(n)},Wl.removeAll=e=>Wl.remove(void 0,e),Wl.promise=(e,t,n)=>{let r=Wl.loading(t.loading,c(c({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?Pl(t.success,e):void 0;return i?Wl.success(i,c(c({id:r},n),null==n?void 0:n.success)):Wl.dismiss(r),e}).catch(e=>{let i=t.error?Pl(t.error,e):void 0;i?Wl.error(i,c(c({id:r},n),null==n?void 0:n.error)):Wl.dismiss(r)}),e};var Zl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:i}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dl,[n,i]=(0,r.useState)(Vl[t]||Fl),a=(0,r.useRef)(Vl[t]);(0,r.useEffect)(()=>(a.current!==Vl[t]&&i(Vl[t]),Ol.push([t,i]),()=>{let e=Ol.findIndex(e=>{let[n]=e;return n===t});e>-1&&Ol.splice(e,1)}),[t]);let o=n.toasts.map(t=>{var n,r,i;return c(c(c(c({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Gl[t.type],style:c(c(c({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return c(c({},n),{},{toasts:o})}(e,t),a=(0,r.useRef)(new Map).current,o=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let n=setTimeout(()=>{a.delete(e),s({type:4,toastId:e})},t);a.set(e,n)},[]);(0,r.useEffect)(()=>{if(i)return;let e=Date.now(),r=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Wl.dismiss(n.id,t),r);n.visible&&Wl.dismiss(n.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[n,i,t]);let s=(0,r.useCallback)(Hl(t),[t]),l=(0,r.useCallback)(()=>{s({type:5,time:Date.now()})},[s]),u=(0,r.useCallback)((e,t)=>{s({type:1,toast:{id:e,height:t}})},[s]),d=(0,r.useCallback)(()=>{i&&s({type:6,time:Date.now()})},[i,s]),h=(0,r.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:a}=t||{},o=n.filter(t=>(t.position||a)===(e.position||a)&&t.height),s=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<s&&e.visible).length;return o.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,r.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)o(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:h}}},ql=fl(yl||(yl=tl(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Yl=fl(vl||(vl=tl(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Xl=fl(xl||(xl=tl(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Jl=gl("div")(bl||(bl=tl(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",ql,Yl,e=>e.secondary||"#fff",Xl),Ql=fl(wl||(wl=tl(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),$l=gl("div")(kl||(kl=tl(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Ql),ec=fl(Sl||(Sl=tl(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),tc=fl(Nl||(Nl=tl(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),nc=gl("div")(_l||(_l=tl(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",ec,tc,e=>e.secondary||"#fff"),rc=gl("div")(Cl||(Cl=tl(["\n  position: absolute;\n"]))),ic=gl("div")(Al||(Al=tl(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),ac=fl(jl||(jl=tl(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),oc=gl("div")(El||(El=tl(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),ac),sc=e=>{let{toast:t}=e,{icon:n,type:i,iconTheme:a}=t;return void 0!==n?"string"==typeof n?r.createElement(oc,null,n):n:"blank"===i?null:r.createElement(ic,null,r.createElement($l,c({},a)),"loading"!==i&&r.createElement(rc,null,"error"===i?r.createElement(Jl,c({},a)):r.createElement(nc,c({},a))))},lc=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),cc=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),uc=gl("div")(Tl||(Tl=tl(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),dc=gl("div")(Il||(Il=tl(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),hc=r.memo(e=>{let{toast:t,position:n,style:i,children:a}=e,o=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=Ll()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[lc(n),cc(n)];return{animation:t?"".concat(fl(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(fl(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},s=r.createElement(sc,{toast:t}),l=r.createElement(dc,c({},t.ariaProps),Pl(t.message,t));return r.createElement(uc,{className:t.className,style:c(c(c({},o),i),t.style)},"function"==typeof a?a({icon:s,message:l}):r.createElement(r.Fragment,null,s,l))});!function(e,t,n,r){sl.p=t,hl=e,pl=n,ml=r}(r.createElement);var pc=e=>{let{id:t,className:n,style:i,onHeightUpdate:a,children:o}=e,s=r.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return r.createElement("div",{ref:s,className:n,style:i},o)},mc=dl(Rl||(Rl=tl(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),fc=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:i,gutter:a,children:o,toasterId:s,containerStyle:l,containerClassName:u}=e,{toasts:d,handlers:h}=Zl(i,s);return r.createElement("div",{"data-rht-toaster":s||"",style:c({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},d.map(e=>{let i=e.position||n,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return c(c({left:0,right:0,display:"flex",position:"absolute",transition:Ll()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(i,h.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return r.createElement(pc,{id:e.id,key:e.id,onHeightUpdate:h.updateHeight,className:e.visible?mc:"",style:s},"custom"===e.type?Pl(e.message,e):o?o(e):r.createElement(hc,{toast:e,position:i}))}))},gc=Wl;const yc=Ga("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),vc=e=>{let{days:t}=e;return(0,qa.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-4",children:t})},xc=e=>{let{selectedStart:t,selectedEnd:n,totalHours:r,totalPrice:i,formatDisplay:a}=e;return(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-sm text-gray-500",children:"Selected:"}),(0,qa.jsxs)("p",{className:"font-semibold",children:[a(t)," \u2192 ",a(n)]}),t&&n&&(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsxs)("p",{className:"text-xs text-gray-500",children:["Hours: ",r]}),(0,qa.jsxs)("p",{className:"text-blue-600 font-bold",children:["Total: \u20b9",i]})]})]})},bc=e=>{let{startTime:t,endTime:n,setStartTime:r,setEndTime:i}=e;return(0,qa.jsxs)("div",{className:"flex gap-2",children:[(0,qa.jsx)("select",{className:"text-sm border rounded px-2 py-1",value:t,onChange:e=>r(e.target.value),children:["01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"].map(e=>(0,qa.jsx)("option",{value:e,children:e},e))}),(0,qa.jsx)("span",{className:"text-gray-400",children:"-"}),(0,qa.jsx)("select",{className:"text-sm border rounded px-2 py-1",value:n,onChange:e=>i(e.target.value),children:["01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"].map(e=>(0,qa.jsx)("option",{value:e,children:e},e))})]})},wc=()=>(0,qa.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-1",children:[(0,qa.jsx)("div",{className:"w-4 h-4 bg-gradient-to-br from-blue-500 to-indigo-500 rounded"}),(0,qa.jsx)("span",{children:"Available"})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-1",children:[(0,qa.jsx)("div",{className:"w-4 h-4 bg-red-100 border-2 border-red-400 rounded"}),(0,qa.jsx)("span",{children:"Owner Blocked"})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-1",children:[(0,qa.jsx)("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-400 rounded"}),(0,qa.jsx)("span",{children:"Confirmed"})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-1",children:[(0,qa.jsx)("div",{className:"w-4 h-4 bg-orange-100 border-2 border-orange-400 rounded"}),(0,qa.jsx)("span",{children:"Pending"})]})]}),kc=e=>{let{show:t,loading:n,vehicleName:r,selectedStart:i,selectedEnd:a,startTime:o,endTime:s,totalHours:l,totalPrice:c,formatDisplay:u,onConfirm:d,onCancel:h}=e;return t?(0,qa.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,qa.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-sm w-full",children:[(0,qa.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Confirm Booking"}),(0,qa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 text-sm space-y-2",children:[(0,qa.jsxs)("p",{children:[(0,qa.jsx)("strong",{children:"Vehicle:"})," ",r]}),(0,qa.jsxs)("p",{children:[(0,qa.jsx)("strong",{children:"Dates:"})," ",u(i)," \u2192 ",u(a)]}),(0,qa.jsxs)("p",{children:[(0,qa.jsx)("strong",{children:"Time:"})," ",o," - ",s]}),(0,qa.jsxs)("p",{children:[(0,qa.jsx)("strong",{children:"Total Hours:"})," ",l]}),(0,qa.jsxs)("p",{children:[(0,qa.jsx)("strong",{children:"Total Price:"})," \u20b9",c]})]}),(0,qa.jsxs)("div",{className:"flex gap-3",children:[(0,qa.jsx)("button",{onClick:d,disabled:n,className:"flex-1 bg-green-600 text-white py-2 rounded-lg font-semibold hover:bg-green-700 disabled:opacity-50",children:n?"Booking...":"Confirm"}),(0,qa.jsx)("button",{onClick:h,className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})}):null},Sc=e=>{let{show:t,bookings:n,loading:r,onCancelBooking:i,onClose:a}=e;return t?(0,qa.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,qa.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full max-h-[70vh] overflow-y-auto",children:[(0,qa.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,qa.jsx)("h3",{className:"font-bold text-lg",children:"My Bookings"}),(0,qa.jsx)("button",{onClick:a,children:(0,qa.jsx)(Wa,{size:20})})]}),0===n.length?(0,qa.jsx)("p",{className:"text-gray-500",children:"No bookings yet"}):(0,qa.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,qa.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,qa.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("p",{className:"font-semibold",children:[e.from," \u2192 ",e.to]}),(0,qa.jsxs)("p",{className:"text-sm text-gray-500",children:[e.fromTime," - ",e.toTime]})]}),(0,qa.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(e.isConfirmed?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"),children:e.status||"Pending"})]}),(0,qa.jsx)("button",{onClick:()=>i(e),disabled:r,className:"w-full px-3 py-1 bg-red-100 text-red-700 rounded text-sm font-medium hover:bg-red-200 disabled:opacity-50",children:"Cancel Booking"})]},e.id))})]})}):null},Nc=e=>{let{type:t,text:n}=e;return n?(0,qa.jsx)("div",{className:"mx-4 mt-4 p-3 rounded-lg text-sm ".concat("error"===t?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:n}):null},_c=12e4,Cc=Tt((e,t)=>({showOwnerModal:!1,currentBooking:null,bookingQueue:[],modalState:"confirm",actionLoading:!1,showCustomerModal:!1,customerModalType:null,customerBookingInfo:null,showWaitingPopup:!1,waitingBookingInfo:null,setShowOwnerModal:t=>e({showOwnerModal:t}),setCurrentBooking:t=>e({currentBooking:t}),setBookingQueue:t=>e({bookingQueue:t}),addBookingToQueue:t=>{const n=c(c({},t),{},{receivedAt:Date.now(),expiresAt:Date.now()+_c});e(e=>({bookingQueue:[...e.bookingQueue,n].sort((e,t)=>(e.receivedAt||0)-(t.receivedAt||0))}))},removeBookingFromQueue:t=>{e(e=>({bookingQueue:e.bookingQueue.filter(e=>(e._id||e.id)!==t),currentBooking:e.currentBooking&&(e.currentBooking._id||e.currentBooking.id)===t?null:e.currentBooking}))},setModalState:t=>e({modalState:t}),setActionLoading:t=>e({actionLoading:t}),showCustomerAcceptedModal:(t,n)=>e({showCustomerModal:!0,customerModalType:"accepted",customerBookingInfo:{vehicleName:t,ownerName:n},showWaitingPopup:!1,waitingBookingInfo:null}),showCustomerRejectedModal:(t,n)=>e({showCustomerModal:!0,customerModalType:"rejected",customerBookingInfo:{vehicleName:t,ownerName:n},showWaitingPopup:!1,waitingBookingInfo:null}),showCustomerTimeoutModal:t=>e({showCustomerModal:!0,customerModalType:"timeout",customerBookingInfo:{vehicleName:t},showWaitingPopup:!1,waitingBookingInfo:null}),closeCustomerModal:()=>e({showCustomerModal:!1,customerModalType:null,customerBookingInfo:null}),showCustomerWaitingPopup:(t,n)=>e({showWaitingPopup:!0,waitingBookingInfo:{bookingId:t,vehicleName:n,expiresAt:Date.now()+_c}}),closeWaitingPopup:()=>e({showWaitingPopup:!1,waitingBookingInfo:null})})),Ac="http://3.110.122.127:3000";function jc(e){let{isOpen:t,onClose:n,userRole:i,VechileId:a,vechileType:o,userId:s,latitude:l="17.438095",longitude:c="78.4485",ownerId:u,pricePerDay:d=0,pricePerKm:h=0,pricePerHour:p=0,vehicleName:m="Vehicle",contactNumber:f,contactName:g,onBookingComplete:y}=e;const[v,x]=(0,r.useState)(new Date),[b,w]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[N,_]=(0,r.useState)("06:00"),[C,A]=(0,r.useState)("18:00"),[j,E]=(0,r.useState)({type:"",text:""}),[T,I]=(0,r.useState)(!1),[R,P]=(0,r.useState)(!1),[M,L]=(0,r.useState)(!1),[D,B]=(0,r.useState)([]),[O,F]=(0,r.useState)([]),[V,z]=(0,r.useState)([]),[U,H]=(0,r.useState)(null),G=(0,r.useRef)(null),{addNotification:K}=Ba(),W=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"general";console.log("\ud83d\udd14 Adding notification to store:",e,t),K({type:n,title:e,message:t,vehicleId:a,vehicleName:m,bookingId:U||void 0})};(0,r.useEffect)(()=>()=>{G.current&&(clearInterval(G.current),G.current=null)},[]);const Z=r.useCallback(async()=>{try{L(!0);const e=Y(new Date(v.getFullYear(),v.getMonth(),1)),t=Y(new Date(v.getFullYear(),v.getMonth()+1,0)),n=await fetch("".concat(Ac,"/getVehicleAvailability?VechileId=").concat(a,"&vechileType=").concat(o,"&startDate=").concat(e,"&endDate=").concat(t)),r=await n.json();if(console.log("=== AVAILABILITY API Response ===",JSON.stringify(r,null,2)),r&&Array.isArray(r.availability)){const e=[],t=[];r.availability.forEach(n=>{if("Unavailable"===n.status&&Array.isArray(n.slots)){const r=n.slots.some(e=>"NotAvailable"===e.type),i=n.slots.some(e=>"Booking"===e.type);r&&i?(t.push(n.date),console.log("\ud83d\udfe2 Customer booked (with owner block): ".concat(n.date))):i?(t.push(n.date),console.log("\ud83d\udfe2 Customer booked: ".concat(n.date))):r&&(e.push(n.date),console.log("\ud83d\udd34 Owner blocked: ".concat(n.date)))}}),B(e),F(t),console.log("\ud83d\udcca Summary:"),console.log("  - Owner blocked dates (RED):",e.length),console.log("  - Customer booked dates (GREEN):",t.length)}}catch(e){console.error("Error fetching availability:",e),re("error","Failed to load availability")}finally{L(!1)}},[v,a,o]),q=r.useCallback(async()=>{try{L(!0);const e=localStorage.getItem("activeBookingId")||"";if(!e)return console.log("\u26a0 No active booking ID in localStorage"),void z([]);const t=await fetch("".concat(Ac,"/getBookingById/").concat(e)),n=await t.json();if(console.log("=== MY BOOKINGS API Response ===",JSON.stringify(n,null,2)),!n||!n.booking)return console.warn("\u26a0 No booking data returned from server."),void z([]);const r=Array.isArray(n.booking)?n.booking:[n.booking],i=[];r.forEach(e=>{var t,n,r,a;const o="confirmed"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())||"confirmed"===(null===(n=e.bookingStatus)||void 0===n?void 0:n.toLowerCase());i.push({id:e._id,from:null===(r=e.FromDate||e.from)||void 0===r?void 0:r.split("T")[0],to:null===(a=e.ToDate||e.to)||void 0===a?void 0:a.split("T")[0],fromTime:e.FromTime||e.fromTime||"06:00",toTime:e.ToTime||e.toTime||"18:00",customerId:e.customerId||e.userId,status:e.status||e.bookingStatus,isConfirmed:o})}),z(i.filter(e=>e.customerId===s))}catch(e){console.error("Error fetching bookings:",e),re("error","Failed to load bookings")}finally{L(!1)}},[s]);(0,r.useEffect)(()=>{t&&a&&o&&(Z(),q())},[t,a,o,Z,q]);const Y=e=>{if(!e)return"";const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},X=e=>{const t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return"".concat(t,"-").concat(n,"-").concat(r)},J=e=>{const[t,n]=e.split(":");return"".concat(parseInt(t),".").concat(n)},Q=e=>e?e.toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Select",$=e=>{const t=new Date;return t.setHours(0,0,0,0),e<t},ee=e=>D.includes(Y(e)),te=e=>O.includes(Y(e)),ne=e=>ee(e)||te(e),re=(e,t)=>{E({type:e,text:t}),setTimeout(()=>E({type:"",text:""}),3e3)},ie=e=>{if(!$(e))if(ne(e))te(e)?re("error","\u274c This date is already booked by another customer"):ee(e)?re("error","\u274c Owner has blocked this date"):re("error","\u274c This date is unavailable");else if(b)if(k)w(e),S(null);else{if(e<b)return void re("error","End date must be after start");const t=new Date(b);for(;t<=e;){if(ne(t))return void re("error","Some dates in range are unavailable");t.setDate(t.getDate()+1)}S(e)}else w(e),S(null)},ae=()=>{if(!b||!k)return 0;const[e,t]=N.split(":").map(Number),[n,r]=C.split(":").map(Number),i=new Date(b);i.setHours(e,t,0,0);const a=new Date(k);a.setHours(n,r,0,0);const o=a.getTime()-i.getTime(),s=Math.ceil(o/36e5);return s>0?s:1},oe=()=>{if(!b||!k)return 0;const e=ae();if(p>0)return e*p;const t=Math.abs(k.getTime()-b.getTime());return(Math.ceil(t/864e5)+1)*d},se=()=>{b&&k?(I(!1),setTimeout(()=>{le()},100)):alert("Please select start and end dates first!")},le=async()=>{if(b&&k)try{L(!0);let t=f||localStorage.getItem("contactNumber")||"";if(!t)try{const e=localStorage.getItem("userProfile");if(e){const n=JSON.parse(e);t=n.phone||n.contactNumber||n.mobileNumber||""}}catch(nl){console.log("Could not parse userProfile")}if(!t)try{const e=localStorage.getItem("user");if(e){const n=JSON.parse(e);t=n.phone||n.contactNumber||n.mobileNumber||""}}catch(nl){console.log("Could not parse user")}if(!t){console.warn("\u26a0 No contact number found - will prompt user");const e=prompt("Please enter your contact number to complete the booking:");e&&e.trim()&&(t=e.trim(),localStorage.setItem("contactNumber",t))}const n=g||localStorage.getItem("userName")||localStorage.getItem("contactName")||"",r=u||localStorage.getItem("vehicleOwnerId")||"",i=ae(),p=oe(),v=new URLSearchParams;v.append("userId",s),v.append("vechileType",o),v.append("VechileId",a),r&&v.append("ownerId",r),v.append("pricePerKm",String(h||d||0)),v.append("contactNumber",t),v.append("contactName",n),v.append("latitude",l),v.append("longitude",c),v.append("FromDate",X(b)),v.append("ToDate",X(k)),v.append("FromTime",J(N)),v.append("ToTime",J(C)),v.append("totalHours",String(i)),v.append("totalPrice",String(p));const x=await fetch("".concat(Ac,"/createBooking"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:v}),_=await x.json();if(x.ok){var e;const t=(null===(e=_.booking)||void 0===e?void 0:e._id)||_._id||_.bookingId;if(!t)return void re("error","Booking created but no ID received");localStorage.setItem("activeBookingId",t),H(t),Cc.getState().showCustomerWaitingPopup(t,m),W("Booking Request Sent!","Your booking request for ".concat(m," has been sent to the owner. Waiting for response...")),setTimeout(()=>{ce(t)},1e4),re("success","Booking request sent!"),w(null),S(null),y&&y(_)}else{const e=_.message||"Please try again";W("Booking Failed",e),re("error",e)}}catch(t){W("Booking Failed","Network error - Please check your connection"),re("error","Network error - Please try again")}finally{L(!1)}},ce=e=>{G.current&&clearInterval(G.current),G.current=setInterval(async()=>{try{var t;const n=await fetch("".concat(Ac,"/getBookingById/").concat(e));if(!n.ok)return;const r=await n.json(),i=(null===(t=r.booking)||void 0===t?void 0:t.status)||r.status||"";"confirmed"===i.toLowerCase()?(G.current&&(clearInterval(G.current),G.current=null),Cc.getState().showCustomerAcceptedModal(m),W("Booking Confirmed!","Your booking for ".concat(m," has been accepted by the owner."),"booking_confirmed"),await q(),await Z(),setTimeout(()=>{H(null)},1500)):"cancelled"!==i.toLowerCase()&&"autocancelled"!==i.toLowerCase()&&"rejected"!==i.toLowerCase()||(G.current&&(clearInterval(G.current),G.current=null),"autocancelled"===i.toLowerCase()?Cc.getState().showCustomerTimeoutModal(m):Cc.getState().showCustomerRejectedModal(m),W("Booking Rejected","Your booking for ".concat(m," was declined by the owner."),"booking_declined"),await ue(e),await q(),await Z(),setTimeout(()=>{H(null)},1500))}catch(n){console.error("\u274c Polling error:",n)}},5e3)},ue=async e=>{try{(await fetch("".concat(Ac,"/removeNotAvailability/").concat(e),{method:"DELETE"})).ok&&console.log("\u2705 Dates unblocked successfully")}catch(t){console.error("\u274c Error unblocking dates:",t)}};return t?(0,qa.jsx)(qa.Fragment,{children:(0,qa.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:(0,qa.jsxs)("div",{className:"bg-white w-full max-w-2xl rounded-2xl overflow-hidden relative max-h-[90vh] overflow-y-auto",children:[(0,qa.jsx)("button",{onClick:n,className:"absolute top-3 right-3 p-2 rounded-lg hover:bg-gray-200 z-10",children:(0,qa.jsx)(Wa,{size:20})}),M&&(0,qa.jsxs)("div",{className:"absolute top-3 left-3 bg-white rounded-lg shadow-lg p-2 flex items-center gap-2 z-10",children:[(0,qa.jsx)(zs,{className:"animate-spin",size:16}),(0,qa.jsx)("span",{className:"text-sm",children:"Loading..."})]}),(0,qa.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,qa.jsx)(ao,{className:"text-blue-600",size:24}),(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("h2",{className:"font-bold text-lg",children:["Book ",m]}),(0,qa.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-green-100 text-green-700",children:"Customer"})]})]}),V.length>0&&(0,qa.jsxs)("button",{onClick:()=>P(!0),className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium",children:["My Bookings (",V.length,")"]})]}),(0,qa.jsx)(Nc,{type:j.type,text:j.text}),(0,qa.jsxs)("div",{className:"p-4",children:[(0,qa.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,qa.jsx)("button",{onClick:()=>x(new Date(v.getFullYear(),v.getMonth()-1)),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,qa.jsx)(oo,{size:20})}),(0,qa.jsx)("h3",{className:"font-semibold",children:v.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,qa.jsx)("button",{onClick:()=>x(new Date(v.getFullYear(),v.getMonth()+1)),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,qa.jsx)(so,{size:20})})]}),(0,qa.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Mo","Tu","We","Th","Fr","Sa","Su"].map(e=>(0,qa.jsx)("div",{className:"text-center font-medium text-gray-500 text-xs py-1",children:e},e))}),(0,qa.jsx)(vc,{days:(()=>{const e=[],t=v.getFullYear(),n=v.getMonth(),r=new Date(t,n+1,0).getDate(),i=new Date(t,n,1).getDay(),a=0===i?6:i-1;for(let o=0;o<a;o++)e.push((0,qa.jsx)("div",{},"e".concat(o)));for(let o=1;o<=r;o++){const r=new Date(t,n,o),i=$(r),a=ee(r),s=te(r),l=ne(r),c=b&&Y(b)===Y(r),u=k&&Y(k)===Y(r);let d="h-10 sm:h-12 rounded-lg font-medium flex items-center justify-center relative transition text-sm ";d+=i?"bg-gray-100 text-gray-400 cursor-not-allowed":s?"bg-green-100 border-2 border-green-400 text-green-700 cursor-not-allowed":a?"bg-red-100 border-2 border-red-400 text-red-700 cursor-not-allowed":c||u?"bg-black text-white border-2 border-blue-700":b&&k&&r>b&&r<k?"bg-blue-200 text-blue-800":"bg-gradient-to-br from-blue-500 to-indigo-500 text-white hover:opacity-90 cursor-pointer",e.push((0,qa.jsxs)("button",{className:d,disabled:i||l,onClick:()=>ie(r),children:[o,s&&(0,qa.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full",title:"Already booked"}),a&&!s&&(0,qa.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full",title:"Owner blocked"})]},o))}return e})()}),(0,qa.jsx)(wc,{}),(0,qa.jsxs)("div",{className:"border-t pt-4",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,qa.jsx)(xc,{selectedStart:b,selectedEnd:k,totalHours:ae(),totalPrice:oe(),formatDisplay:Q}),(0,qa.jsx)(bc,{startTime:N,endTime:C,setStartTime:_,setEndTime:A})]}),(0,qa.jsxs)("button",{onClick:se,disabled:!b||!k||M,className:"w-full bg-green-600 text-white py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-green-700 transition flex items-center justify-center gap-2",children:[(0,qa.jsx)(yc,{size:18})," Book Now"]})]})]}),(0,qa.jsx)(kc,{show:T,loading:M,vehicleName:m,selectedStart:b,selectedEnd:k,startTime:N,endTime:C,totalHours:ae(),totalPrice:oe(),formatDisplay:Q,onConfirm:se,onCancel:()=>I(!1)}),(0,qa.jsx)(Sc,{show:R,bookings:V,loading:M,onCancelBooking:async e=>{try{L(!0);(await fetch("".concat(Ac,"/deleteBooking/").concat(e.id),{method:"DELETE"})).ok?(re("success","Booking cancelled"),await ue(e.id),await q(),await Z()):re("error","Failed to cancel booking")}catch(t){console.error("Error cancelling booking:",t),re("error","Failed to cancel booking")}finally{L(!1)}},onClose:()=>P(!1)})]})})}):null}const Ec=()=>{var e;const t=ye(),n=me(),{id:i}=ve(),a=Vs.find(e=>e.id===i),{getReviewsByVehicleId:o,getAverageRating:s,getTotalReviewCount:l,getRatingDistribution:c}=wo(),{addNotification:u}=Ba(),{addBooking:d}=Xs(),[h,p]=(0,r.useState)(null),[m,f]=(0,r.useState)(!0),[g,y]=(0,r.useState)(""),[v,x]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!1),[N,_]=(0,r.useState)(!1),[C,A]=(0,r.useState)(180),[j,E]=(0,r.useState)(!1),[T,I]=(0,r.useState)(!1),[R,P]=(0,r.useState)(null),[M,L]=(0,r.useState)(null),[D,B]=(0,r.useState)(!1),[O,F]=(0,r.useState)(""),[V,z]=(0,r.useState)(!1),[U,H]=(0,r.useState)([]),[G,K]=(0,r.useState)(!1),[W,Z]=(0,r.useState)(""),[q,Y]=(0,r.useState)(0),[X,J]=(0,r.useState)(0),[Q,$]=(0,r.useState)(!1),[ee,te]=(0,r.useState)(!1),[ne,re]=(0,r.useState)(null),[ie,ae]=(0,r.useState)(null),[oe,se]=(0,r.useState)(!1),[le,ce]=(0,r.useState)(""),[ue,de]=(0,r.useState)("day"),[he,pe]=(0,r.useState)(0),fe=()=>{let e=localStorage.getItem("userId");const t=e=>e&&/^[a-f0-9]{24}$/i.test(e);if(t(e))return e;try{const e=localStorage.getItem("userProfile");if(e){const n=JSON.parse(e);if(t(n.userId))return n.userId;if(t(n._id))return n._id}}catch(nl){console.log("Could not parse userProfile")}try{const e=localStorage.getItem("user");if(e){const n=JSON.parse(e);if(t(n.userId))return n.userId;if(t(n._id))return n._id}}catch(nl){console.log("Could not parse user")}return console.warn("\u26a0\ufe0f No valid userId found in localStorage"),e},ge=fe();(0,r.useEffect)(()=>{let e=null;return M&&oe&&(console.log("\ud83d\udd04 Starting booking status polling for:",M),e=setInterval(async()=>{try{console.log("\ud83d\udce1 Polling booking status...");const e=await fetch("http://3.110.122.127:3000/getBookingById/".concat(M));if(!e.ok)return void console.log("\u26a0\ufe0f Booking status API returned:",e.status);const t=await e.json();console.log("\ud83d\udce6 Booking status response:",t);const n=t.booking||t.data||t,r=((null===n||void 0===n?void 0:n.status)||(null===n||void 0===n?void 0:n.Status)||"pending").toLowerCase();console.log("\ud83d\udcca Current booking status:",r),"confirmed"===r?(console.log("\u2705 Booking CONFIRMED by owner!"),ae("confirmed"),se(!1),S(!1),ce("\u2705 Owner accepted your booking!"),gc.success("\ud83c\udf89 Booking Confirmed by Owner!",{duration:5e3,position:"top-center"}),setTimeout(()=>{w(!0),ce("")},2e3)):"rejected"!==r&&"cancelled"!==r&&"declined"!==r||(console.log("\u274c Booking REJECTED/CANCELLED by owner! Status:",r),ae("rejected"),se(!1),S(!1),ce("\u274c Owner rejected your booking"),gc.error("Booking was rejected by the owner",{duration:5e3,position:"top-center"}),setTimeout(()=>{ce(""),L(null),P(null)},3e3))}catch(e){console.error("\u274c Error polling booking status:",e)}},3e3),setTimeout(()=>{e&&(clearInterval(e),se(!1),console.log("\u23f0 Polling timeout reached"))},18e4)),()=>{e&&(clearInterval(e),console.log("\ud83d\uded1 Stopped booking status polling"))}},[M,oe,ie]),(0,r.useEffect)(()=>{(async()=>{if(i)try{var e;f(!0),y("");const r=(null===(e=n.state)||void 0===e?void 0:e.vehicleType)||(null===a||void 0===a?void 0:a.type)||"car";let o;console.log("\ud83d\udce1 Fetching ".concat(r," details for ID: ").concat(i));let s=null,l=r;localStorage.setItem("vehicletype",l);try{"bike"===r.toLowerCase()?(o=await La.bike.getBikeById(i),console.log("\u2705 Bike API response:",o),s=o.bike?o.bike:o.data?o.data:o):(o=await La.car.getCarById(i),console.log("\u2705 Car API response:",o),s=o.car?o.car:o.data?o.data:o)}catch(O){console.warn("\u26a0\ufe0f ".concat(r," API failed (").concat(O.message,"), trying alternate type..."));try{"bike"===r.toLowerCase()?(console.log("\ud83d\udd04 Trying Car API as fallback..."),o=await La.car.getCarById(i),l="car",s=o.car?o.car:o.data?o.data:o,console.log("\u2705 Car API (fallback) succeeded!")):(console.log("\ud83d\udd04 Trying Bike API as fallback..."),o=await La.bike.getBikeById(i),l="bike",s=o.bike?o.bike:o.data?o.data:o,console.log("\u2705 Bike API (fallback) succeeded!"))}catch(t){throw console.error("\u274c Both APIs failed!"),new Error("Vehicle not found. This ".concat(r," (ID: ").concat(i,") may not exist in the database or has been removed."))}}if(!s)throw new Error("No vehicle data received from API");console.log("\ud83c\udfaf Final vehicle data to set:",s),console.log("\u2705 Successfully loaded as ".concat(l.toUpperCase())),p(s)}catch(kN){console.error("\u274c Error fetching vehicle details:",kN),y(kN.message||"Failed to load vehicle details"),gc.error(kN.message||"Failed to load vehicle details",{duration:5e3,position:"top-center"})}finally{f(!1)}})()},[i,n.state]),(0,r.useEffect)(()=>{const e=()=>{!document.hidden&&i&&(console.log("\ud83d\udc41\ufe0f Page became visible - Refreshing reviews"),setTimeout(()=>{be(i,!1),xe(i,!1)},300))},t=()=>{i&&(console.log("\ud83c\udfaf Window focused - Refreshing reviews"),setTimeout(()=>{be(i,!1),xe(i,!1)},300))};return document.addEventListener("visibilitychange",e),window.addEventListener("focus",t),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("focus",t)}},[i]),(0,r.useEffect)(()=>{i&&(console.log("\ud83d\udd04 Initial review fetch triggered for vehicle:",i),be(i),xe(i))},[i]),(0,r.useEffect)(()=>{if(i){const e=setInterval(()=>{console.log("\ud83d\udd04 Auto-refreshing reviews..."),be(i,!0),xe(i,!0)},3e4);return()=>clearInterval(e)}},[i]),(0,r.useEffect)(()=>{let e=null;return k&&C>0&&(e=setInterval(()=>{A(e=>e<=1?0:e-1)},1e3)),()=>{e&&clearInterval(e)}},[k,C]),(0,r.useEffect)(()=>{k&&0===C&&Ee()},[C,k]),(0,r.useEffect)(()=>{const e=()=>re(null);if(null!==ne)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[ne]),(0,r.useEffect)(()=>{const e=sessionStorage.getItem("editingReviewId"),t=sessionStorage.getItem("returnToVehicleId");if(e&&t===i&&U.length>0){const t=U.find(t=>t._id===e);t&&(console.log("\ud83c\udfaf UPDATED REVIEW CONFIRMED IN UI!"),console.log("\ud83d\udcca Review Data:",t))}},[U,i]);const xe=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||$(!0),console.log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"),console.log("\u2b50 FETCHING AVERAGE RATING"),console.log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"),console.log("\ud83d\udccb Vehicle ID:",e);try{const t="Car",n=await La.review.getAverageRating(e,t);if(console.log("\u2705 Average Rating Response:",n),n.success&&void 0!==n.averageRating){const e=parseFloat(n.averageRating);J(e),console.log("\u2b50 Average Rating Set:",e)}}catch(n){console.error("\u274c Failed to fetch average rating:",n.message)}finally{t||$(!1)}},be=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Date.now();if(n-q<5e3&&t)console.log("\u23f3 Skipping fetch - too soon after last request");else{Y(n),t||(K(!0),Z("")),console.log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"),console.log("\ud83d\udd0d FETCHING REVIEWS FOR VEHICLE"),console.log("\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501"),console.log("\ud83d\udccb Vehicle ID:",e),localStorage.setItem("vehicleId",e);try{const n=await La.review.getReviewsByCarId(e);if(console.log("\u2705 Reviews Response:",n),n.success&&Array.isArray(n.reviews)){const e=n.reviews;console.log("\ud83c\udf89 SUCCESS: Reviews found!",e.length),console.log("\ud83d\udcdd Full Review Data:",JSON.stringify(e,null,2)),H(e);const r=sessionStorage.getItem("editingReviewId");if(r){const t=e.find(e=>e._id===r);t&&(console.log("\u2728 Updated review detected!"),console.log("\u2b50 NEW Rating:",t.rating),console.log("\ud83d\udcac NEW Text:",t.review||t.reviewText),gc.success("\ud83c\udf89 Review updated! New rating: ".concat(t.rating,"\u2605"),{duration:3e3,position:"top-center"})),setTimeout(()=>{console.log("\ud83e\uddf9 Clearing editingReviewId from sessionStorage"),sessionStorage.removeItem("editingReviewId")},5e3)}return t||gc.success("\u2705 Loaded ".concat(e.length," review(s)"),{duration:2e3,position:"top-right"}),e}console.log("\u2139\ufe0f No reviews found"),H([]),t||gc("No reviews yet for this vehicle",{duration:2e3,position:"top-right"})}catch(r){console.error("\u274c Fetch reviews failed:",r.message),Z("Unable to load reviews."),H([]),t||gc.error("Failed to load reviews",{duration:3e3,position:"top-right"})}finally{t||K(!1)}}},we=e=>{if(!e)return console.warn("\u26a0\ufe0f Vehicle type is undefined/null, defaulting to 'Car'"),"Car";return{car:"Car",auto:"Auto",bike:"Bike"}[e.toLowerCase()]||"Car"},ke=(e,t,n,r)=>{try{const i=e=>{var t;const n=e.match(/(\d{1,2}):?(\d{2})?\s*(AM|PM)?/i);if(!n)return{hours:0,minutes:0};let r=parseInt(n[1]);const i=parseInt(n[2]||"0"),a=null===(t=n[3])||void 0===t?void 0:t.toUpperCase();return"PM"===a&&12!==r&&(r+=12),"AM"===a&&12===r&&(r=0),{hours:r,minutes:i}},a=i(n),o=i(r),s=new Date(e);s.setHours(a.hours,a.minutes,0,0);const l=new Date(t);l.setHours(o.hours,o.minutes,0,0);const c=l.getTime()-s.getTime(),u=Math.ceil(c/36e5);return u>0?u:1}catch(i){return console.error("\u274c Error calculating hours:",i),1}},Se=h||{},Ne=(null===(e=n.state)||void 0===e?void 0:e.vehicleType)||(null===a||void 0===a?void 0:a.type)||"car",_e=!!Se.CarName||!!Se.carImages||"car"===Ne,Ce=parseInt(_e?Se.RentPerHour||Se.pricePerHour||"0":Se.pricePerKm||Se.pricePerHour||"0"),Ae=24*Ce;console.log("\ud83d\udcb0 PRICE CALCULATION:"),console.log("   Hourly Price:",Ce),console.log("   Daily Price (Hourly \xd7 24):",Ae);const je=a||(h?{id:h._id||h.id||i||"",name:h.CarName||h.bikeName||"Unknown Vehicle",image:h.carImages&&h.carImages.length>0?h.carImages[0]:h.bikeImages&&h.bikeImages.length>0?h.bikeImages[0]:h.carImage||h.bikeImage||h.image||"https://via.placeholder.com/400",price:Ce.toString(),pricePerHour:Ce,pricePerDay:Ae,type:h.bikeName?"bike":"car",transmission:h.transmissionType||"Manual",fuel:h.fuelType||"Petrol",seats:h.Carseater||h.seatingCapacity||"2",ac:h.ac||!1,ownerId:h.ownerId||h.userId||""}:null),Ee=()=>{console.log("\u23f0 Timer completed - Checking booking status"),"confirmed"===ie?(console.log("\u2705 Booking was confirmed - showing contact buttons"),S(!1),w(!0)):"rejected"===ie?(console.log("\u274c Booking was rejected"),S(!1),gc.error("Booking was rejected by owner")):(console.log("\u23f0 No response from owner - timeout"),S(!1),gc("Owner hasn't responded yet. Please try calling them.",{duration:5e3,position:"top-center"}),w(!0))},Te=()=>{if(!je||!R)return void console.error("\u274c Cannot confirm booking");new Date;console.log("\ud83c\udf89 Confirming booking with ID:",M),z(!0)};if(m)return(0,qa.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50",children:(0,qa.jsxs)("div",{className:"text-center space-y-4 p-8",children:[(0,qa.jsx)(zs,{className:"w-16 h-16 animate-spin text-blue-600 mx-auto"}),(0,qa.jsx)("p",{className:"text-xl text-gray-700 font-semibold",children:"Loading vehicle details..."}),(0,qa.jsx)("p",{className:"text-sm text-gray-500",children:"Please wait while we fetch the car information"})]})});if(g&&!a)return(0,qa.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-red-50 to-pink-50",children:(0,qa.jsxs)("div",{className:"text-center space-y-4 p-8 bg-white rounded-2xl shadow-lg max-w-md",children:[(0,qa.jsx)("div",{className:"text-6xl",children:"\u274c"}),(0,qa.jsx)("p",{className:"text-xl text-red-600 font-bold",children:"Error Loading Vehicle"}),(0,qa.jsx)("p",{className:"text-gray-600",children:g}),(0,qa.jsx)("button",{onClick:()=>t(-1),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg hover:opacity-90 transition font-semibold",children:"\u2190 Go Back"})]})});if(!a&&!h)return(0,qa.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:(0,qa.jsxs)("div",{className:"text-center space-y-4 p-8 bg-white rounded-2xl shadow-lg max-w-md",children:[(0,qa.jsx)("div",{className:"text-6xl",children:"\ud83d\ude97"}),(0,qa.jsx)("p",{className:"text-xl text-gray-700 font-bold",children:"Vehicle Not Found"}),(0,qa.jsx)("p",{className:"text-gray-600",children:"The vehicle you're looking for doesn't exist or has been removed."}),(0,qa.jsx)("button",{onClick:()=>t(-1),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg hover:opacity-90 transition font-semibold",children:"\u2190 Go Back"})]})});if(!je)return(0,qa.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,qa.jsxs)("div",{className:"text-center space-y-4 p-8",children:[(0,qa.jsx)("p",{className:"text-xl text-gray-700",children:"Vehicle data not available!"}),(0,qa.jsx)("button",{onClick:()=>t(-1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]})});const Ie=o((null===je||void 0===je?void 0:je.id)||""),Re=s((null===je||void 0===je?void 0:je.id)||""),Pe=l((null===je||void 0===je?void 0:je.id)||""),Me=c((null===je||void 0===je?void 0:je.id)||""),Le=U.length>0?U:Ie,De=X>0?X:U.length>0?(e=>{if(0===e.length)return 0;const t=e.reduce((e,t)=>e+t.rating,0),n=t/e.length;return Number(n.toFixed(1))})(U):Re,Be=U.length>0?U.length:Pe,Oe=U.length>0?(e=>{const t=[5,4,3,2,1].map(t=>{const n=e.filter(e=>e.rating===t).length,r=e.length>0?Math.round(n/e.length*100):0;return{stars:t,count:n,percentage:r}});return t})(U):Me;if(!je)return(0,qa.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,qa.jsxs)("div",{className:"text-center space-y-4 p-8",children:[(0,qa.jsx)("p",{className:"text-xl text-gray-700",children:"Vehicle data not available!"}),(0,qa.jsx)("button",{onClick:()=>t(-1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]})});let Fe=(_e?Se.carImages:Se.bikeImages)||[];Fe=Fe.filter(e=>e&&""!==e.trim()&&"undefined"!==e);const Ve=_e?["https://e7.pngegg.com/pngimages/768/421/png-clipart-car-computer-icons-sedan-auto-detailing-auto-driving-rectangle-thumbnail.png","https://png.pngtree.com/png-vector/20191201/ourmid/pngtree-car-vector-logo-design-png-image_2066853.jpg"]:["https://w7.pngwing.com/pngs/579/51/png-transparent-computer-icons-motorcycle-bicycle-motorcycle-logo-black-silhouette.png","https://w1.pngwing.com/pngs/381/835/png-transparent-yamaha-logo-car-decal-motorcycle-sticker-sport-bike-yamaha-yzfr1-bicycle-thumbnail.png"];0===Fe.length&&(Fe=Ve);const ze=[...Fe];for(;ze.length<3;)ze.push(Ve[ze.length%Ve.length]);const Ue=_e?"".concat(Se.CarName||"Unknown"," ").concat(Se.CarModel||"").trim():"".concat(Se.bikeName||"Unknown"," ").concat(Se.bikeModel||"").trim();return(0,qa.jsxs)("div",{className:"max-w-8xl mx-auto p-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,qa.jsx)("div",{className:"lg:col-span-1",children:(0,qa.jsxs)("div",{className:"relative w-full h-[200px] sm:h-[250px] md:h-[300px] rounded-[10px] border-2 border-transparent hover:border-[#0066FF] transition-all duration-200",children:[(0,qa.jsx)("img",{src:ze[he],alt:Ue,className:"w-full h-full object-cover transition-all duration-500 rounded-[10px]"}),(0,qa.jsx)("button",{onClick:e=>{e.stopPropagation(),pe(e=>0===e?ze.length-1:e-1)},className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-10 h-10 sm:w-12 sm:h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center shadow-2xl z-20 transition-all cursor-pointer border border-gray-200",type:"button","aria-label":"Previous image",children:(0,qa.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-800 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),(0,qa.jsx)("button",{onClick:e=>{e.stopPropagation(),pe(e=>e===ze.length-1?0:e+1)},className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 w-10 h-10 sm:w-12 sm:h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center shadow-2xl z-20 transition-all cursor-pointer border border-gray-200",type:"button","aria-label":"Next image",children:(0,qa.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-800 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),(0,qa.jsx)("div",{className:"absolute bottom-3 sm:bottom-4 left-1/2 transform -translate-x-1/2 flex gap-1.5",children:ze.map((e,t)=>(0,qa.jsx)("button",{onClick:()=>pe(t),className:"h-2 rounded-full transition-all ".concat(t===he?"bg-[#0066FF] w-6":"bg-gray-700 w-2")},t))})]})}),(0,qa.jsxs)("div",{className:"lg:col-span-1",children:[(0,qa.jsx)("h1",{className:"text-4xl font-bold mb-4",children:je.name}),(0,qa.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,qa.jsxs)("div",{onClick:()=>de("day"),className:"flex items-center gap-2 px-4 py-3 rounded-lg border-2 cursor-pointer transition-all ".concat("day"===ue?"border-transparent bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white":"border-gray-300 bg-white hover:border-blue-300"),children:[(0,qa.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAABmJLR0QA/wD/AP+gvaeTAAAKSElEQVR4nO3db2id5RnH8d99ksZaFXVrydrCXNlK/2zNevqcGpjTpjPS6VxhtWVudGwwqC8so+AUfGHZ6vpqW3C4wF5IKUOh4B/orCtDre2qlJpzTkpc202YTpDWLJtV12VNTnKuvWgrpTKN876f51zN9wN5e103B76cc5LneSIBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxQpFH6BVZVlmMefVarVp9Vrz+uWjVPQBAPz/CBhwjIABxwgYcIyAAccIGHCMgAHHCBhwjIABx9xc3dLV1XVFe3v7VyVlIYRFkhZJ6pR0taQrJc0o8nxw54ykdyW9I+mkpFckDTWbzYHBwcEhSVGvJEulpQPu7u7ubDQa3wkhrJPULamj6DNhWnhT0tNm9kS9Xn9BLRxzSwZcqVR6zOweSV+X1F70eTCtHZf0cKPR+O3Q0NC/iz7MxVoq4HK5fHMIYVsI4StFnwW4yIkQwtYFCxbsfPzxxyeLPsx5LRFwuVyeF0L4ZQjhzqLPAnyEoWaz+cPBwcFq0QeRWiDgSqVyp5n9Rmd/GQV4MBFC2G5m22u1WqPIgxQWcE9Pz8zTp0//ysw2FXUG4JMwswMhhPW1Wu0fRZ2hkICzLLvazHaHEFYVsR+I6LVSqbR2YGDgaBHLcw+4u7u7c2JiYq+kct67gUT+GUK4pVqtDua9ONeAsyy7WtJ+Scvz3Avk4G1Jt9RqtXqeS3O7lLKnp2dmCOF3Il5cmj4l6ffLly//XJ5Lcwv4vffee8jMbsprH1CAzra2tmfOfdLMRS4BZ1m2IYRwVx67gIItDSHsyGtZW+oF5y7S+IOkmal3AS1iyfz58986ceJELfWi5O/AbW1tfeIiDUwzZtZ3/fXXL0i9J2nA5XL5ZjP7dsodQIuaNTEx8VDqJUkDLpVKP005H2hlIYS1lUrl1pQ7kgVcqVR6JN2Qaj7ggZn9TAmvt0gW8Ln7eYHpbkWWZbelGp4k4O7u7k6dvRkfgJTszSzJ0y4mJye/m2q2JHV0dKi3t1erV6/W4sWLNWfOHLW3x11XqVSizqtWW+L20dy0+us3Pj6uN954QwcPHtSTTz6p4eHhqPMv0pNl2edrtdpfYw9OEpmZfSvFXElas2aNtmzZojlz5qRagWmgo6NDCxcu1MKFC7Vx40bt3LlTO3bs0MTERIp1QdL3JW2NPTj6R+iurq4rdPYBdFGVSiXdf//92r59O/Eiqo6ODm3atEn9/f266qqrUq1Zm2Jo9IDPPfo1+tMj77vvPt1xxx2xxwLvy7JM/f39mjVrVorxXeVyeV7soSl+iZXFHrhmzRqtX78+9ljgA5YuXapt27YphOh/+QkhhK/FHho94HMPXY+mo6NDW7ZsiTkS+FA9PT1auzb+J95SqdQVfWbsgTr7HxOi6e3t5Tsvcrd58+YUH6WXxR6YIuDPxBy2evXqmOOAKbn22mt1++23R51pZtFvbkgR8JUxhy1ZsiTmOGDKent7Y4+MfldeioCj/h5+9uzZMccBU7Z48eLYI6+JPTDFhRxR/4QU+wqrqZpuV07Fdim8fgm+A0d/qAX/HxhwjIABxwgYcIyAAccIGHCMgAHHCBhwjIABxwgYcIyAAccIGHCMgAHHCBhwjIABxwgYcIyAAccIGHCMgAHHCBhwjIABxwgYcIyAAccIGHCMgAHHCBhwjIABxwgYcIyAAccIGHCsmH/99zFUKpWijwC0LN6BAccIGHCMgAHHCBhwjIABxwgYcIyAAccIGHCMgAHHCBhwjIABxwgYcIyAAccIGHCMgAHHCBhwjIABxwgYcIyAAcda/plY1Wq16CNgGmv1Z7LxDgw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDhGwIBjBAw4RsCAYwQMOEbAgGMEDDiWIuCxmMPOnDkTcxwwZY1GI/bIqG1IaQJ+N+aw48ePxxwHTNnIyEjskf+KPbDlA3722WdjjgOm7NixY7FHugj4tZjD9uzZo1OnTsUcCUzJ/v37o84LIbwVdaDSBPxKzGGjo6Pq7++PORL4SMPDw9q3b1/UmWb2l6gDlSDgEMJQ7Jm7d+/WgQMHYo8F/qe+vj6Nj4/HHtv6Abe1tb0gyWLONDM98MADKb6TAB+wa9cuPf/889HnlkqlavSZsQcePnz4TUl/ij13dHRUd999t6rV6K8B8L5du3apr68vxeix9vb2l2IPbYs9UJLmzp07P4RwU+y54+Pj2rt3r8xMy5YtU1tbkuNjGhoeHtaDDz6oxx57TGZRP0Ce9+LLL7/8SOyhIfZASVqxYsUXQgivppovSZ2dnVq3bp1uvPFGXXfddbrssstSrcIlqNFoaGRkRMeOHdP+/fu1b9++FN95L/SjWq32cOyhyQLLsmyfpNWp5gOONJrN5vzBwcHoV4YkuxbazJJ8kQC8MbO9KeKVEgZcr9f3hBD4jRMg/SLV4KR3I5nZT1LOB1qdmR2o1+sHU81PGnCtVnsmhPB0yh1ACzMz25pyQfL7gUMIWySNpt4DtBoze3RwcPCPKXckD3hgYOA1Sfek3gO0mFMzZsy4N/WSXK6EOHnyZHXevHlLJX0xj31A0cxsYzWHywZze6TO5OTkXZK4mBmXPDP7db1efyqPXbkFfOTIkXcmJye/IWk4r51A3szsubGxsdy+Mub6ULsjR478TdJtkt7Ocy+Qk9rll1++7ujRo0mvybxQskspP8zKlSuXN5vN5yR9uoj9QAL1RqNx69DQ0N/zXFrIY2UHBgaOlEqlVYr8+B2gCGb23MyZM3vyjlcq6B34vCzLZpvZEyGEVUWeA/gEHj5z5syP8/zYfKFCb6g9efLk6KJFix4dGxtrhhBuKPo8wMdwysw21uv1vpGRkcmiDlHoO/CFyuVypVQqPSLpy0WfBfgQZmaPzpgx497Dhw8X/heVlglYkjZs2ND2+uuv/8DMtkmaV/R5gAuZ2QEz25r68siPo6UCPi/LslkhhO+Z2WZJXyr6PJjWGma2N4Tw81qt9mLRh7lYSwZ8oZUrV64ysw1m9k1Jny36PJgWxiQdkvRUs9nclepm/BhaPuALrVixoqtUKlXMrEtSl6S5kq459zOz0MPBm3FJpyW9E0IYlvRnM3u1VCpV29vbXzp06NB/Cj4fAAAAAAAAAAAAAAAAACAX/wWVPWOuMBKlEAAAAABJRU5ErkJggg==",alt:"Calendar",className:"w-6 h-6"}),(0,qa.jsxs)("div",{className:"flex flex-col",children:[(0,qa.jsx)("span",{className:"text-xs ".concat("day"===ue?"text-white":"text-gray-500"),children:"Daily"}),(0,qa.jsxs)("span",{className:"text-lg font-bold ".concat("day"===ue?"text-white":"text-gray-900"),children:["\u20b9","pricePerDay"in je?je.pricePerDay:24*parseInt(String(je.price)),"/day"]})]})]}),(0,qa.jsxs)("div",{onClick:()=>de("hour"),className:"flex items-center gap-2 px-4 py-3 rounded-lg border-2 cursor-pointer transition-all ".concat("hour"===ue?"border-transparent bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white":"border-gray-300 bg-white hover:border-blue-300"),children:[(0,qa.jsx)("img",{src:"data:image/png;base64,UklGRugFAABXRUJQVlA4INwFAADwJQCdASq0ALQAPp1Oo0wlpKMiI5MJwLATiWlu3WBpBOP7l2sf7ThdspE+0/r30gfF3eXtc7p2AD8t/tPbHegvGT3lNAD88f8z+te6n/Jf+D/F+cT81/x/7MfAN/NP7l1ef279h39dR1JQR8C4TijRXBkWsp/O/t3UiqHLdcNFgxbLjVwE+w3aWn9WUx/JH2luGj8X0isvcwfRdw8Boy+nYgXxqzPbyHhHQdRMVw+v2XP7im7H2iyQYyAKs4gkpLK3/gl3eg8mNgqmdAdQ97l4qcb1O+Qxn7QsRA8RNKpSCmqnrNaFDfUHyv/ifYm1cLU0nhnJXb5H9N3FLl3tdJgip7wJYsG0/iDnVKQqJeZOUlUls0mXpvYx59T/KY1lPMVCuDIsHoQ0KOaCUEfAuE4o0VwZFrKggAAA/vikAABeXrVYf6BCkDnPYdxu3UXxeNPeEnX2mXRR9+kFyFJ9Hs/uUAA5mR4qzlixHvm8XZqKsZbGyyLSWs/T1e+fIMlRmkAetNezTHBT9g9DlKtpNKaB+RcisAJns9EFt5uAOUOzEZzZ1amwKzC3RM7UtFkSKHUFULNO85J3bVt6RT4Q1Ag/jhf1CTjxcObBJi/fyo8NXOlBo6+0GfaNX4N1Ig9H9JhP9QMDcqga3oZuzFGeBHWykxfGr2nq/0pBfAD8ANDOnD9y+0IqDuQVBmvwVM0oAV3L4iqJjWb1Z0HhTitDBaooXpZaoJw1R1dRane24qPFMTMhQsaFKnjsFhIDCGKnkd+ks9W111jZwVHXC8A75b6Frf7AsszaxtRXJ5EF12Zn6hiIOciJO44hpp9izBdlW/WGXMzpa51MiSy/0mgPxyIk8WTzMDplGWqPSvGTpzTAybJJUxbAY/uAmQnlvJx6fiiwL5WImkdXRFMXJxnjZXIynEYADUushNsFQxLdhgmoK4oeUxFF+hKGKqQb0QETqrBJdNsXgjAC+q0xzolRhmDhNrQkvtpUV+bz2jkXOPvOF8u6v9OGiMSv5q76WLj9YTpXpYo51/+4egIHt9B48ukqeciMLfWeNKDcQIGp1OBEzhz91vULCuAnsPcY4v6XjYW3vN+cbUzhCFiWf9NBzeky1tbPIylWMpGise20QXFEn1S0fbyUkbLyYsvA6qvaOUeOe7YQd7xVQeBAOhzhGtBNKuVAKtC0ZsZEzLevv1FY6y+4wea7t619QjpGUCmqU/6899Qpijr4z0QvPW4jwonQngNazURh6Dl3TPGpIo4GHrL2qx4E7IYyByKpdVp6unIHlwDh5GmiVuWnuOstdflgRMqtBbbv5VoWEpzfB9mIlI4ZUkAm9sLUU8vTVxOo1SgBtFdgRxPDZEbn77sE5XRvX3lUihWP6vzgWEeWcQHux5w+z+g0BSP/Xdie4xBGhxxog3lwKhyg7FL+l9tKRm2FLXmH/CXxh8C53AG6i2dQPN2AnugisNmL2vPP30ubI2yzaBB5ASuEUc+IwXXnXfQYgLMS+qWJcuU41MTWyP65Pwyrv6KjhPnXsxHo9pEJxIOyzLqUkj6X6y6vsx4UoCxUX8jAL/UbmsvVu6u3g0sajoF4DUSltUJG7vboS+fWdeiyB+Uf5ee2ufdm+LshDOfT2KY/dd782+Svk+iTABmpze2aPeXgtJDHoqJjptujcOKHg4SSww1ToUKPsC+IlHrrSv9IGjC+JvdRAAKp2nIBLGKvYUen1tmO6bghiGpnTsv1kqRxVvT1+b9PBT1M2HVZljIJl/2c8TwD/Y9VMNJRIEsRcCADIuQvwyOiyaPbR8sSHqkNETcrvvCGhu7cqTFUlAkfu343Q2/zUUwtvzcKXwvN17ScZ+zpNyXPYIQmkbFA4R3RAX90KEB+tQjcebBENK2grdFf4qtGe+4HWC9f5ltLskArnzA1ctvGQPxoG74ZhHayRvBf3KIlHZsAER+AQlEs+Ic8MnoidUXGxb3KvhdZ01u1JsrclYFPCmuB6ZVtPnyCQzx8U2wAAAA=",alt:"Clock",className:"w-6 h-6"}),(0,qa.jsxs)("div",{className:"flex flex-col",children:[(0,qa.jsx)("span",{className:"text-xs ".concat("hour"===ue?"text-white":"text-gray-500"),children:"Hourly"}),(0,qa.jsxs)("span",{className:"text-lg font-bold ".concat("hour"===ue?"text-white":"text-gray-900"),children:["\u20b9","pricePerHour"in je?je.pricePerHour:parseInt(String(je.price)),"/hr"]})]})]})]}),(0,qa.jsxs)("div",{className:"flex items-center justify-between bg-white border-2 border-gray-200 rounded-lg p-4 mb-6",children:[(0,qa.jsxs)("div",{className:"flex flex-col items-center gap-2 flex-1",children:[(0,qa.jsx)("div",{className:"w-[50px] h-[50px] flex items-center justify-center",children:(0,qa.jsx)("img",{src:ko,alt:"Transmission",className:"w-full h-full object-contain"})}),(0,qa.jsx)("span",{className:"text-sm text-gray-700",children:je.transmission})]}),(0,qa.jsx)("div",{className:"w-px h-16 bg-gray-300"}),(0,qa.jsxs)("div",{className:"flex flex-col items-center gap-2 flex-1",children:[(0,qa.jsx)("div",{className:"w-[50px] h-[50px] flex items-center justify-center",children:(0,qa.jsx)("img",{src:So,alt:"Seats",className:"w-full h-full object-contain"})}),(0,qa.jsxs)("span",{className:"text-sm text-gray-700",children:[je.seats," Seaters"]})]}),(0,qa.jsx)("div",{className:"w-px h-16 bg-gray-300"}),(0,qa.jsxs)("div",{className:"flex flex-col items-center gap-2 flex-1",children:[(0,qa.jsx)("div",{className:"w-[50px] h-[50px] flex items-center justify-center",children:(0,qa.jsx)("img",{src:No,alt:"Fuel",className:"w-full h-full object-contain"})}),(0,qa.jsx)("span",{className:"text-sm text-gray-700",children:je.fuel})]}),(0,qa.jsx)("div",{className:"w-px h-16 bg-gray-300"}),(0,qa.jsxs)("div",{className:"flex flex-col items-center gap-2 flex-1",children:[(0,qa.jsx)("div",{className:"w-[50px] h-[50px] flex items-center justify-center",children:(0,qa.jsx)("img",{src:vs,alt:"AC",className:"w-full h-full object-contain"})}),(0,qa.jsx)("span",{className:"text-sm text-gray-700",children:"ac"in je&&je.ac?"AC":"Non-AC"})]})]}),(0,qa.jsxs)("div",{className:"mb-6",children:[(0,qa.jsx)("h3",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Description"}),(0,qa.jsx)("div",{className:"w-full min-h-[35px] border border-gray-300 rounded-lg p-3 text-sm text-gray-700",children:(null===h||void 0===h?void 0:h.description)||"Very good vehicle with excellent condition and comfortable seating."})]}),le&&(0,qa.jsx)("div",{className:"mb-4 p-4 rounded-lg border-2 flex items-center gap-3 animate-pulse ".concat("confirmed"===ie?"bg-green-50 border-green-400":"bg-red-50 border-red-400"),children:"confirmed"===ie?(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(Cs,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"font-bold text-green-800",children:le}),(0,qa.jsx)("p",{className:"text-sm text-green-600",children:"You can now contact the owner"})]})]}):(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(As,{className:"w-6 h-6 text-red-600 flex-shrink-0"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"font-bold text-red-800",children:le}),(0,qa.jsx)("p",{className:"text-sm text-red-600",children:"Please try another vehicle"})]})]})}),oe&&!le&&(0,qa.jsxs)("div",{className:"mb-4 p-4 rounded-lg border-2 border-blue-400 bg-blue-50 flex items-center gap-3",children:[(0,qa.jsx)(Us,{className:"w-6 h-6 text-blue-600 animate-spin flex-shrink-0"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"font-bold text-blue-800",children:"Waiting for owner's response..."}),(0,qa.jsx)("p",{className:"text-sm text-blue-600",children:"The owner will be notified shortly"})]})]}),b?(0,qa.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-3 bg-gray-50 p-4 rounded-lg",children:[(0,qa.jsx)("img",{src:"https://ui-avatars.com/api/?name=Manoj+Kumar&background=6B7280&color=fff&size=48",alt:"Manoj Kumar",className:"w-12 h-12 rounded-full"}),(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("h4",{className:"font-semibold text-gray-900",children:"Manoj Kumar"}),(0,qa.jsx)("p",{className:"text-sm text-gray-500",children:"Vehicle Owner"})]})]}),(0,qa.jsxs)("div",{className:"flex items-start gap-2 bg-orange-50 border border-orange-200 rounded-lg p-3",children:[(0,qa.jsx)("svg",{className:"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qa.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,qa.jsx)("p",{className:"text-sm text-orange-700 flex-1",children:"Please call the owner to discuss booking details and confirm availability."})]}),(0,qa.jsxs)("div",{className:"flex gap-3",children:[(0,qa.jsx)("button",{onClick:()=>I(!0),className:"flex-1 flex items-center justify-center gap-2 bg-white border-2 border-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-lg hover:bg-gray-50 transition",children:"\ud83d\udcac Chat"}),(0,qa.jsx)("button",{onClick:()=>{console.log("\ud83d\udcde Customer calling owner..."),console.log("\ud83c\udf89 Call initiated - Opening success modal"),setTimeout(()=>{Te()},1e3)},className:"flex-1 flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-3 px-6 rounded-lg hover:opacity-90 transition shadow-md",children:"\ud83d\udcde Call Owner"})]})]}):(0,qa.jsx)("button",{onClick:()=>x(!0),disabled:D||"rejected"===ie,className:"w-full bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white py-3 px-6 rounded-lg\n                        font-semibold hover:opacity-90 transition-all shadow-md\n                        disabled:opacity-50 disabled:cursor-not-allowed mb-6",children:D?"Processing...":"rejected"===ie?"Booking Rejected":"Book Now"}),v&&(0,qa.jsx)(jc,{isOpen:v,onClose:()=>x(!1),userRole:"customer",VechileId:(null===je||void 0===je?void 0:je.id)||i||"",vechileType:we(null===je||void 0===je?void 0:je.type),userId:localStorage.getItem("userId")||ge,ownerId:(null===h||void 0===h?void 0:h.ownerId)||(null===h||void 0===h?void 0:h.userId)||"",pricePerDay:"pricePerDay"in je?je.pricePerDay:24*parseInt(String(je.price)),vehicleName:(null===je||void 0===je?void 0:je.name)||"Vehicle",latitude:localStorage.getItem("latitude"),longitude:localStorage.getItem("longitude"),onBookingComplete:e=>{console.log("Booking completed!",e),x(!1),gc.success("Booking confirmed!")}})]}),(0,qa.jsxs)("div",{className:"lg:col-span-1",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,qa.jsx)("h3",{className:"text-3xl font-bold",children:"Rating & Reviews"}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(G||Q)&&(0,qa.jsx)(zs,{className:"w-4 h-4 animate-spin text-blue-500"}),(0,qa.jsx)("button",{onClick:()=>{i&&(console.log("\ud83d\udd04 Manual refresh triggered"),be(i,!1),xe(i,!1))},disabled:G||Q,className:"p-2 hover:bg-gray-100 rounded-lg transition disabled:opacity-50",title:"Refresh reviews",children:(0,qa.jsx)(Hs,{className:"w-4 h-4 text-gray-600 ".concat(G||Q?"animate-spin":"")})})]})]}),U.length>0&&(0,qa.jsxs)("div",{className:"mb-3 p-2 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[(0,qa.jsx)("span",{className:"text-xs text-green-700 font-medium",children:"\u2713 Live reviews from API"}),(0,qa.jsxs)("span",{className:"text-xs text-gray-500",children:["(Updated ",new Date(q).toLocaleTimeString(),")"]})]}),sessionStorage.getItem("editingReviewId")&&!G&&(0,qa.jsx)("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-2 animate-pulse",children:(0,qa.jsx)("span",{className:"text-xs text-blue-700 font-medium",children:"\ud83d\udd04 Refreshing to show your updated review..."})}),(0,qa.jsxs)("div",{className:"flex items-center mt-2 mb-2 justify-between bg-gradient-to-r from-yellow-50 to-orange-50 p-4 rounded-xl border border-yellow-200",children:[(0,qa.jsxs)("div",{className:"flex flex-col",children:[(0,qa.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:De}),(0,qa.jsx)("span",{className:"text-xs text-gray-600 mt-1",children:"out of 5"})]}),(0,qa.jsxs)("div",{className:"flex flex-col items-end",children:[(0,qa.jsx)("div",{className:"flex gap-1",children:[...Array(5)].map((e,t)=>(0,qa.jsx)(us,{className:t<Math.floor(De)?"text-yellow-400 fill-yellow-400":"text-gray-300",size:20},t))}),(0,qa.jsxs)("span",{className:"text-sm text-gray-600 mt-1",children:[Be," Review",1!==Be?"s":""]})]})]}),(0,qa.jsxs)("div",{className:"mt-4 space-y-2 bg-white p-4 rounded-lg border",children:[(0,qa.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Rating Breakdown"}),Oe.map(e=>(0,qa.jsxs)("div",{className:"flex items-center text-sm",children:[(0,qa.jsxs)("span",{className:"w-8 text-gray-700 font-medium",children:[e.stars,(0,qa.jsx)("span",{className:"text-yellow-400 text-xl",children:"\u2605"})]}),(0,qa.jsx)("div",{className:"flex-1 bg-gray-200 h-3 rounded-full mx-3 overflow-hidden",children:(0,qa.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 h-3 rounded-full transition-all duration-500",style:{width:"".concat(e.percentage,"%")}})}),(0,qa.jsxs)("span",{className:"text-gray-500 text-xs min-w-[45px] text-right",children:[e.count," (",e.percentage,"%)"]})]},e.stars))]}),(0,qa.jsxs)("div",{className:"mt-6 space-y-3 max-h-[500px] overflow-y-auto pr-2",children:[(0,qa.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3 sticky top-0 bg-white py-2 z-10",children:["Customer Reviews (",Be,")"]}),Le.length>0?Le.map((e,n)=>{const r=(e=>{const t=fe();return e.userId===t})(e),o=sessionStorage.getItem("editingReviewId")===e._id,s=ne===e._id;return(0,qa.jsxs)("div",{className:"border rounded-xl p-4 transition-all duration-500 relative ".concat(o?"border-green-400 bg-gradient-to-br from-green-50 to-emerald-50 shadow-2xl ring-2 ring-green-400 ring-offset-2":r?"border-blue-200 bg-blue-50 hover:shadow-md":"border-gray-200 bg-white hover:shadow-md"),children:[o&&(0,qa.jsx)("div",{className:"absolute -top-3 -right-3 z-20 animate-bounce",children:(0,qa.jsxs)("div",{className:"bg-gradient-to-r from-green-500 via-emerald-500 to-green-600 text-white text-xs px-4 py-2 rounded-full font-bold shadow-xl flex items-center gap-2",children:[(0,qa.jsx)("span",{className:"text-lg animate-spin",children:"\u2728"}),(0,qa.jsx)("span",{className:"font-extrabold",children:"JUST UPDATED!"})]})}),(0,qa.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,qa.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm ".concat(o?"bg-gradient-to-br from-green-400 to-emerald-500 ring-2 ring-green-300":"bg-gradient-to-br from-blue-400 to-purple-400"),children:(e.userName||"User ".concat(n+1)).charAt(0).toUpperCase()}),(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("span",{className:"font-semibold text-gray-900 text-sm ".concat(o?"text-green-800":""),children:e.userName||"User ".concat(n+1)}),r&&(0,qa.jsx)("span",{className:"text-xs bg-blue-500 text-white px-2 py-0.5 rounded-full font-medium",children:"You"}),o&&(0,qa.jsx)("span",{className:"text-xs bg-green-500 text-white px-2 py-0.5 rounded-full font-medium animate-pulse",children:"Updated"})]}),e.createdAt&&(0,qa.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("div",{className:"flex px-2 py-1 rounded-lg border ".concat(o?"bg-green-100 border-green-300 ring-2 ring-green-200":"bg-yellow-50 border-yellow-200"),children:[...Array(5)].map((t,n)=>(0,qa.jsx)(us,{size:14,className:n<e.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"},n))}),(0,qa.jsxs)("div",{className:"relative",onClick:e=>e.stopPropagation(),children:[(0,qa.jsx)("button",{onClick:t=>{return n=e._id,t.stopPropagation(),void re(ne===n?null:n);var n},className:"p-1.5 rounded-full transition-all duration-200 ".concat(s?"bg-blue-100 text-blue-600":"hover:bg-gray-100 text-gray-600"),"aria-label":"Review options",title:r?"Edit or delete review":"Review options",children:(0,qa.jsx)(Gs,{size:18})}),s&&(0,qa.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border-2 border-gray-200 z-30 overflow-hidden",onClick:e=>e.stopPropagation(),children:r?(0,qa.jsxs)("div",{className:"py-1",children:[(0,qa.jsxs)("button",{onClick:n=>{n.stopPropagation(),(e=>{console.log("\u270f\ufe0f Navigating to feedback page for review:",e._id);const n=a||(h?{name:h.CarName||"Unknown Vehicle"}:null);sessionStorage.setItem("editingReviewId",e._id),sessionStorage.setItem("returnToVehicleId",i||""),t("/feedback?vehicleId=".concat(i,"&vehicleName=").concat(encodeURIComponent((null===n||void 0===n?void 0:n.name)||""),"&reviewId=").concat(e._id)),re(null)})(e)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm hover:bg-blue-50 transition-colors group",children:[(0,qa.jsx)(Ks,{size:16,className:"text-blue-600 group-hover:scale-110 transition-transform"}),(0,qa.jsx)("span",{className:"font-medium text-gray-700 group-hover:text-blue-700",children:"Edit Review"})]}),(0,qa.jsx)("div",{className:"border-t border-gray-100"}),(0,qa.jsxs)("button",{onClick:t=>(async(e,t)=>{if(t.stopPropagation(),window.confirm("Are you sure you want to delete this review?")){te(!0),re(null);try{console.log("\ud83d\uddd1\ufe0f Deleting review:",e),await La.review.deleteReview(e),gc.success("\u2705 Review deleted successfully",{duration:2e3,position:"top-right"}),i&&setTimeout(()=>{be(i,!1),xe(i,!1)},500)}catch(n){console.error("\u274c Error deleting review:",n),gc.error("Error: ".concat(n.message),{duration:3e3,position:"top-right"})}finally{te(!1)}}})(e._id,t),className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors group",children:[(0,qa.jsx)(ms,{size:16,className:"group-hover:scale-110 transition-transform"}),(0,qa.jsx)("span",{className:"font-medium group-hover:text-red-700",children:"Delete Review"})]})]}):(0,qa.jsx)("div",{className:"py-3 px-4",children:(0,qa.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"You can only edit your own reviews"})})})]})]})]}),(0,qa.jsx)("p",{className:"text-sm leading-relaxed mt-2 mb-3 ".concat(o?"text-gray-900 font-medium":"text-gray-700"),children:e.review||e.reviewText||e.comment||e.feedback||"No comment provided"}),o&&(0,qa.jsxs)("div",{className:"mt-3 p-3 bg-gradient-to-r from-green-100 to-emerald-100 border-2 border-green-400 rounded-lg shadow-inner",children:[(0,qa.jsxs)("p",{className:"text-xs font-bold text-green-800 mb-2 flex items-center gap-1",children:[(0,qa.jsx)("span",{className:"text-base",children:"\u2705"}),(0,qa.jsx)("span",{children:"Review Successfully Updated!"})]}),(0,qa.jsxs)("div",{className:"space-y-1 text-xs text-green-700",children:[(0,qa.jsxs)("p",{children:[(0,qa.jsx)("strong",{children:"New Rating:"})," ",e.rating," \u2b50"]}),(0,qa.jsxs)("p",{children:[(0,qa.jsx)("strong",{children:"New Review:"})," ",e.review||e.reviewText||"No comment"]}),(0,qa.jsxs)("p",{children:[(0,qa.jsx)("strong",{children:"Time:"})," ",(new Date).toLocaleTimeString()]})]})]})]},e._id||n)}):(0,qa.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[(0,qa.jsx)("div",{className:"text-5xl mb-3",children:"\ud83d\udcdd"}),(0,qa.jsx)("p",{className:"text-gray-500 font-medium mb-1",children:"No reviews yet"}),(0,qa.jsx)("p",{className:"text-gray-400 text-sm",children:"Be the first to review this vehicle!"})]})]})]}),k&&(0,qa.jsx)(Ws,{isOpen:k,bookingId:M||void 0,bookingStatus:le||"Waiting for owner response...",timer:C,onClose:()=>{console.log("\u274c WaitingPopup closed manually"),S(!1),A(180)},onTimerComplete:Ee,onTimeout:()=>{console.log("\u23f0 WaitingPopup timeout"),S(!1),se(!1),gc.error("Request timed out. Please try again.",{duration:5e3,position:"top-center"})}}),N&&M&&(0,qa.jsx)(qs,{bookingId:M,onAccept:()=>{console.log("\u2705 Booking accepted by owner!"),_(!1),ae("confirmed"),S(!1),ce("\u2705 Owner accepted your booking!"),gc.success("\ud83c\udf89 Booking Confirmed by Owner!",{duration:5e3,position:"top-center"}),setTimeout(()=>{w(!0),ce("")},2e3)},onReject:e=>{console.log("\u274c Booking rejected by owner. Reason:",e),_(!1),ae("rejected"),S(!1),ce("\u274c Owner rejected your booking"),gc.error("Booking rejected".concat(e?": ".concat(e):""),{duration:5e3,position:"top-center"}),setTimeout(()=>{ce(""),L(null),P(null)},3e3)},onClose:()=>{console.log("\u274c Acceptance modal closed"),_(!1)}}),j&&(0,qa.jsx)(Ys,{isOpen:j,onClose:()=>E(!1),onReject:async e=>{console.log("\u274c Rejecting booking with reason:",e);try{M&&(ae("rejected"),E(!1),S(!1),ce("\u274c Booking rejected"),gc.error("Booking rejected: ".concat(e),{duration:5e3,position:"top-center"}),setTimeout(()=>{ce(""),L(null),P(null)},3e3))}catch(t){console.error("\u274c Error rejecting booking:",t),gc.error("Failed to reject booking")}}}),V&&(0,qa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,qa.jsx)("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl animate-fadeIn",children:(0,qa.jsxs)("div",{className:"text-center",children:[(0,qa.jsxs)("div",{className:"mb-6 relative",children:[(0,qa.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full mx-auto flex items-center justify-center animate-bounce",children:(0,qa.jsx)(Cs,{className:"w-12 h-12 text-green-500"})}),(0,qa.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,qa.jsx)("div",{className:"w-20 h-20 border-4 border-green-500 rounded-full animate-ping opacity-20"})})]}),(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Confirmed! \ud83c\udf89"}),(0,qa.jsx)("p",{className:"text-gray-600 mb-6",children:"Your call with the owner was successful. Your booking has been confirmed!"}),R&&je&&(0,qa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:[(0,qa.jsx)("h3",{className:"font-semibold text-gray-900 mb-3 text-center",children:"Booking Summary"}),(0,qa.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,qa.jsxs)("div",{className:"flex justify-between",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"Vehicle:"}),(0,qa.jsx)("span",{className:"font-medium text-gray-900",children:je.name})]}),(0,qa.jsxs)("div",{className:"flex justify-between",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"From:"}),(0,qa.jsxs)("span",{className:"font-medium text-gray-900",children:[new Date(R.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," at ",R.startTime]})]}),(0,qa.jsxs)("div",{className:"flex justify-between",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"To:"}),(0,qa.jsxs)("span",{className:"font-medium text-gray-900",children:[new Date(R.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," at ",R.endTime]})]}),(0,qa.jsxs)("div",{className:"border-t border-gray-200 pt-2 mt-2",children:[(0,qa.jsxs)("div",{className:"flex justify-between",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"Total Duration:"}),(0,qa.jsxs)("span",{className:"font-medium text-gray-900",children:[ke(R.startDate,R.endDate,R.startTime,R.endTime)," hours"]})]}),(0,qa.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,qa.jsxs)("span",{className:"text-gray-600",children:["Price per ",ue,":"]}),(0,qa.jsxs)("span",{className:"font-medium text-gray-900",children:["\u20b9","hour"===ue?"pricePerHour"in je?je.pricePerHour:parseInt(String(je.price)):"pricePerDay"in je?je.pricePerDay:24*parseInt(String(je.price))]})]}),(0,qa.jsxs)("div",{className:"flex justify-between mt-2 pt-2 border-t border-gray-300",children:[(0,qa.jsx)("span",{className:"font-semibold text-gray-900",children:"Total Price:"}),(0,qa.jsxs)("span",{className:"font-bold text-blue-600 text-lg",children:["\u20b9","hour"===ue?ke(R.startDate,R.endDate,R.startTime,R.endTime)*("pricePerHour"in je?je.pricePerHour:parseInt(String(je.price))):Math.ceil(ke(R.startDate,R.endDate,R.startTime,R.endTime)/24)*("pricePerDay"in je?je.pricePerDay:24*parseInt(String(je.price)))]})]})]})]})]}),M&&(0,qa.jsxs)("div",{className:"mb-6 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,qa.jsx)("p",{className:"text-xs text-blue-600 mb-1",children:"Booking ID"}),(0,qa.jsx)("p",{className:"text-sm font-mono font-semibold text-blue-900",children:M})]}),(0,qa.jsxs)("div",{className:"flex gap-3",children:[(0,qa.jsx)("button",{onClick:()=>{z(!1),t("/mybookings")},className:"flex-1 bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-3 px-6 rounded-lg hover:opacity-90 transition shadow-md",children:"View My Bookings"}),(0,qa.jsx)("button",{onClick:()=>{z(!1),t("/rental")},className:"flex-1 bg-white border-2 border-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-lg hover:bg-gray-50 transition",children:"Back to Home"})]})]})})}),(D||ee)&&(0,qa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,qa.jsxs)("div",{className:"bg-white rounded-lg p-8 shadow-2xl",children:[(0,qa.jsx)(zs,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),(0,qa.jsx)("p",{className:"text-gray-700 font-semibold",children:D?"Processing your booking...":"Deleting review..."})]})})]})},Tc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAABKCAYAAAAc0MJxAAAGbElEQVR4Aezaj5UbNRAG8IUGgAoIHUAFhAoSKoBUAFQAVABUQKggUAFQAVABUAFQAcxvn5Wn1Um21l47e5zu7Vj/Z775NNLK8r0+jb8uBgZRXTRN0yBqENXJQGe3EVGDqE4GOruNiBpEdTLQ2e3WEfVm4HoU8m7I44N8HGlNUnuZGksHXTH0Ns81ieLgp+HGtyG/hPx1kN8jVf4xUqK9JtpqYiwd9P0bOuT1exH5L0KehmxO4tZEIYfTnAD+qwAtWkTB5uBDt0d0sYugz6MCYewj1ERpj+rLnq2IQgRiCGKuRcoab2EyUSLO5F1E2BZEfRToEWRWI7vLx+TBKOrOAngpUQw/D8vHIujvaP855LuDfBlpKd9EXWrvSelL8meM7XgmEWVZnjWhlxIltKfKH3KQ8U60vRUCnFklNtxS7CXaeoW+JAh4LWy8F/JhCKIjaT6W4bGJrQ68hChOAVkq/jUqgEbGH5G/1cPu92EMLhOkHMU7D8z63Gk4VnEJUd4wpW7EfBCV0khe2cO+yWpF15O1yM4lStibmdIekiy7sv5VlS3pWmTBT7pxnUtULXTtSWay2/gNOpo0+1bNVG1F1PrNdecQJZIcCWYFhw8EefsdirtKYDOJJSgR1b2pn0OUTbo0ahMFqKzfS/nrACK6Ilk8luaiolU4h6j3K8qcgyrVu6lCUg3jJ4GwK6rWEmVvsvRC/8vnh8jtOZoC3vyIqjmTfSDJoTmrqmfXEmUGSk173ZtKnKLKpJb15X5bts/lNUTZ/HzRnAcePkSS/elQ3H1Siyp+kaPg1xBl2ZXKfiorblTmGKd9d/Nll/hqAmO5NeSQ4K2dq2orJR/X/bse47UQbZ18F0Y2LCDCXRNiOGd/QRrRhiz3UMfOSLXlR4/9qgm1N6KAKpVYdmaorL9GmRMvQjEi5CPbfLQ7wriHMsFlR5FY1ikfPSqURLkNSNerQGGakpTKJ7kVSeyJoBKDzdlVi6gWJSZO3yRIMk6a6qTG1bALBiSLTmQiGhc4WSw9QBKrlAtle4BQV2YkFwDz8rXygOYvEY46absh4BScsCs/CxA5YXDzIaoXj/GLiiggybJFLtKMjeoJJ4/ziGJsqvxRUKmeckDTlf6ABTSpZ9OtgKWFsFSfUkcV7fmGjeRch770SEthr6xTfpoTVTtx69QSoSnapGaBWK6cIGmmzTqwQLRIb9mgJ29zO1E6SSfdbLBlwstot7mLFlgT5lzvqfyTRBQjjJ0aULYnkAAS5ABFkCbsEZiDtO4TWPXakxiTS35vJIK0cZbQUdOlj+WaY4Uz+Sift/XkHyWiONkzYKs+wJoY4NlOguhc9Es25fUzjiintquniSiAr27sPhtIRNVel/fZr82xJ6K8LbxanUs2N3LPFeLkWSKKL8iyB/h5aUTYNPmyjwucPM+Jmg5/3i42y0PxwSb2bVzMBNSI8jYpiXJ2+SxGOP060Lmwd1ZRH9X36vHLsttOW03yR770BQdkdq5GFCbnxsMHVh30fP+hzKlXWHqNM0SQaC0fhuwugQ1GWDnvpG6rSf7I85GvOXh953KNqLkh+/gt8hRGUn20IdFaBsTsAFbpfNMqGJCT9hkYYW2B0PZPq7GHqNbYWj1jZgdpZqjW5xZ1tgcYkFNGyVn2tyYqB+HNaR/L626RN1G2h01tXZMoQIGW3lKuMjk9RL1xgZebhP0F9jcb2kOUnZ+sNeqY4Zv82nGX9ndzcA5eY95uGe8hisOuQdwNEccC4t7HhplEWb1Xr+sVVyHlUaOFY8t6NtmGIeFNGFMKZxJ9CB+bOHqIMhjb7piIKCGAUJ5EWb0ZRRqCjX1VAkPCmzCmFM4k+hA+NrH2EtVU8FAaBlGdMz2IGkR1MtDZbUTUIKqTgc5uqyOqU+//rtsgqnNKa0Rt/s27E8seu7k2mnHViPJF1lXv3GHlh5tPF3d7EphWujF3x8FRovRClnStuA11tbIngWmtH/ovOKhFlE5DCgYGUQUhreIgqsVMUd8i6uUmVvQ/VdzjG/NcTAsOjhFV+/e9Y0QBdO4b5pjeS9tggm2NHr53EUWpWz+vSINOid/P/ERk3B4FNkeWU35o9zMb3xd+tCIqdTIbBp0Sv5+lMXtNHVlO+aHdz2x3fDhF1J0BD7ViENWe+UXLIGpBR7swiGpzs2gZRC3oaBcGUW1uFi2DqAUd7cJ/AAAA///ljMMeAAAABklEQVQDAP36b6RJ40OLAAAAAElFTkSuQmCC",Ic=n.p+"static/media/DriverLogo.b2be73915be78b92650b.png",Rc=Ga("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Pc=Ga("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Mc=e=>{const t=e.vehicleName||e.VehicleName||e.vehicle_name||e.carName||e.CarName||e.bikeName||e.BikeName||e.name||e.model||e.Model||(e.vehicleId?"Vehicle ".concat(e.vehicleId):"Vehicle");return console.log("\ud83d\ude97 Vehicle name for notification:",e.id,"\u2192",t),t},Lc=()=>{const e=ye(),t=localStorage.getItem("userId")||"",{notifications:n,unreadCount:i,isLoading:a,error:o,markAsRead:s,markAllAsRead:l,deleteNotification:u,clearAllNotifications:d,fetchNotifications:h,confirmBooking:p,rejectBooking:m,resetUnreadCount:f,markFeedbackGiven:g}=Ba(),[y,v]=(0,r.useState)(!1),[x,b]=(0,r.useState)({});(0,r.useEffect)(()=>{t&&(console.log("\ud83d\udd14 Notification page opened - resetting unread count"),f())},[]),(0,r.useEffect)(()=>{const e=setInterval(()=>{n.forEach(e=>{if(C(e)){e.expiresAt-Date.now()<=0&&_(e.id,e.bookingId)}})},500);return()=>clearInterval(e)},[n]),(0,r.useEffect)(()=>{t&&(console.log("\ud83d\udd14 Fetching notifications for user:",t),h(t))},[t,h]);const w=async()=>{t&&!y&&(v(!0),await h(t),v(!1))},k=e=>{const t="string"===typeof e?new Date(e):e,n=(new Date).getTime()-t.getTime(),r=Math.floor(n/6e4),i=Math.floor(r/60),a=Math.floor(i/24);return r<1?"Just now":r<60?"".concat(r," min ago"):i<24?"".concat(i," hour").concat(i>1?"s":""," ago"):"".concat(a," day").concat(a>1?"s":""," ago")},S=e=>{const t=e-Date.now();if(t<=0)return"00:00";const n=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3);return"".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))},N=e=>{let{expiresAt:t}=e;const[n,i]=(0,r.useState)(S(t));(0,r.useEffect)(()=>{const e=setInterval(()=>{i(S(t))},1e3);return()=>clearInterval(e)},[t]);const a=t-Date.now()<3e4;return(0,qa.jsx)("span",{className:"font-mono font-bold ".concat(a?"text-red-600 animate-pulse":"text-white"),children:n})},_=async(e,n)=>{console.log("\u23f0 Notification expired:",e);try{await m(e,n),await h(t)}catch(o){console.error("Error expiring notification:",o)}},C=e=>"booking_request"===e.type&&"Pending"===e.bookingStatus&&e.expiresAt&&e.expiresAt>Date.now();return(0,qa.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 pb-20",children:[(0,qa.jsx)("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-md shadow-sm border-b border-gray-200",children:(0,qa.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsx)(Rc,{className:"w-7 h-7 text-blue-600"}),i>0&&(0,qa.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-lg animate-pulse",children:i>9?"9+":i})]}),(0,qa.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Notifications"})]}),(0,qa.jsx)("button",{onClick:w,disabled:y,className:"p-2 rounded-full bg-blue-50 hover:bg-blue-100 transition disabled:opacity-50",title:"Refresh",children:(0,qa.jsx)(Hs,{className:"w-5 h-5 text-blue-600 ".concat(y?"animate-spin":"")})})]}),n.length>0&&(0,qa.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[i>0&&(0,qa.jsxs)("button",{onClick:()=>l(t),className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-blue-600 hover:text-blue-700 font-medium",children:[(0,qa.jsx)(Pc,{className:"w-4 h-4"}),(0,qa.jsx)("span",{className:"hidden sm:inline",children:"Mark all read"}),(0,qa.jsx)("span",{className:"sm:hidden",children:"Read all"})]}),(0,qa.jsxs)("button",{onClick:()=>d(t),className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-red-600 hover:text-red-700 font-medium",children:[(0,qa.jsx)(ms,{className:"w-4 h-4"}),(0,qa.jsx)("span",{className:"hidden sm:inline",children:"Clear all"}),(0,qa.jsx)("span",{className:"sm:hidden",children:"Clear"})]})]})]})}),(0,qa.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,qa.jsx)("p",{className:"text-gray-600 mb-6 text-center",children:"Stay updated with your ride completions and booking updates"}),o&&(0,qa.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:o}),(0,qa.jsx)("div",{className:"space-y-4",children:a&&0===n.length?(0,qa.jsxs)("div",{className:"text-center py-12",children:[(0,qa.jsx)(zs,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),(0,qa.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading notifications..."}),(0,qa.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Please wait while we fetch your notifications"})]}):0===n.length?(0,qa.jsxs)("div",{className:"text-center py-12",children:[(0,qa.jsx)(Rc,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,qa.jsx)("p",{className:"text-gray-600 font-medium text-lg mb-2",children:"No notifications yet"}),(0,qa.jsx)("p",{className:"text-gray-400 mb-6",children:"You'll see ride completions and booking updates here"}),(0,qa.jsxs)("button",{onClick:w,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[(0,qa.jsx)(Hs,{className:"w-4 h-4"}),"Refresh"]})]}):n.map(n=>{const r=C(n),i=(e=>{if("booking_confirmed"===e.type)return{color:"bg-green-100 text-green-800 border-green-200",text:"Confirmed",icon:Cs};if("booking_declined"===e.type)return{color:"bg-red-100 text-red-800 border-red-200",text:"Cancelled",icon:As};if("booking_timeout"===e.type)return{color:"bg-orange-100 text-orange-800 border-orange-200",text:"Expired",icon:Us};if("ride_completed"===e.type)return{color:"bg-blue-100 text-blue-800 border-blue-200",text:"Completed",icon:Cs};if(e.bookingStatus)switch(e.bookingStatus){case"Pending":return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",text:"Pending",icon:Us};case"Confirmed":return{color:"bg-green-100 text-green-800 border-green-200",text:"Confirmed",icon:Cs};case"Rejected":return{color:"bg-red-100 text-red-800 border-red-200",text:"Rejected",icon:As};case"Expired":return{color:"bg-orange-100 text-orange-800 border-orange-200",text:"Expired",icon:Us};case"Completed":return{color:"bg-blue-100 text-blue-800 border-blue-200",text:"Completed",icon:Cs}}return null})(n),a=null===i||void 0===i?void 0:i.icon,l=x[n.id],d=Mc(n);return r?(0,qa.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-300 rounded-2xl p-5 shadow-xl hover:shadow-2xl transition-all duration-300 relative overflow-hidden",children:[(0,qa.jsxs)("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-red-600 to-orange-600 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2 animate-pulse",children:[(0,qa.jsx)(Us,{className:"w-4 h-4"}),(0,qa.jsx)(N,{expiresAt:n.expiresAt})]}),(0,qa.jsxs)("div",{className:"mb-3",children:[(0,qa.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1 pr-32",children:n.title||"New Booking Request"}),(0,qa.jsx)("p",{className:"text-xs text-gray-500",children:k(n.timestamp)})]}),(0,qa.jsxs)("div",{className:"bg-white rounded-xl p-4 mb-4 shadow-md",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,qa.jsx)("img",{src:Tc,alt:"Car",className:"w-16 h-16 object-contain"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"Vehicle Name"}),(0,qa.jsx)("p",{className:"text-base font-bold text-gray-900",children:d})]})]}),(n.customerName||n.fromDate||n.totalPrice)&&(0,qa.jsxs)("div",{className:"space-y-2 pt-3 border-t border-gray-200",children:[n.customerName&&(0,qa.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"Customer:"}),(0,qa.jsx)("span",{className:"font-semibold text-gray-900",children:n.customerName})]}),n.contactNumber&&(0,qa.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,qa.jsx)("span",{className:"font-semibold text-blue-600",children:n.contactNumber})]}),n.fromDate&&(0,qa.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"From:"}),(0,qa.jsx)("span",{className:"font-semibold text-gray-900",children:n.fromDate})]}),n.toDate&&(0,qa.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"To:"}),(0,qa.jsx)("span",{className:"font-semibold text-gray-900",children:n.toDate})]}),n.totalPrice&&(0,qa.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"Total:"}),(0,qa.jsxs)("span",{className:"font-bold text-green-600 text-base",children:["\u20b9",n.totalPrice]})]})]})]}),(0,qa.jsxs)("div",{className:"flex gap-3",children:[(0,qa.jsx)("button",{onClick:()=>(async e=>{b(t=>c(c({},t),{},{[e.id]:"confirm"}));try{await p(e.id,e.bookingId),s(e.id),await h(t)}catch(o){console.error("Error confirming booking:",o),alert("Failed to confirm booking")}finally{b(t=>c(c({},t),{},{[e.id]:null}))}})(n),disabled:null!==l,className:"flex-1 py-3.5 rounded-xl font-semibold text-lg text-white bg-gradient-to-r from-blue-700 via-blue-600 to-blue-400 hover:from-blue-800 hover:via-blue-700 hover:to-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg flex items-center justify-center gap-2",children:"confirm"===l?(0,qa.jsx)(zs,{className:"w-5 h-5 animate-spin"}):(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(Pc,{className:"w-5 h-5"}),"Yes"]})}),(0,qa.jsx)("button",{onClick:()=>(async e=>{b(t=>c(c({},t),{},{[e.id]:"reject"}));try{await m(e.id,e.bookingId),await h(t)}catch(o){console.error("Error rejecting booking:",o),alert("Failed to reject booking")}finally{b(t=>c(c({},t),{},{[e.id]:null}))}})(n),disabled:null!==l,className:"flex-1 py-3.5 rounded-xl font-semibold text-lg text-red-600 bg-white border-2 border-red-600 hover:bg-red-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:"reject"===l?(0,qa.jsx)(zs,{className:"w-5 h-5 animate-spin"}):(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(Wa,{className:"w-5 h-5"}),"No"]})})]})]},n.id):(0,qa.jsxs)("div",{className:"bg-white rounded-2xl p-5 shadow-md hover:shadow-xl transition-all duration-300 border ".concat(n.read?"border-gray-200":"border-blue-300 bg-blue-50/30"),children:[(0,qa.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("h3",{className:"text-base font-bold text-gray-900 mb-1",children:n.title}),i&&(0,qa.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-semibold border ".concat(i.color),children:[a&&(0,qa.jsx)(a,{className:"w-3.5 h-3.5"}),i.text]})]}),(0,qa.jsx)("p",{className:"text-xs text-gray-500 whitespace-nowrap ml-2",children:k(n.timestamp)})]}),(0,qa.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl p-4 mb-4",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,qa.jsx)("img",{src:Tc,alt:"Car",className:"w-14 h-14 object-contain"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"Vehicle"}),(0,qa.jsx)("p",{className:"text-sm font-bold text-gray-900",children:d})]})]}),(0,qa.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,qa.jsxs)("div",{className:"bg-white rounded-lg p-2 shadow-sm",children:[(0,qa.jsx)("img",{src:gs,alt:"Transmission",className:"w-6 h-6 mx-auto mb-1"}),(0,qa.jsx)("p",{className:"text-xs text-gray-600",children:localStorage.getItem("transmission")||"Automatic"})]}),(0,qa.jsxs)("div",{className:"bg-white rounded-lg p-2 shadow-sm",children:[(0,qa.jsx)("img",{src:Ic,alt:"Seaters",className:"w-6 h-6 mx-auto mb-1"}),(0,qa.jsx)("p",{className:"text-xs text-gray-600",children:localStorage.getItem("seaters")||"5 Seaters"})]}),(0,qa.jsxs)("div",{className:"bg-white rounded-lg p-2 shadow-sm",children:[(0,qa.jsx)("img",{src:No,alt:"Fuel",className:"w-6 h-6 mx-auto mb-1"}),(0,qa.jsx)("p",{className:"text-xs text-gray-600",children:localStorage.getItem("fuelType")||"Petrol"})]})]})]}),n.feedbackGiven?(0,qa.jsxs)("div",{className:"mb-3 px-4 py-3 bg-green-50 border border-green-200 rounded-xl flex items-center gap-2",children:[(0,qa.jsx)(Cs,{className:"w-5 h-5 text-green-600"}),(0,qa.jsx)("span",{className:"text-sm font-semibold text-green-700",children:"Feedback Submitted \u2713"})]}):(0,qa.jsxs)("button",{onClick:()=>(t=>{s(t.id);const n=Mc(t),r=t.bookingId||t.id||"temp-"+Date.now(),i=t.vehicleId||t.VechileId||t.VehicleId;console.log("\ud83c\udfaf Navigating to feedback with:",{vehicleId:i,vehicleName:n,bookingId:r}),e("/feedback?vehicleId=".concat(i,"&vehicleName=").concat(encodeURIComponent(n),"&bookingId=").concat(r))})(n),className:"w-full mb-3 px-6 py-3.5 bg-gradient-to-r from-amber-500 via-orange-500 to-amber-600 text-white font-bold rounded-xl shadow-lg hover:shadow-2xl hover:scale-[1.02] transition-all duration-200 flex items-center justify-center gap-3 group",children:[(0,qa.jsx)(us,{className:"w-5 h-5 fill-white group-hover:rotate-12 transition-transform"}),(0,qa.jsx)("span",{className:"text-base",children:"Give Feedback & Review"}),(0,qa.jsx)(us,{className:"w-5 h-5 fill-white group-hover:-rotate-12 transition-transform"})]}),(n.customerName||n.fromDate||n.totalPrice)&&(0,qa.jsxs)("div",{className:"bg-gray-50 rounded-xl p-3 mb-3 space-y-1.5",children:[n.customerName&&(0,qa.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"Customer:"}),(0,qa.jsx)("span",{className:"font-semibold text-gray-900",children:n.customerName})]}),n.fromDate&&(0,qa.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"From:"}),(0,qa.jsx)("span",{className:"font-semibold text-gray-900",children:n.fromDate})]}),n.toDate&&(0,qa.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"To:"}),(0,qa.jsx)("span",{className:"font-semibold text-gray-900",children:n.toDate})]}),n.totalPrice&&(0,qa.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,qa.jsx)("span",{className:"text-gray-600",children:"Total:"}),(0,qa.jsxs)("span",{className:"font-bold text-green-600",children:["\u20b9",n.totalPrice]})]})]}),n.message&&(0,qa.jsx)("div",{className:"mb-3",children:(0,qa.jsx)("p",{className:"text-sm text-gray-700",children:n.message})}),(0,qa.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-3 border-t border-gray-100",children:[!n.read&&(0,qa.jsx)("button",{onClick:()=>s(n.id),className:"text-blue-600 hover:text-blue-700 p-1.5 rounded-md hover:bg-blue-50 transition",title:"Mark as read",children:(0,qa.jsx)(Pc,{className:"w-4 h-4"})}),(0,qa.jsx)("button",{onClick:()=>u(n.id),className:"text-gray-400 hover:text-red-600 p-1.5 rounded-md hover:bg-red-50 transition",title:"Delete notification",children:(0,qa.jsx)(ms,{className:"w-4 h-4"})})]})]},n.id)})})]})]})},Dc=Ga("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Bc=Ga("languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]),Oc=Ga("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Fc=Ga("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Vc=Ga("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),zc=Ga("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),Uc=Ga("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Hc=Ga("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),Gc=Ga("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Kc=e=>{let{icon:t,label:n,onClick:r,showDivider:i=!1}=e;return(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("button",{onClick:r,className:"w-full flex items-center justify-between px-4 py-3 hover:bg-gray-50 rounded-lg transition",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,qa.jsx)("div",{className:"bg-gradient-to-r from-blue-900 to-blue-400 p-2 rounded-lg text-white",children:(0,qa.jsx)(t,{className:"w-5 h-5"})}),(0,qa.jsx)("span",{className:"text-gray-800 font-medium text-sm",children:n})]}),(0,qa.jsx)("span",{className:"text-gray-400",children:">"})]}),i&&(0,qa.jsx)("hr",{className:"border-t border-gray-200 mt-1"})]})},Wc=Ga("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Zc=e=>{let{onClose:t}=e;const[n,i]=(0,r.useState)({name:"",phone:"",email:"",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&w=200&q=80",googleId:"",userId:"",latitude:"",longitude:"",fcmToken:""}),[a,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)("idle"),[u,d]=(0,r.useState)("");(0,r.useEffect)(()=>{h(),p()},[]);const h=()=>{try{console.log("\ud83d\udd0d Loading profile from localStorage...");const e=localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);return console.log("\u2705 Found saved profile:",t),void i(e=>c(c({},e),t))}const t=localStorage.getItem("userName")||localStorage.getItem("contactName")||"",n=localStorage.getItem("contactNumber")||localStorage.getItem("mobilenumber")||localStorage.getItem("phoneNumber")||"",r=localStorage.getItem("userEmail")||"",a=localStorage.getItem("userId")||localStorage.getItem("_id")||"",o=localStorage.getItem("googleId")||"",s=localStorage.getItem("userProfileImage")||localStorage.getItem("profilePic")||"";console.log("\ud83d\udccb Loaded from individual items:",{name:t,phone:n,email:r,userId:a,googleId:o}),i(e=>c(c({},e),{},{name:t,phone:n,email:r,googleId:o,userId:a,image:s||e.image}))}catch(e){console.error("\u274c Error loading profile:",e)}},p=()=>{const e=localStorage.getItem("latitude"),t=localStorage.getItem("longitude");e&&t?i(n=>c(c({},n),{},{latitude:e,longitude:t})):navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude.toString(),n=e.coords.longitude.toString();i(e=>c(c({},e),{},{latitude:t,longitude:n})),localStorage.setItem("latitude",t),localStorage.setItem("longitude",n)},()=>{i(e=>c(c({},e),{},{latitude:"17.512343",longitude:"78.500667"}))})},m=e=>{const{name:t,value:n}=e.target;i(e=>c(c({},e),{},{[t]:n})),l("idle"),d("")};return(0,qa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,qa.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-[600px] max-h-[90vh] overflow-y-auto p-6 relative",children:[(0,qa.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 transition-colors p-1 rounded-full hover:bg-gray-100 z-10","aria-label":"Close",children:(0,qa.jsx)(Wa,{size:22})}),(0,qa.jsx)("div",{className:"text-center mb-6",children:(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Profile"})}),(0,qa.jsx)("div",{className:"flex flex-col items-center mb-6",children:(0,qa.jsxs)("div",{className:"relative group",children:[(0,qa.jsx)("img",{src:n.image,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-indigo-200 shadow-lg transition-transform group-hover:scale-105"}),(0,qa.jsxs)("label",{htmlFor:"profilePic",className:"absolute bottom-0 right-0 bg-gradient-to-r from-indigo-600 to-blue-500 rounded-full p-2.5 shadow-lg cursor-pointer hover:shadow-xl transition-all transform hover:scale-110",children:[(0,qa.jsx)("input",{id:"profilePic",type:"file",accept:"image/*",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){if(n.size>5242880)return d("Image size should be less than 5MB"),void l("error");if(!n.type.startsWith("image/"))return d("Please upload a valid image file"),void l("error");const e=URL.createObjectURL(n);i(t=>c(c({},t),{},{image:e})),localStorage.setItem("userProfileImage",e)}},className:"hidden",disabled:a}),(0,qa.jsxs)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})]})]})}),(0,qa.jsxs)("div",{className:"space-y-4",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"text-sm font-semibold text-gray-700 mb-1.5 block",children:"Full Name"}),(0,qa.jsx)("input",{type:"text",name:"name",value:n.name,onChange:m,placeholder:"Enter your full name",disabled:a,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all disabled:bg-gray-50 disabled:cursor-not-allowed"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"text-sm font-semibold text-gray-700 mb-1.5 block",children:"Phone Number"}),(0,qa.jsx)("input",{type:"tel",name:"phone",value:n.phone,onChange:m,placeholder:"+91 1234567890",disabled:a,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all disabled:bg-gray-50 disabled:cursor-not-allowed"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"text-sm font-semibold text-gray-700 mb-1.5 block",children:"Email Address"}),(0,qa.jsx)("input",{type:"email",name:"email",value:n.email,onChange:m,placeholder:"your.email@example.com",disabled:a,className:"w-full border-2 border-gray-300 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all disabled:bg-gray-50 disabled:cursor-not-allowed"})]}),u&&"error"===s&&(0,qa.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-red-50 border-2 border-red-200 rounded-lg",children:[(0,qa.jsx)(Wc,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("p",{className:"text-sm font-bold text-red-900 mb-1",children:"Error"}),(0,qa.jsx)("p",{className:"text-xs text-red-700 whitespace-pre-wrap",children:u})]})]}),"success"===s&&(0,qa.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:[(0,qa.jsx)(Cs,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-sm font-bold text-green-900 mb-1",children:"Success!"}),(0,qa.jsx)("p",{className:"text-xs text-green-700",children:"Profile updated successfully! Closing..."})]})]}),(0,qa.jsx)("button",{onClick:async()=>{if(n.name.trim()?n.phone.trim()?/^[+]?[\d\s-()]{10,}$/.test(n.phone)?n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(d("\u274c Invalid email format"),l("error"),0):(d("\u274c Email is required"),l("error"),0):(d("\u274c Invalid phone number (min 10 digits)"),l("error"),0):(d("\u274c Phone number is required"),l("error"),0):(d("\u274c Name is required"),l("error"),0)){o(!0),l("idle"),d("");try{const e=(()=>{let e=n.googleId||localStorage.getItem("googleId");return e||(e="google_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,15)),localStorage.setItem("googleId",e)),e})(),r=n.userId||localStorage.getItem("userId")||localStorage.getItem("_id");if(!r)throw new Error("User ID not found. Please log in again.");const a={googleId:e,name:n.name.trim(),mobilenumber:n.phone.trim(),email:n.email.trim(),profilePic:n.image,latitude:n.latitude||"17.512343",longitude:n.longitude||"78.500667",platform:"web"};console.log("\ud83d\udce1 Sending UPDATE request with userId:",r),console.log("\ud83d\udce6 Payload:",a);const s=await La.user.updateUserProfile(r,a);console.log("\u2705 Update API Response:",s);const u={name:a.name,phone:a.mobilenumber,email:a.email,profilePic:a.profilePic,googleId:e,userId:r,latitude:a.latitude,longitude:a.longitude};localStorage.setItem("userProfile",JSON.stringify(u)),localStorage.setItem("userName",a.name),localStorage.setItem("contactName",a.name),localStorage.setItem("userEmail",a.email),localStorage.setItem("contactNumber",a.mobilenumber),localStorage.setItem("mobilenumber",a.mobilenumber),localStorage.setItem("phoneNumber",a.mobilenumber),localStorage.setItem("phone",a.mobilenumber),localStorage.setItem("userId",r),localStorage.setItem("_id",r),localStorage.setItem("googleId",e),localStorage.setItem("latitude",a.latitude),localStorage.setItem("longitude",a.longitude),a.profilePic&&(localStorage.setItem("userProfileImage",a.profilePic),localStorage.setItem("profilePic",a.profilePic)),console.log("\ud83d\udcbe All data saved to localStorage:",{name:a.name,phone:a.mobilenumber,email:a.email,userId:r,googleId:e}),i(e=>c(c({},e),{},{name:a.name,phone:a.mobilenumber,email:a.email,userId:r})),l("success"),o(!1),setTimeout(()=>t(),1500)}catch(kN){console.error("\u274c UPDATE API FAILED:",kN),d(kN.message||"Update failed. Please try again."),l("error"),o(!1)}}},disabled:a,className:"w-full mt-6 py-3.5 text-white font-bold rounded-lg bg-gradient-to-r from-indigo-600 to-blue-500 hover:from-indigo-700 hover:to-blue-600 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Saving...":"Save & Update"})]})]})})},qc=Tt()(bo(e=>({currentLanguage:"en",setLanguage:t=>e({currentLanguage:t})}),{name:"language-storage"})),Yc=()=>{const e=ye(),{currentLanguage:t,setLanguage:n}=qc(),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),u=(0,r.useRef)(null),d=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(a(!1),s(!1),c(!1))};return(i||o||l)&&document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i,o,l]),(0,r.useEffect)(()=>{!i&&d.current&&d.current.focus()},[i]);return(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsxs)("div",{className:"max-w-md mx-auto bg-white shadow-md rounded-xl mt-6 overflow-hidden",children:[(0,qa.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile"})}),(0,qa.jsxs)("div",{className:"divide-y divide-gray-100",children:[(0,qa.jsx)(Kc,{icon:Dc,label:"My Profile",onClick:e=>{(e=>{e&&(d.current=e),a(!0)})(null===e||void 0===e?void 0:e.currentTarget)}}),(0,qa.jsx)(Kc,{icon:Bc,label:"Change Language",onClick:()=>s(!0)}),(0,qa.jsx)(Kc,{icon:Oc,label:"Download Our App",onClick:()=>{const e=navigator.userAgent||navigator.vendor;/iPad|iPhone|iPod/.test(e)?window.open("https://apps.apple.com/app/rentongo","_blank"):/android/i.test(e)?window.open("https://play.google.com/store/apps/details?id=com.rentongo","_blank"):alert("\ud83d\udcf1 Download our mobile app from:\n\n\ud83c\udf4e App Store (iOS)\n\ud83e\udd16 Google Play Store (Android)\n\nComing soon!")}}),(0,qa.jsx)("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 bg-gray-50",children:"Support & Settings"}),(0,qa.jsx)(Kc,{icon:Fc,label:"Privacy Policy",onClick:()=>e("/privacy-policy")}),(0,qa.jsx)(Kc,{icon:Vc,label:"About Us",onClick:()=>e("/about-us")}),(0,qa.jsx)(Kc,{icon:zc,label:"Support",onClick:()=>e("/Support-Ticket")}),(0,qa.jsx)(Kc,{icon:Uc,label:"Help",onClick:()=>e("/help")}),(0,qa.jsx)(Kc,{icon:Hc,label:"LogOut",onClick:()=>c(!0)})]})]}),i&&(0,qa.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"profile-modal-title",className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[(0,qa.jsx)("div",{className:"fixed inset-0 bg-black/40",onClick:()=>a(!1),"aria-hidden":"true"}),(0,qa.jsx)("div",{ref:u,className:"relative z-10 max-w-md w-full mx-auto",onClick:e=>e.stopPropagation(),children:(0,qa.jsx)(Zc,{onClose:()=>a(!1)})})]}),o&&(0,qa.jsxs)("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[(0,qa.jsx)("div",{className:"fixed inset-0 bg-black/40",onClick:()=>s(!1),"aria-hidden":"true"}),(0,qa.jsxs)("div",{className:"relative z-10 w-full max-w-sm bg-white rounded-2xl shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)(Gc,{className:"w-6 h-6 text-blue-600"}),(0,qa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Change Language"})]}),(0,qa.jsx)("button",{onClick:()=>s(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition",children:(0,qa.jsx)(Wa,{className:"w-5 h-5"})})]}),(0,qa.jsx)("div",{className:"p-4 space-y-2",children:[{code:"en",name:"English"},{code:"es",name:"Espa\xf1ol"},{code:"fr",name:"Fran\xe7ais"},{code:"de",name:"Deutsch"},{code:"hi",name:"\u0939\u093f\u0902\u0926\u0940"},{code:"tel",name:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41"},{code:"tm",name:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd"},{code:"kn",name:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1"}].map(e=>(0,qa.jsx)("button",{onClick:()=>(e=>{n(e),s(!1)})(e.code),className:"w-full text-left px-4 py-3 rounded-lg transition ".concat(t===e.code?"bg-blue-50 border-2 border-blue-500 text-blue-700 font-semibold":"bg-gray-50 border-2 border-transparent hover:bg-gray-100 text-gray-700"),children:(0,qa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qa.jsx)("span",{children:e.name}),t===e.code&&(0,qa.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qa.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},e.code))})]})]}),l&&(0,qa.jsxs)("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[(0,qa.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>c(!1),"aria-hidden":"true"}),(0,qa.jsx)("div",{className:"relative z-10 w-full max-w-sm bg-white rounded-2xl shadow-xl",onClick:e=>e.stopPropagation(),children:(0,qa.jsxs)("div",{className:"p-6",children:[(0,qa.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Logout"}),(0,qa.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to logout?"}),(0,qa.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,qa.jsx)("button",{onClick:()=>c(!1),className:"px-6 py-2.5 rounded-lg font-medium text-gray-700 hover:bg-gray-100 transition",children:"CANCEL"}),(0,qa.jsx)("button",{onClick:()=>{c(!1),e("/")},className:"px-6 py-2.5 rounded-lg font-medium bg-red-600 text-white hover:bg-red-700 transition",children:"LOGOUT"})]})]})})]})]})},Xc=Ga("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Jc=Ga("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Qc=Ga("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),$c=Ga("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),eu=()=>{const e=ye(),[t,n]=(0,r.useState)({name:"",email:"",phone:"",image:"",latitude:"",longitude:"",googleId:""}),[i,a]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o()},[]);const o=()=>{try{const e=localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);n({name:t.name||"",email:t.email||"",phone:t.phone||"",image:t.image||"",latitude:t.latitude||"",longitude:t.longitude||"",googleId:t.googleId||""})}else n({name:localStorage.getItem("userName")||localStorage.getItem("contactName")||"",email:localStorage.getItem("userEmail")||"",phone:localStorage.getItem("contactNumber")||"",image:localStorage.getItem("userProfileImage")||"",latitude:localStorage.getItem("latitude")||"",longitude:localStorage.getItem("longitude")||"",googleId:localStorage.getItem("googleId")||""})}catch(e){console.error("Error loading profile:",e)}},s=e=>{const{name:t,value:r}=e.target;n(e=>c(c({},e),{},{[t]:r}))};return(0,qa.jsx)("div",{className:"min-h-screen overflow-auto flex justify-center items-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 py-8",children:(0,qa.jsxs)("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-xl border border-gray-200 p-6 relative",children:[(0,qa.jsx)("button",{onClick:()=>e("/profile"),className:"absolute left-4 top-4 text-gray-500 hover:text-blue-600 transition-colors p-2 rounded-full hover:bg-gray-100",children:(0,qa.jsx)(Xc,{size:22})}),(0,qa.jsxs)("div",{className:"flex flex-col items-center mb-6 relative",children:[(0,qa.jsxs)("div",{className:"relative",children:[t.image?(0,qa.jsx)("img",{src:t.image,alt:"Profile",className:"w-28 h-28 rounded-full object-cover border-4 border-indigo-200 shadow-lg"}):(0,qa.jsx)("div",{className:"w-28 h-28 rounded-full bg-gradient-to-br from-indigo-400 to-blue-500 flex items-center justify-center border-4 border-indigo-200 shadow-lg",children:(0,qa.jsx)(Dc,{size:48,className:"text-white"})}),(0,qa.jsxs)("label",{className:"absolute bottom-0 right-0 bg-gradient-to-r from-indigo-600 to-blue-500 rounded-full p-2.5 shadow-lg cursor-pointer hover:shadow-xl transition-all transform hover:scale-110",children:[(0,qa.jsx)(Jc,{size:16,className:"text-white"}),(0,qa.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){if(r.size>5242880)return void alert("Image size should be less than 5MB");const e=new FileReader;e.onload=()=>{const t=e.result;n(e=>c(c({},e),{},{image:t})),localStorage.setItem("userProfileImage",t);const r=localStorage.getItem("userProfile");if(r){const e=JSON.parse(r);e.image=t,localStorage.setItem("userProfile",JSON.stringify(e))}},e.readAsDataURL(r)}},className:"hidden"})]})]}),(0,qa.jsx)("h3",{className:"mt-3 text-2xl font-bold text-gray-800",children:"My Profile"}),(0,qa.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your personal information"})]}),i?(0,qa.jsxs)("form",{className:"space-y-4",onSubmit:async e=>{if(e.preventDefault(),t.name.trim())if(t.email.trim())if(t.phone.trim())try{const e={name:t.name.trim(),email:t.email.trim(),phone:t.phone.trim(),image:t.image,latitude:t.latitude,longitude:t.longitude,googleId:t.googleId};localStorage.setItem("userProfile",JSON.stringify(e)),localStorage.setItem("userName",t.name.trim()),localStorage.setItem("userEmail",t.email.trim()),localStorage.setItem("contactNumber",t.phone.trim()),localStorage.setItem("contactName",t.name.trim()),alert("Profile updated successfully!"),a(!1)}catch(n){console.error("Error saving profile:",n),alert("Failed to save profile. Please try again.")}else alert("Phone is required");else alert("Email is required");else alert("Name is required")},children:[(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("label",{className:"text-sm font-semibold text-gray-700 mb-1.5 block",children:["Name ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("input",{type:"text",name:"name",value:t.name,onChange:s,placeholder:"Enter your name",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("label",{className:"text-sm font-semibold text-gray-700 mb-1.5 block",children:["Email ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("input",{type:"email",name:"email",value:t.email,onChange:s,placeholder:"Enter your email",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("label",{className:"text-sm font-semibold text-gray-700 mb-1.5 block",children:["Phone ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("input",{type:"tel",name:"phone",value:t.phone,onChange:s,placeholder:"Enter your phone number",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"})]}),(0,qa.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,qa.jsx)("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-indigo-600 to-blue-500 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-blue-600 transition-all shadow-md hover:shadow-lg",children:"Save Changes"}),(0,qa.jsx)("button",{type:"button",onClick:()=>{a(!1),o()},className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-all",children:"Cancel"})]})]}):(0,qa.jsxs)("div",{className:"space-y-4",children:[(0,qa.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,qa.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,qa.jsx)(Dc,{className:"w-5 h-5 text-indigo-600 mt-0.5"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"Name"}),(0,qa.jsx)("p",{className:"text-base text-gray-900 font-semibold",children:t.name||"Not set"})]})]}),(0,qa.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,qa.jsx)(Qc,{className:"w-5 h-5 text-indigo-600 mt-0.5"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"Email"}),(0,qa.jsx)("p",{className:"text-base text-gray-900",children:t.email||"Not set"})]})]}),(0,qa.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,qa.jsx)($c,{className:"w-5 h-5 text-indigo-600 mt-0.5"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"Phone"}),(0,qa.jsx)("p",{className:"text-base text-gray-900",children:t.phone||"Not set"})]})]}),(0,qa.jsxs)("div",{className:"flex items-start gap-3",children:[(0,qa.jsx)(Ka,{className:"w-5 h-5 text-indigo-600 mt-0.5"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"Location"}),(0,qa.jsx)("p",{className:"text-sm text-gray-700",children:t.latitude&&t.longitude?"".concat(parseFloat(t.latitude).toFixed(4),", ").concat(parseFloat(t.longitude).toFixed(4)):"Location not set"})]})]})]}),(0,qa.jsxs)("button",{onClick:()=>a(!0),className:"w-full bg-gradient-to-r from-indigo-600 to-blue-500 text-white py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-blue-600 transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[(0,qa.jsx)(Jc,{size:18}),"Edit Profile"]})]}),t.googleId&&(0,qa.jsx)("div",{className:"mt-5 pt-4 border-t border-gray-200 text-center",children:(0,qa.jsxs)("p",{className:"text-xs text-gray-500 font-mono",children:["User ID: ",(0,qa.jsxs)("span",{className:"text-indigo-600",children:[t.googleId.substring(0,20),"..."]})]})})]})})},tu=n.p+"static/media/Auto.5b3aec744ebed710213c.png",nu=()=>{const e=ye(),{bookings:t,setBookings:n,updateBookingStatus:i}=Xs(),[a,o]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[f,g]=(0,r.useState)([]),y=(0,r.useRef)(!1);(0,r.useEffect)(()=>(document.body.style.overflow=d?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[d]),(0,r.useEffect)(()=>{y.current||(y.current=!0,v())},[]);const v=async function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||l(!0),u(!0);try{const e=localStorage.getItem("userId")||" ";console.log("\ud83d\udd0d Fetching bookings for user:",e);const r=await La.booking.getAllBookings(e);console.log("\ud83d\udce6 Raw API Response:",r);let i=[];if(null!==r&&void 0!==r&&r.data?i=Array.isArray(r.data)?r.data:[]:Array.isArray(r)?i=r:null!==r&&void 0!==r&&r.bookings&&(i=Array.isArray(r.bookings)?r.bookings:[]),console.log("\ud83d\udce6 Extracted bookings data:",i),i&&i.length>0){g(i);const e=i.map(e=>{const n=e.booking,r=e.vehicle,i=(e=>{if(!e)return"Pending";switch(e.toLowerCase().trim()){case"pending":return"Pending";case"confirmed":return"Confirmed";case"cancelled":return"Cancelled";case"autocancelled":return"AutoCancelled";case"completed":return"Completed";default:return console.warn('\u26a0\ufe0f Unknown status received: "'.concat(e,'", defaulting to Pending')),"Pending"}})(n.status);console.log("\ud83d\udd04 Status mapping:",{bookingId:n._id,vehicleType:n.vechileType,originalStatus:n.status,mappedStatus:i,isCompleted:"Completed"===i});const a=t.find(e=>e.id===n._id);a&&((e,t)=>e!==t&&("Cancelled"===t||"AutoCancelled"===t||"Completed"===t))(a.status,i)&&(console.log("\ud83d\udd14 Showing popup for status change:",{oldStatus:a.status,newStatus:i,reason:n.rejectionReason}),m({bookingId:n._id,vehicleType:n.vechileType,fromDate:$s(n.FromDate),fromTime:el(n.FromTime),status:i,rejectionReason:n.rejectionReason}),h(!0));const o=(null===r||void 0===r?void 0:r.CarName)||(null===r||void 0===r?void 0:r.carName)||(null===r||void 0===r?void 0:r.bikeName)||"".concat(n.vechileType," Vehicle"),s=(null===r||void 0===r?void 0:r.carImages)&&r.carImages[0]||(null===r||void 0===r?void 0:r.bikeImages)&&r.bikeImages[0]||tu,l=(()=>{const e=Number(n.pricePerKm)||0,t=Number(n.pricePerHour)||0,i=Number(n.pricePerDay)||0,a=Number(n.totalPrice)||0,o=Number(n.totalHours)||1,s=Number(null===r||void 0===r?void 0:r.RentPerHour)||0,l=Number(null===r||void 0===r?void 0:r.RentPerDay)||0;return e>0?e:t>0?t:i>0?i:a>0&&o>0?a/o:s>0?s:l>0?l:0})(),c=Number(n.pricePerKm)>0?"/km":Number(n.pricePerHour)>0?"/hour":Number(n.pricePerDay)>0?"/day":Number(null===r||void 0===r?void 0:r.RentPerHour)>0?"/hour":Number(null===r||void 0===r?void 0:r.RentPerDay)>0?"/day":"/hour";return{id:n._id,vehicleId:n.VechileId,vehicleName:o,vehicleImage:s,vehicleType:Qs(n.vechileType),customerName:n.contactName,contactNumber:n.contactNumber,bookingDate:$s(n.createdAt||n.FromDate),bookingTime:el(n.FromTime),startDate:$s(n.FromDate),startTime:el(n.FromTime),endDate:$s(n.ToDate),endTime:el(n.ToTime),modelNo:n._id.slice(0,10).toUpperCase(),status:i,price:l,priceUnit:c,rejectionReason:n.rejectionReason}});console.log("\u2705 Converted bookings:",e),n(e)}else console.log("\ud83d\udced No bookings found"),n([])}catch(e){console.error("\u274c Error fetching bookings:",e),gc.error("Failed to load bookings: ".concat(e.message)),n([])}finally{l(!1),u(!1)}},x=(()=>{if(!a)return t;const e=a.toLowerCase();return t.filter(t=>{var n,r,i;return(null===(n=t.vehicleName)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(r=t.contactNumber)||void 0===r?void 0:r.includes(a))||(null===(i=t.status)||void 0===i?void 0:i.toLowerCase().includes(e))})})();return(0,qa.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qa.jsx)(fc,{position:"top-center"}),(0,qa.jsxs)("div",{className:"transition-all duration-300 ".concat(d?"blur-sm pointer-events-none":""),children:[(0,qa.jsx)("div",{className:"bg-white px-4 sm:px-6 lg:px-8 py-4 sm:py-6 border-b border-gray-200",children:(0,qa.jsx)("div",{className:"max-w-[1400px] mx-auto",children:(0,qa.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,qa.jsx)("h1",{className:"text-2xl sm:text-[32px] font-black text-gray-900 tracking-tight",children:"My Bookings"}),(0,qa.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,qa.jsxs)("div",{className:"relative flex-1 sm:flex-initial sm:w-80",children:[(0,qa.jsx)(io,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400"}),(0,qa.jsx)("input",{type:"text",placeholder:"Search bookings...",value:a,onChange:e=>o(e.target.value),className:"w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-2 sm:py-2.5 bg-gray-50 rounded-[10px] border border-gray-200 text-sm text-gray-900 outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qa.jsxs)("button",{onClick:()=>v(),disabled:c,className:"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-5 py-2 sm:py-2.5 rounded-[10px] text-xs sm:text-sm font-semibold transition-all whitespace-nowrap ".concat(c?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white hover:opacity-90"),children:[(0,qa.jsx)(Hs,{size:16,className:"sm:w-[18px] sm:h-[18px] ".concat(c?"animate-spin":"")}),(0,qa.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]})})}),(0,qa.jsxs)("div",{className:"max-w-[900px] mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[(0,qa.jsx)("div",{className:"mb-4 sm:mb-6",children:(0,qa.jsxs)("p",{className:"text-sm sm:text-[15px] font-medium text-gray-900",children:[x.length," Booking",1!==x.length?"s":""]})}),s?(0,qa.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 sm:py-20",children:[(0,qa.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 border-4 border-gray-200 border-t-[#3D5AFE] rounded-full animate-spin"}),(0,qa.jsx)("p",{className:"mt-4 text-gray-900 text-sm sm:text-base",children:"Loading bookings..."})]}):0===x.length?(0,qa.jsx)("div",{className:"bg-white rounded-2xl sm:rounded-3xl p-8 sm:p-16 text-center shadow-sm",children:(0,qa.jsx)("p",{className:"text-sm sm:text-base text-gray-900",children:a?"No bookings match your search":"No bookings found"})}):(0,qa.jsx)("div",{className:"flex flex-col gap-3 sm:gap-4",children:x.map(t=>(0,qa.jsx)("div",{onClick:()=>(t=>{if(!t.vehicleId)return void gc.error("Vehicle details not found.");const n=t.vehicleType.toLowerCase(),r=f.find(e=>e.booking._id===t.id),i=null===r||void 0===r?void 0:r.vehicle;e("/booking-detail/".concat(t.vehicleId),{state:{booking:t,vehicleType:n,openContact:!1,vehicleData:i||{_id:t.vehicleId,vehicleType:n,bikeName:t.vehicleName,carName:t.vehicleName,bikeImages:t.vehicleImage?[t.vehicleImage]:[],carImages:t.vehicleImage?[t.vehicleImage]:[],pricePerKm:t.price,RentPerHour:t.price}}})})(t),className:"bg-white rounded-xl sm:rounded-2xl shadow-sm border-2 border-transparent cursor-pointer transition-all duration-300 overflow-hidden hover:border-[#3D5AFE] hover:shadow-[0_4px_12px_rgba(61,90,254,0.15)]",children:(0,qa.jsx)("div",{className:"p-4 sm:p-7",children:(0,qa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6",children:[(0,qa.jsx)("div",{className:"flex-shrink-0 mx-auto sm:mx-0",children:(0,qa.jsx)("div",{className:"w-full sm:w-[330px] h-[350px] sm:h-[200px] bg-gradient-to-br from-indigo-50 to-indigo-200 rounded-xl overflow-hidden flex items-center justify-center",children:(0,qa.jsx)("img",{src:t.vehicleImage,alt:t.vehicleName,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src=tu}})})}),(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsxs)("div",{className:"mb-2 sm:mb-2.5",children:[(0,qa.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 tracking-tight mb-1.5",children:t.vehicleName}),(0,qa.jsxs)("div",{className:"text-base sm:text-lg font-bold text-gray-900",children:["\u20b9",(t.price||0).toFixed(0),(0,qa.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-900",children:t.priceUnit||"/hour"})]})]}),(0,qa.jsxs)("div",{className:"flex flex-col gap-1.5 mb-2 sm:mb-2.5",children:[(0,qa.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1.5 sm:gap-5",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsxs)("svg",{className:"w-[13px] h-[13px] text-gray-900 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,qa.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2",strokeWidth:"2"}),(0,qa.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6",strokeWidth:"2"}),(0,qa.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6",strokeWidth:"2"}),(0,qa.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10",strokeWidth:"2"})]}),(0,qa.jsx)("span",{className:"text-xs text-gray-900 font-medium",children:"From:"}),(0,qa.jsx)("span",{className:"text-xs font-semibold text-gray-900",children:t.startDate})]}),t.endDate&&(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsxs)("svg",{className:"w-[13px] h-[13px] text-gray-900 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,qa.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2",strokeWidth:"2"}),(0,qa.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6",strokeWidth:"2"}),(0,qa.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6",strokeWidth:"2"}),(0,qa.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10",strokeWidth:"2"})]}),(0,qa.jsx)("span",{className:"text-xs text-gray-900 font-medium",children:"To:"}),(0,qa.jsx)("span",{className:"text-xs font-semibold text-gray-900",children:t.endDate})]})]}),(0,qa.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1.5 sm:gap-5",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsxs)("svg",{className:"w-[13px] h-[13px] text-gray-900 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,qa.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),(0,qa.jsx)("polyline",{points:"12 6 12 12 16 14",strokeWidth:"2"})]}),(0,qa.jsx)("span",{className:"text-xs text-gray-900 font-medium",children:"From:"}),(0,qa.jsx)("span",{className:"text-xs font-semibold text-gray-900",children:t.startTime})]}),t.endTime&&(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsxs)("svg",{className:"w-[13px] h-[13px] text-gray-900 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,qa.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),(0,qa.jsx)("polyline",{points:"12 6 12 12 16 14",strokeWidth:"2"})]}),(0,qa.jsx)("span",{className:"text-xs text-gray-900 font-medium",children:"To:"}),(0,qa.jsx)("span",{className:"text-xs font-semibold text-gray-900",children:t.endTime})]})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("svg",{className:"w-[13px] h-[13px] text-gray-900 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,qa.jsx)("span",{className:"text-xs text-gray-900 font-medium",children:"Mobile:"}),(0,qa.jsx)("span",{className:"text-xs font-semibold text-gray-900",children:t.contactNumber?t.contactNumber.replace(/\d(?=\d{3})/g,"X"):"N/A"})]})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("span",{className:"text-xs text-gray-900 font-medium",children:"Status:"}),(0,qa.jsx)("span",{className:"px-2.5 sm:px-3 py-1 rounded-md text-[10px] sm:text-[11px] font-semibold ".concat(Js(t.status)),children:"AutoCancelled"===t.status?"Auto Cancelled":t.status})]})]})]})})},t.id))})]})]}),d&&p&&(0,qa.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,qa.jsxs)("div",{className:"bg-white rounded-2xl p-6 sm:p-8 max-w-md w-full shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,qa.jsx)("div",{className:"flex justify-center mb-4 sm:mb-6",children:(0,qa.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full flex items-center justify-center ".concat("Completed"===p.status?"bg-green-50":"bg-red-50"),children:"Completed"===p.status?(0,qa.jsx)("svg",{className:"w-12 h-12 sm:w-14 sm:h-14 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):(0,qa.jsx)(Wa,{size:48,className:"sm:w-[56px] sm:h-[56px] text-red-600"})})}),(0,qa.jsx)("h2",{className:"text-2xl sm:text-[28px] font-bold text-center mb-3 sm:mb-4",children:"Completed"===p.status?"Ride Completed! \ud83c\udf89":"AutoCancelled"===p.status?"Booking Auto Cancelled":"Booking Rejected"}),(0,qa.jsx)("p",{className:"text-base sm:text-lg text-gray-600 text-center mb-4 sm:mb-6",children:"Completed"===p.status?"Your ride with the ".concat(p.vehicleType," has been completed successfully! We hope you had a great experience."):"AutoCancelled"===p.status?"Your booking for the ".concat(p.vehicleType," was automatically cancelled because the owner didn't respond in time."):"The owner rejected your booking for the ".concat(p.vehicleType,".")}),(0,qa.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 sm:p-5 mb-4 sm:mb-6 text-sm text-gray-700 border border-gray-200",children:[(0,qa.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,qa.jsx)("span",{className:"font-semibold",children:"Booking ID:"}),(0,qa.jsx)("span",{className:"font-medium text-right break-all",children:p.bookingId.slice(0,10)})]}),(0,qa.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,qa.jsx)("span",{className:"font-semibold",children:"Date:"}),(0,qa.jsx)("span",{className:"font-medium",children:p.fromDate})]}),(0,qa.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,qa.jsx)("span",{className:"font-semibold",children:"Time:"}),(0,qa.jsx)("span",{className:"font-medium",children:p.fromTime})]}),(0,qa.jsxs)("div",{className:"flex justify-between",children:[(0,qa.jsx)("span",{className:"font-semibold",children:"Status:"}),(0,qa.jsx)("span",{className:"font-medium ".concat("Completed"===p.status?"text-green-600":"text-red-600"),children:"AutoCancelled"===p.status?"Auto Cancelled":p.status})]})]}),p.rejectionReason&&"Completed"!==p.status&&(0,qa.jsxs)("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[(0,qa.jsx)("p",{className:"text-sm font-bold text-amber-800 mb-2",children:"Reason:"}),(0,qa.jsx)("p",{className:"text-sm text-amber-700",children:p.rejectionReason})]}),"Completed"===p.status&&(0,qa.jsxs)("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-green-50 border border-green-200 rounded-xl",children:[(0,qa.jsx)("p",{className:"text-sm font-bold text-green-800 mb-2",children:"Thank you for riding with us! \u2728"}),(0,qa.jsx)("p",{className:"text-sm text-green-700",children:"Your feedback helps us improve. Please rate your experience."})]}),(0,qa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[(0,qa.jsx)("button",{onClick:()=>{h(!1),m(null)},className:"w-full sm:flex-1 bg-gray-100 text-gray-900 font-bold py-3 sm:py-3.5 px-4 sm:px-6 rounded-xl hover:bg-gray-200 transition-colors text-sm sm:text-base",children:"Close"}),"Completed"===p.status?(0,qa.jsx)("button",{onClick:()=>{h(!1),m(null),gc.success("Thank you for your booking!")},className:"w-full sm:flex-1 bg-gradient-to-r from-green-600 to-green-500 text-white font-bold py-3 sm:py-3.5 px-4 sm:px-6 rounded-xl hover:opacity-90 transition-opacity text-sm sm:text-base",children:"Rate Your Experience"}):(0,qa.jsx)("button",{onClick:()=>{h(!1),m(null),e("/rental")},className:"w-full sm:flex-1 bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white font-bold py-3 sm:py-3.5 px-4 sm:px-6 rounded-xl hover:opacity-90 transition-opacity text-sm sm:text-base",children:"Find Another Vehicle"})]})]})})]})},ru=()=>{const e=ye();return(0,qa.jsx)("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:(0,qa.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,qa.jsx)("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:(0,qa.jsx)(Xc,{className:"w-5 h-5"})}),(0,qa.jsx)(Fc,{className:"w-8 h-8 text-blue-600"}),(0,qa.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Privacy Policy"})]}),(0,qa.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 sm:p-8 space-y-6",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Last updated: October 21, 2025"}),(0,qa.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"At RentOnGo Vehicle, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, and safeguard your data."})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Information We Collect"}),(0,qa.jsx)("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We collect information that you provide directly to us, including:"}),(0,qa.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[(0,qa.jsx)("li",{children:"Name, email address, and phone number"}),(0,qa.jsx)("li",{children:"Vehicle preferences and booking history"}),(0,qa.jsx)("li",{children:"Payment information (processed securely)"}),(0,qa.jsx)("li",{children:"Location data for nearby vehicle searches"}),(0,qa.jsx)("li",{children:"Reviews and feedback you provide"})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"How We Use Your Information"}),(0,qa.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[(0,qa.jsx)("li",{children:"To process your vehicle bookings and reservations"}),(0,qa.jsx)("li",{children:"To communicate with you about your bookings"}),(0,qa.jsx)("li",{children:"To improve our services and user experience"}),(0,qa.jsx)("li",{children:"To send you important updates and notifications"}),(0,qa.jsx)("li",{children:"To prevent fraud and ensure platform security"})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Data Security"}),(0,qa.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"We implement industry-standard security measures to protect your personal information. Your data is encrypted during transmission and stored securely. We regularly review and update our security practices to maintain the highest level of protection."})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Your Rights"}),(0,qa.jsx)("p",{className:"text-gray-700 leading-relaxed mb-3",children:"You have the right to:"}),(0,qa.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[(0,qa.jsx)("li",{children:"Access your personal data"}),(0,qa.jsx)("li",{children:"Correct inaccurate information"}),(0,qa.jsx)("li",{children:"Request deletion of your data"}),(0,qa.jsx)("li",{children:"Opt-out of marketing communications"}),(0,qa.jsx)("li",{children:"Export your data in a portable format"})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Contact Us"}),(0,qa.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"If you have any questions about this Privacy Policy or how we handle your data, please contact us at:"}),(0,qa.jsxs)("div",{className:"mt-3 p-4 bg-gray-50 rounded-lg",children:[(0,qa.jsx)("p",{className:"text-gray-900 font-semibold",children:"RentOnGo Vehicle Support"}),(0,qa.jsx)("p",{className:"text-gray-700",children:"Email: privacy@rentongo.com"}),(0,qa.jsx)("p",{className:"text-gray-700",children:"Phone: +91 1800-123-4567"})]})]})]})]})})},iu=Ga("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),au=Ga("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),ou=Ga("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),su=()=>{const e=ye();return(0,qa.jsx)("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:(0,qa.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,qa.jsx)("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:(0,qa.jsx)(Xc,{className:"w-5 h-5"})}),(0,qa.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"About Us"})]}),(0,qa.jsxs)("div",{className:"bg-gradient-to-r from-[#0B0E92] to-[#69A6F0] rounded-xl shadow-lg p-6 sm:p-8 mb-6 text-white",children:[(0,qa.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"RentOnGo Vehicle"}),(0,qa.jsx)("p",{className:"text-lg opacity-90",children:"Your trusted partner for vehicle rentals - connecting vehicle owners with riders since 2024."})]}),(0,qa.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 sm:p-8 space-y-6",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Our Mission"}),(0,qa.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"At RentOnGo Vehicle, we're revolutionizing the way people access transportation. Our mission is to make vehicle rentals simple, affordable, and accessible to everyone while empowering vehicle owners to earn from their unused assets."})]}),(0,qa.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 py-4",children:[(0,qa.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg",children:[(0,qa.jsx)(iu,{className:"w-8 h-8 text-blue-600 flex-shrink-0 mt-1"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Wide Selection"}),(0,qa.jsx)("p",{className:"text-sm text-gray-600",children:"From economy cars to luxury vehicles and autos for every need"})]})]}),(0,qa.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg",children:[(0,qa.jsx)(au,{className:"w-8 h-8 text-green-600 flex-shrink-0 mt-1"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Community Driven"}),(0,qa.jsx)("p",{className:"text-sm text-gray-600",children:"Connecting local vehicle owners with riders in your community"})]})]}),(0,qa.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-purple-50 rounded-lg",children:[(0,qa.jsx)(ou,{className:"w-8 h-8 text-purple-600 flex-shrink-0 mt-1"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Verified Quality"}),(0,qa.jsx)("p",{className:"text-sm text-gray-600",children:"All vehicles verified and rated by our community"})]})]}),(0,qa.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-orange-50 rounded-lg",children:[(0,qa.jsx)(Ka,{className:"w-8 h-8 text-orange-600 flex-shrink-0 mt-1"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"24/7 Service"}),(0,qa.jsx)("p",{className:"text-sm text-gray-600",children:"Book anytime, anywhere with instant confirmation"})]})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Our Story"}),(0,qa.jsx)("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Founded in 2024, RentOnGo Vehicle was born from a simple observation: many vehicle owners have cars and autos sitting idle while countless people need affordable transportation. We created a platform that bridges this gap, making it easy for owners to list their vehicles and for riders to find the perfect ride."}),(0,qa.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"Today, we're proud to serve thousands of users across multiple cities, facilitating thousands of rides every month. Our platform has helped vehicle owners earn extra income while providing riders with convenient, cost-effective transportation options."})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Why Choose Us?"}),(0,qa.jsxs)("ul",{className:"space-y-3",children:[(0,qa.jsxs)("li",{className:"flex items-start gap-3",children:[(0,qa.jsx)("span",{className:"text-blue-600 text-xl",children:"\u2713"}),(0,qa.jsxs)("span",{className:"text-gray-700",children:[(0,qa.jsx)("strong",{children:"Transparent Pricing:"})," No hidden fees, see exact costs upfront"]})]}),(0,qa.jsxs)("li",{className:"flex items-start gap-3",children:[(0,qa.jsx)("span",{className:"text-blue-600 text-xl",children:"\u2713"}),(0,qa.jsxs)("span",{className:"text-gray-700",children:[(0,qa.jsx)("strong",{children:"Secure Payments:"})," Protected transactions with multiple payment options"]})]}),(0,qa.jsxs)("li",{className:"flex items-start gap-3",children:[(0,qa.jsx)("span",{className:"text-blue-600 text-xl",children:"\u2713"}),(0,qa.jsxs)("span",{className:"text-gray-700",children:[(0,qa.jsx)("strong",{children:"Customer Support:"})," Dedicated support team available 24/7"]})]}),(0,qa.jsxs)("li",{className:"flex items-start gap-3",children:[(0,qa.jsx)("span",{className:"text-blue-600 text-xl",children:"\u2713"}),(0,qa.jsxs)("span",{className:"text-gray-700",children:[(0,qa.jsx)("strong",{children:"Flexible Bookings:"})," Hourly, daily, or long-term rentals available"]})]})]})]}),(0,qa.jsxs)("div",{className:"border-t pt-6",children:[(0,qa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Get in Touch"}),(0,qa.jsx)("p",{className:"text-gray-700 mb-4",children:"Have questions or feedback? We'd love to hear from you!"}),(0,qa.jsxs)("div",{className:"space-y-2",children:[(0,qa.jsx)("p",{className:"text-gray-700",children:"\ud83d\udce7 Email: support@rentongo.com"}),(0,qa.jsx)("p",{className:"text-gray-700",children:"\ud83d\udcde Phone: +91 1800-123-4567"}),(0,qa.jsx)("p",{className:"text-gray-700",children:"\ud83d\udccd Address: Kakinada, Andhra Pradesh, India"})]})]})]})]})})},lu=Ga("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),cu=()=>{const e=ye(),[t,n]=(0,r.useState)(null);return(0,qa.jsx)("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:(0,qa.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,qa.jsx)("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:(0,qa.jsx)(Xc,{className:"w-5 h-5"})}),(0,qa.jsx)(Uc,{className:"w-8 h-8 text-blue-600"}),(0,qa.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Help & Support"})]}),(0,qa.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[(0,qa.jsxs)("a",{href:"tel:+911800123456",className:"flex items-center gap-3 p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition cursor-pointer",children:[(0,qa.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,qa.jsx)($c,{className:"w-6 h-6 text-green-600"})}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-sm text-gray-500",children:"Call Us"}),(0,qa.jsx)("p",{className:"font-semibold text-gray-900",children:"1800-123-456"})]})]}),(0,qa.jsxs)("a",{href:"mailto:support@rentongo.com",className:"flex items-center gap-3 p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition cursor-pointer",children:[(0,qa.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,qa.jsx)(Qc,{className:"w-6 h-6 text-blue-600"})}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-sm text-gray-500",children:"Email Us"}),(0,qa.jsx)("p",{className:"font-semibold text-gray-900",children:"Support"})]})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition cursor-pointer",children:[(0,qa.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,qa.jsx)(fs,{className:"w-6 h-6 text-purple-600"})}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-sm text-gray-500",children:"Live Chat"}),(0,qa.jsx)("p",{className:"font-semibold text-gray-900",children:"Coming Soon"})]})]})]}),(0,qa.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 sm:p-8",children:[(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),(0,qa.jsx)("div",{className:"space-y-4",children:[{question:"How do I book a vehicle?",answer:"Browse available vehicles on our Rental page, select your preferred vehicle, click 'Book Now', and follow the booking process. You can chat with the owner or call them directly to confirm your booking."},{question:"What payment methods are accepted?",answer:"We accept all major credit/debit cards, UPI, net banking, and digital wallets. All payments are processed securely through our payment gateway."},{question:"How do I list my vehicle?",answer:"Click the 'Listing +' button in the navigation bar, select whether you want to list a car or auto, fill in the vehicle details, upload photos, and submit. Your listing will be live immediately."},{question:"Can I cancel my booking?",answer:"Yes, you can cancel your booking by contacting the vehicle owner directly. Cancellation policies may vary by owner. We recommend discussing cancellation terms before confirming your booking."},{question:"How do I contact the vehicle owner?",answer:"Once you click 'Book Now' on a vehicle, you'll see chat and call options to contact the owner directly. You can discuss availability, pricing, and pickup details with them."},{question:"Are the vehicles insured?",answer:"Vehicle insurance coverage varies by owner. We recommend discussing insurance details with the owner before booking. Many owners provide basic insurance coverage."},{question:"What if I have an issue during my ride?",answer:"Contact our 24/7 support team immediately via phone or email. We're here to help resolve any issues quickly. You can also reach out to the vehicle owner directly."},{question:"How do I change my language preference?",answer:"Click the language icon (globe) in the navigation bar and select your preferred language from the dropdown menu. The app supports English, Spanish, French, and German."},{question:"How do reviews work?",answer:"After completing a ride, you'll receive a notification to give feedback. Your review helps other users make informed decisions and helps maintain quality on our platform."},{question:"What are the requirements to list a vehicle?",answer:"You need valid vehicle registration, your contact information, photos of the vehicle, and rental pricing details. Additional documents like driving license and Aadhar card may be requested."}].map((e,r)=>(0,qa.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,qa.jsxs)("button",{onClick:()=>(e=>{n(t===e?null:e)})(r),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 transition",children:[(0,qa.jsx)("span",{className:"font-semibold text-gray-900 pr-4",children:e.question}),t===r?(0,qa.jsx)(lu,{className:"w-5 h-5 text-gray-500 flex-shrink-0"}):(0,qa.jsx)(Qo,{className:"w-5 h-5 text-gray-500 flex-shrink-0"})]}),t===r&&(0,qa.jsx)("div",{className:"px-4 pb-4 text-gray-700 leading-relaxed",children:e.answer})]},r))})]}),(0,qa.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mt-6",children:[(0,qa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Still need help?"}),(0,qa.jsx)("p",{className:"text-gray-700 mb-4",children:"Our support team is available 24/7 to assist you with any questions or issues. Feel free to reach out via phone, email, or wait for our live chat feature."}),(0,qa.jsxs)("p",{className:"text-sm text-gray-600",children:["Average response time: ",(0,qa.jsx)("strong",{className:"text-gray-900",children:"Under 2 hours"})]})]})]})})},uu=()=>{const e=ye(),[t]=St(),{addReview:n}=wo(),{markFeedbackGiven:i}=Ba(),a=t.get("vehicleId"),o=decodeURIComponent(t.get("vehicleName")||"Vehicle"),s=t.get("bookingId"),l=t.get("vehicleType")||"Car",[c,u]=(0,r.useState)(0),[d,h]=(0,r.useState)(0),[p,m]=(0,r.useState)(""),[f,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[x,b]=(0,r.useState)(0),[w,k]=(0,r.useState)(0),[S,N]=(0,r.useState)(!0),[_,C]=(0,r.useState)(null),[A,j]=(0,r.useState)(!0);(0,r.useEffect)(()=>{a&&s||(console.error("\u274c Missing required params:",{vehicleId:a,bookingId:s}),alert("Missing vehicle or booking information. Redirecting to notifications."),e("/notifications"))},[a,s,e]),(0,r.useEffect)(()=>{(async()=>{if(a)try{N(!0),console.log("\ud83d\udd0d Fetching average rating for:",a);const e="http://3.110.122.127:3000/getAverageRating?vechileType=".concat(l,"&vechileId=").concat(a),t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)return console.log("\u26a0\ufe0f Average rating not available"),b(0),void k(0);const n=await t.json();console.log("\u2705 Average Rating Response:",n),void 0!==n.averageRating?(b(parseFloat(n.averageRating)||0),k(n.totalReviews||n.reviewCount||0)):void 0!==n.rating&&(b(parseFloat(n.rating)||0),k(n.count||0))}catch(e){console.error("\u274c Error fetching average rating:",e),b(0),k(0)}finally{N(!1)}})()},[a,l]),(0,r.useEffect)(()=>{(async()=>{if(s)try{j(!0),console.log("\ud83d\udd0d Checking for existing review for booking:",s);const e=await fetch("http://3.110.122.127:3000/getReviewByBookingId/".concat(s),{method:"GET"});if(e.ok){const t=await e.json();console.log("\u2705 Existing review found:",t),C(t),u(t.rating||0),m(t.review||"")}else console.log("\ud83d\udcdd No existing review found"),C(null)}catch(e){console.error("\u274c Error checking existing review:",e)}finally{j(!1)}})()},[s]);return y?(0,qa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:(0,qa.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[(0,qa.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,qa.jsx)(Cs,{className:"w-12 h-12 text-green-600"})}),(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Thank You!"}),(0,qa.jsx)("p",{className:"text-gray-600 mb-6",children:"Your feedback has been submitted successfully"}),(0,qa.jsx)("div",{className:"flex items-center justify-center gap-2 text-yellow-500",children:[...Array(c)].map((e,t)=>(0,qa.jsx)(us,{size:24,className:"fill-yellow-400 text-yellow-400"},t))}),(0,qa.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:"Redirecting to notifications..."})]})}):A?(0,qa.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:(0,qa.jsxs)("div",{className:"text-center",children:[(0,qa.jsx)(zs,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),(0,qa.jsx)("p",{className:"text-gray-600",children:"Loading feedback form..."})]})}):(0,qa.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 pb-20",children:[(0,qa.jsx)("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-md shadow-sm border-b border-gray-200",children:(0,qa.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center gap-3",children:[(0,qa.jsx)("button",{onClick:()=>e("/notifications"),className:"p-2 hover:bg-gray-100 rounded-full transition",children:(0,qa.jsx)(Xc,{className:"w-5 h-5 text-gray-600"})}),(0,qa.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:_?"Update Feedback":"Give Feedback"})]})}),(0,qa.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[(0,qa.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-5 mb-6",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,qa.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,qa.jsx)(us,{className:"w-6 h-6 text-blue-600"})}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-sm text-gray-500",children:"Feedback for"}),(0,qa.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:o})]})]}),S?(0,qa.jsxs)("div",{className:"animate-pulse p-4 bg-gray-50 rounded-lg",children:[(0,qa.jsx)("div",{className:"h-6 bg-gray-200 rounded w-32 mb-2"}),(0,qa.jsx)("div",{className:"h-4 bg-gray-200 rounded w-48"})]}):x>0?(0,qa.jsx)("div",{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg border border-amber-200",children:(0,qa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Current Average Rating"}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("span",{className:"text-3xl font-bold text-gray-800",children:x.toFixed(1)}),(0,qa.jsx)("div",{className:"flex gap-0.5",children:(()=>{const e=[],t=Math.floor(x),n=x%1>=.5;for(let r=1;r<=5;r++)r<=t?e.push((0,qa.jsx)(us,{size:20,className:"fill-yellow-400 text-yellow-400"},r)):r===t+1&&n?e.push((0,qa.jsxs)("div",{className:"relative inline-block",children:[(0,qa.jsx)(us,{size:20,className:"text-gray-300"}),(0,qa.jsx)("div",{className:"absolute inset-0 overflow-hidden w-1/2",children:(0,qa.jsx)(us,{size:20,className:"fill-yellow-400 text-yellow-400"})})]},r)):e.push((0,qa.jsx)(us,{size:20,className:"text-gray-300"},r));return e})()})]}),(0,qa.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Based on ",w," ",1===w?"review":"reviews"]})]}),(0,qa.jsx)("div",{className:"w-16 h-16 rounded-full bg-white shadow-md flex items-center justify-center",children:(0,qa.jsx)(us,{size:32,className:"fill-yellow-400 text-yellow-400"})})]})}):null]}),_&&(0,qa.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[(0,qa.jsx)(Wc,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("p",{className:"text-sm font-semibold text-blue-800",children:"You've already reviewed this booking"}),(0,qa.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"You can update your review below"})]})]}),(0,qa.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[(0,qa.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Rate Your Experience"}),(0,qa.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Your feedback helps other users make better decisions"}),(0,qa.jsxs)("div",{className:"mb-6",children:[(0,qa.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"How would you rate this vehicle?"}),(0,qa.jsxs)("div",{className:"flex gap-2 items-center",children:[[1,2,3,4,5].map(e=>(0,qa.jsx)("button",{type:"button",onClick:()=>u(e),onMouseEnter:()=>h(e),onMouseLeave:()=>h(0),className:"transition-transform hover:scale-110",children:(0,qa.jsx)(us,{size:40,className:e<=(d||c)?"fill-yellow-400 text-yellow-400":"text-gray-300"})},e)),c>0&&(0,qa.jsxs)("span",{className:"ml-3 text-lg font-semibold text-gray-700",children:[1===c&&"Poor",2===c&&"Fair",3===c&&"Good",4===c&&"Very Good",5===c&&"Excellent"]})]})]}),(0,qa.jsxs)("div",{className:"mb-6",children:[(0,qa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Share your experience"}),(0,qa.jsx)("textarea",{value:p,onChange:e=>m(e.target.value),className:"w-full border-2 border-gray-300 rounded-lg p-4 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm",rows:5,placeholder:"Tell us what you liked or what could be improved...",maxLength:500}),(0,qa.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,qa.jsx)("p",{className:"text-xs text-gray-500",children:"Help others by sharing your detailed experience"}),(0,qa.jsxs)("p",{className:"text-xs text-gray-400",children:[p.length,"/500"]})]})]}),(0,qa.jsxs)("div",{className:"flex gap-3",children:[(0,qa.jsx)("button",{onClick:()=>e("/notifications"),className:"flex-1 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),(0,qa.jsx)("button",{onClick:async()=>{if(console.log("\ud83d\ude80 Submitting feedback..."),0!==c)if(p.trim()){g(!0);try{const t=localStorage.getItem("userId");if(!t)return alert("\u274c User not logged in. Please log in and try again."),void g(!1);const r=new URLSearchParams;r.append("userId",t),r.append("vechileType",l),r.append("VechileId",a),r.append("BookingId",s),r.append("review",p.trim()),r.append("rating",c.toString()),console.log("\ud83d\udce4 Payload:",Object.fromEntries(r.entries()));const o=await fetch("http://3.110.122.127:3000/addReview",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r});if(console.log("\ud83d\udcca Response Status:",o.status),o.ok){const t=await o.json();console.log("\u2705 Feedback submitted successfully!",t),n({vehicleId:a,userName:"User",rating:c,location:"Kakinada",comment:p}),s&&(console.log("\ud83c\udfaf Marking feedback as given for booking:",s),await i(s)),v(!0),setTimeout(()=>{e("/notifications")},2e3)}else{const e=await o.text();console.error("\u274c API Error:",e),alert("\u274c Failed to submit feedback. Please try again.")}}catch(t){console.error("\u26a0\ufe0f Error submitting review:",t),alert("\u26a0\ufe0f Something went wrong. Please check your connection and try again.")}finally{g(!1)}}else alert("\ud83d\udcac Please write your feedback before submitting");else alert("\u2b50 Please select a rating before submitting")},disabled:f||0===c||!p.trim(),className:"flex-1 py-3 bg-gradient-to-r from-blue-600 to-blue-500 text-white font-semibold rounded-lg hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg",children:f?(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(zs,{className:"w-5 h-5 animate-spin"}),"Submitting..."]}):(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(us,{className:"w-5 h-5"}),_?"Update Feedback":"Submit Feedback"]})})]})]}),(0,qa.jsx)("div",{className:"mt-6 bg-blue-50 border border-blue-100 rounded-lg p-4",children:(0,qa.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"\ud83d\udca1 Your review will be visible to other users and help improve the service"})})]})]})},du=e=>{let{onConfirm:t,onClose:n}=e;const[i,a]=(0,r.useState)(""),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)("18:00"),[u,d]=(0,r.useState)("20:00"),[h,p]=(0,r.useState)("Available");return(0,qa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex justify-center items-center z-50",children:(0,qa.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg w-full max-w-[900px] p-6 flex flex-col sm:flex-row gap-6 relative",children:[(0,qa.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-gray-600 text-xl font-bold",children:"\u2715"}),(0,qa.jsxs)("div",{className:"flex-1 border rounded-lg p-4 h-[400px] flex flex-col",children:[(0,qa.jsx)("label",{className:"text-gray-500 text-sm mb-2",children:"Select Start and End Dates"}),(0,qa.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,qa.jsx)("input",{type:"date",value:i,onChange:e=>a(e.target.value),className:"flex-1 border rounded-lg p-2"}),(0,qa.jsx)("input",{type:"date",value:o,onChange:e=>s(e.target.value),className:"flex-1 border rounded-lg p-2"})]})]}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col gap-4",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"text-gray-500 text-sm",children:"Start Time"}),(0,qa.jsx)("input",{type:"time",value:l,onChange:e=>c(e.target.value),className:"w-full border rounded-lg p-2 mt-1"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"text-gray-500 text-sm",children:"End Time"}),(0,qa.jsx)("input",{type:"time",value:u,onChange:e=>d(e.target.value),className:"w-full border rounded-lg p-2 mt-1"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"text-gray-500 text-sm",children:"Availability"}),(0,qa.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"mt-1 w-full border rounded-lg p-2 bg-green-100 text-green-700",children:[(0,qa.jsx)("option",{value:"Available",children:"Available"}),(0,qa.jsx)("option",{value:"Not Available",children:"Not Available"})]})]}),(0,qa.jsx)("button",{onClick:()=>{i&&o&&l&&u?t(i,o,l,u):alert("Please select all fields before confirming.")},className:"mt-auto bg-gradient-to-r from-[#0B0E92] to-[#69A6F0] text-white py-2 rounded-lg",children:"Confirm"})]})]})})},hu=()=>{const e=ye(),[t,n]=(0,r.useState)(""),[i,a]=(0,r.useState)(""),[o,s]=(0,r.useState)("06:00"),[l,c]=(0,r.useState)("08:00");return(0,qa.jsx)("div",{className:"flex justify-center items-start min-h-screen bg-gray-100 p-4",children:(0,qa.jsxs)("div",{className:"w-full max-w-md bg-white shadow-md rounded-xl p-6 sm:p-8",children:[(0,qa.jsx)("h1",{className:"text-xl sm:text-2xl font-semibold mb-6 text-center",children:"Availability Date & Time"}),(0,qa.jsxs)("div",{className:"mb-4",children:[(0,qa.jsx)("label",{className:"block text-gray-600 mb-1",children:"Start Date"}),(0,qa.jsx)("input",{type:"date",value:t,onChange:e=>n(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-400"})]}),(0,qa.jsxs)("div",{className:"mb-4",children:[(0,qa.jsx)("label",{className:"block text-gray-600 mb-1",children:"End Date"}),(0,qa.jsx)("input",{type:"date",value:i,onChange:e=>a(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-400"})]}),(0,qa.jsxs)("div",{className:"flex flex-col md:flex-row md:gap-4 mb-6",children:[(0,qa.jsxs)("div",{className:"flex-1 mb-4 md:mb-0",children:[(0,qa.jsx)("label",{className:"block text-gray-600 mb-1",children:"Start Time"}),(0,qa.jsx)("input",{type:"time",value:o,onChange:e=>s(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("label",{className:"block text-gray-600 mb-1",children:"End Time"}),(0,qa.jsx)("input",{type:"time",value:l,onChange:e=>c(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),(0,qa.jsx)("button",{onClick:()=>{e("/ListedCars")},className:"w-full bg-gradient-to-r from-blue-600 to-indigo-500 text-white py-2 rounded-lg hover:opacity-90 transition-all text-sm sm:text-base",children:"Confirm"})]})})},pu={name:"Hyundai Verna",CarModel:"Thar",CarNumber:"",price:"250",rating:"4.2",transmission:"Automatic",seats:"5",fuel:"Petrol",ac:"AC",image:Ts,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",contactName:"Manoj Kumar",contactNumber:"1234567898",email:"owner@example.com",city:"",street:"",pincode:"",doorName:"",isAvailable:!0},mu=(e,t)=>{const n=ye(),[i,a]=(0,r.useState)(c(c({},pu),{},{carImages:""})),[o,s]=(0,r.useState)(pu),[l,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[f,g]=(0,r.useState)(null),[y,v]=(0,r.useState)([]),[x,b]=(0,r.useState)(""),w=async e=>{try{h(!0),console.log("\ud83d\udce1 Fetching car details for ID:",e);const t=await La.car.getCarById(e),n=t.data||t;console.log("\ud83d\udce5 Received car data:",n),n&&n.car?k(n.car):n&&k(n)}catch(t){console.error("\u274c Error fetching car details:",t),alert("Failed to load car details: ".concat(t.message||"Unknown error"))}finally{h(!1)}},k=e=>{const t=(e=>{var t,n,r,i,a,o,s;console.log("\ud83d\uddfa\ufe0f Mapping car data:",e);const l=c(c({},pu),{},{name:"".concat(e.CarName||e.name||""," ").concat(e.CarModel||e.model||"").trim(),CarNumber:e.CarNumber||e.carNumber||"",price:null!==(t=null!==(n=e.RentPerHour)&&void 0!==n?n:e.price)&&void 0!==t?t:pu.price,CarModel:e.CarModel||pu.CarModel,rating:(null===(r=e.rating)||void 0===r||null===(i=r.toString)||void 0===i?void 0:i.call(r))||pu.rating,transmission:e.transmissionType||e.transmission||pu.transmission,seats:(null===(a=e.Carseater)||void 0===a?void 0:a.toString())||e.seats||pu.seats,fuel:e.fuelType||e.fuel||pu.fuel,ac:e.Ac_available?"AC":e.ac||pu.ac,image:(null===(o=e.carImages)||void 0===o?void 0:o[0])||e.image||pu.image,description:e.description||pu.description,contactName:e.contactName||pu.contactName,contactNumber:e.contactNumber||pu.contactNumber,email:e.email||pu.email,id:e._id||e.id||void 0,userId:e.userId||e.user_id||void 0,isAvailable:!1!==e.Available&&!1!==e.isAvailable,city:e.pickupCity||"",street:e.pickupArea||"",pincode:e.pickupCityPinCode||"",state:e.pickupCityState||"",doorName:e.doorName||"",requireDrivingLicense:!0===e.drivingLicenseRequired,requireAadharCard:!0===e.AadharCardRequired,depositMoney:(null===(s=e.DepositAmount)||void 0===s?void 0:s.toString())||""});return console.log("\u2705 Mapped vehicle data:",l),l})(e);a(t),s(t),g(t.image||null)};(0,r.useEffect)(()=>{e&&!t?w(e):t&&k(t);const n=localStorage.getItem("userId");n&&!x&&(console.log("\u2705 Auto-loaded userId from localStorage:",n),b(n))},[e,t]);return{editVehicle:i,setEditVehicle:a,isLoading:l,isFetching:d,carImage:p,preview:f,additionalImages:y,handleChange:e=>{const{name:t,value:n,type:r}=e.target;if("checkbox"===r){const n=e.target.checked;a(e=>c(c({},e),{},{[t]:n}))}else a(e=>c(c({},e),{},{[t]:n}))},handleCarImageChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){console.log("\ud83d\udcf8 Selected main image:",n.name,n.size,"bytes"),m(n);const e=URL.createObjectURL(n);g(e),a(t=>c(c({},t),{},{image:e}))}},handleAdditionalImagesChange:e=>{const t=e.target.files;if(t){const e=Array.from(t).slice(0,4-y.length);console.log("\ud83d\udcf8 Selected additional images:",e.length),v(t=>[...t,...e])}},removeAdditionalImage:e=>{console.log("\ud83d\uddd1\ufe0f Removing additional image at index:",e),v(t=>t.filter((t,n)=>n!==e))},handleSave:async()=>{var t,r;const a=i.id||e;if(!a)return void alert("\u274c Vehicle ID missing \u2014 cannot update.");const o=null===(t=i.name)||void 0===t?void 0:t.trim(),s=(null!==(r=i.price)&&void 0!==r?r:"").toString().trim();if(o)if(!s||"0"===s||Number(s)<=0)alert("\u274c Valid price is required (must be greater than 0)");else if(!i.contactNumber||i.contactNumber.trim().length<10)alert("\u274c Valid contact number is required (minimum 10 digits)");else if(!i.contactName||i.contactName.trim().length<2)alert("\u274c Contact name is required");else{u(!0);try{var l,c,d;let e=x||localStorage.getItem("userId")||i.userId;if(!e){const t=["user","userData","currentUser","authUser","userInfo"];for(const n of t){const t=localStorage.getItem(n);if(t)try{const r=JSON.parse(t);if(e=r._id||r.id||r.userId||r.user_id||r.uid,e){console.log("\u2705 Retrieved userId from localStorage.".concat(n,":"),e),b(e);break}}catch(nl){if(t&&t.length>=10&&/^[a-f0-9]+$/i.test(t)){e=t,console.log("\u2705 Retrieved userId directly from localStorage.".concat(n,":"),e),b(e);break}}}}if(!e)return console.error("\u274c userId not found"),void alert("\u274c User ID is missing. Please enter it manually in the form.");console.log("\u2705 Using userId:",e);const t=o.split(" "),r=t[0]||o,u=t.slice(1).join(" ")||i.CarModel||"",h=new FormData;h.append("userId",e),h.append("CarName",r),h.append("CarModel",u||"Standard"),i.CarNumber&&i.CarNumber.trim()&&h.append("CarNumber",i.CarNumber.trim());const f=(null!==(l=i.seats)&&void 0!==l?l:"5").toString().replace(/[^\d]/g,"")||"5";h.append("Carseater",f);const g=i.fuel.toLowerCase(),S=i.transmission.toLowerCase();h.append("fuelType",g),h.append("transmissionType",S),h.append("Ac_available","ac"===(null===(c=i.ac)||void 0===c?void 0:c.toLowerCase())?"true":"false");const N=s,_=(24*Number(N)).toString();h.append("RentPerHour",N),h.append("RentPerDay",_),h.append("description",i.description||"No description provided"),h.append("contactName",i.contactName.trim()),h.append("contactNumber",i.contactNumber.trim()),h.append("gps","false"),h.append("kmDriven","50000"),h.append("Available",i.isAvailable?"true":"false");(i.city||i.street||i.pincode||i.state)&&(h.append("pickupCity",i.city||""),h.append("pickupArea",i.street||""),h.append("pickupCityPinCode",i.pincode||""),h.append("pickupCityState",i.state||""),h.append("pickupCityCountry","india"),h.append("pickupLatitude","17.4889"),h.append("pickupLongitude","78.4603")),h.append("drivingLicenseRequired",i.requireDrivingLicense?"true":"false"),h.append("AadharCardRequired",i.requireAadharCard?"true":"false"),i.depositMoney&&"0"!==i.depositMoney&&Number(i.depositMoney)>0?(h.append("DepositAmount",i.depositMoney),h.append("DepositVehicle","true")):h.append("DepositVehicle","false"),p instanceof File&&h.append("carImages",p),y.length>0&&y.forEach(e=>{h.append("carImages",e)});const C=await La.car.updateCarById(a,h),A=C.data||C;if(!(null!==A&&void 0!==A&&null!==(d=A.message)&&void 0!==d&&d.toLowerCase().includes("updated")||null!==A&&void 0!==A&&A.success||null!==A&&void 0!==A&&A.car))throw new Error((null===A||void 0===A?void 0:A.message)||"Update failed - no success confirmation received");alert("\u2705 Car updated successfully!"),A.car?k(A.car):await w(a),m(null),v([]),n("/listed",{state:{refresh:!0}})}catch(C){var h,f,g,S,N,_;console.error("\u274c Update Error:",C);const e=(null===(h=C.response)||void 0===h||null===(f=h.data)||void 0===f?void 0:f.message)||(null===(g=C.response)||void 0===g||null===(S=g.data)||void 0===S?void 0:S.error)||C.message||"Unknown error occurred",t=(null===(N=C.response)||void 0===N||null===(_=N.data)||void 0===_?void 0:_.details)||"";alert("\u274c Failed to update car:\n\n".concat(e,"\n").concat(t?"\n"+t:"","\n\n")+"Please check:\n\u2022 All required fields are filled\n\u2022 Contact number is valid (10+ digits)\n\u2022 You have permission to edit this car\n\u2022 Image files are not too large (< 5MB each)")}finally{u(!1)}}else alert("\u274c Vehicle name is required")},handleDelete:async()=>{const t=i.id||e;if(t){if(window.confirm('\u26a0\ufe0f Are you sure you want to delete "'.concat(i.name,'"?\n\nThis action cannot be undone.'))){u(!0);try{var r;const e=await La.car.deleteCarById(t),i=e.data||e;if(!(null!==i&&void 0!==i&&null!==(r=i.message)&&void 0!==r&&r.toLowerCase().includes("deleted")||null!==i&&void 0!==i&&i.success))throw new Error((null===i||void 0===i?void 0:i.message)||"Delete failed");alert("\u2705 Car deleted successfully!"),n("/listed",{state:{refresh:!0}})}catch(s){var a,o;console.error("\u274c Delete Car Error:",s);const e=(null===(a=s.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||s.message||"Unknown error";alert("\u274c Failed to delete car: ".concat(e))}finally{u(!1)}}}else alert("\u274c Vehicle ID missing \u2014 cannot delete.")}}},fu=e=>{let{mainImage:t,vehicleName:n,additionalImages:i}=e;const[a,o]=(0,r.useState)(0),s=["https://e7.pngegg.com/pngimages/768/421/png-clipart-car-computer-icons-sedan-auto-detailing-auto-driving-rectangle-thumbnail.png","https://png.pngtree.com/png-vector/20191201/ourmid/pngtree-car-vector-logo-design-png-image_2066853.jpg"],l=[...i.length>0?[t||Ts,...i.map(e=>URL.createObjectURL(e))]:[t||Ts]];for(;l.length<3;)l.push(s[l.length-1]||s[0]);return l.splice(3),(0,qa.jsxs)("div",{className:"relative w-300px md:w-[420px] h-[300px] flex-shrink-0 rounded-[10px] border-2 border-transparent hover:border-[#0066FF] transition-all duration-200",children:[(0,qa.jsx)("img",{src:l[a],alt:n,className:"w-full h-full object-cover transition-all duration-500 rounded-[10px]"}),(0,qa.jsx)("button",{onClick:e=>{e.stopPropagation(),o(e=>0===e?l.length-1:e-1)},className:"absolute left-3 top-1/2 -translate-y-1/2 w-12 h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center shadow-2xl z-20 transition-all cursor-pointer border border-gray-200",type:"button","aria-label":"Previous image",children:(0,qa.jsx)("svg",{className:"w-6 h-6 text-gray-800 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),(0,qa.jsx)("button",{onClick:e=>{e.stopPropagation(),o(e=>e===l.length-1?0:e+1)},className:"absolute right-3 top-1/2 -translate-y-1/2 w-12 h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center shadow-2xl z-20 transition-all cursor-pointer border border-gray-200",type:"button","aria-label":"Next image",children:(0,qa.jsx)("svg",{className:"w-6 h-6 text-gray-800 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),(0,qa.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-1.5",children:l.map((e,t)=>(0,qa.jsx)("button",{onClick:()=>o(t),className:"h-2 rounded-full transition-all ".concat(t===a?"bg-[#0066FF] w-6":"bg-gray-700 w-2")},t))})]})},gu=e=>{let{vehicle:t}=e;return(0,qa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qa.jsx)("div",{className:"flex items-start justify-between gap-4 mb-1",children:(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("div",{className:"flex items-center gap-2",children:(0,qa.jsx)("h1",{className:"text-[32px] font-bold text-[#000000] leading-tight cursor-pointer hover:underline hover:decoration-[#0066FF] hover:decoration-2 transition-all",style:{fontFamily:"Inter, sans-serif",fontWeight:700},children:t.name})}),t.CarNumber&&(0,qa.jsx)("p",{className:"text-[16px] text-[#666666] mt-1",style:{fontFamily:"Inter, sans-serif"},children:t.CarNumber})]})}),(0,qa.jsxs)("div",{className:"flex items-baseline gap-1 mb-3 w-fit cursor-pointer hover:underline hover:decoration-[#0066FF] hover:decoration-2 transition-all",children:[(0,qa.jsxs)("span",{className:"text-[32px] font-bold text-[#000000]",style:{fontFamily:"Inter, sans-serif",fontWeight:700},children:["\u20b9",t.price]}),(0,qa.jsx)("span",{className:"text-base text-[#666666]",style:{fontFamily:"Inter, sans-serif"},children:"/hr"})]}),(0,qa.jsx)("div",{className:"border border-[#E5E5E5] rounded-[10px] overflow-hidden bg-white mb-4 cursor-pointer hover:border-[#0066FF] hover:border-2 transition-all duration-200",children:(0,qa.jsxs)("div",{className:"flex items-center gap-0",children:[(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-3 px-4",children:[(0,qa.jsx)("img",{src:gs,className:"w-6 h-6 mb-1.5",alt:"transmission"}),(0,qa.jsx)("span",{className:"text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:t.transmission})]}),(0,qa.jsx)("div",{className:"w-[1px] h-12 bg-[#E5E5E5]"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-3 px-4",children:[(0,qa.jsx)("img",{src:So,className:"w-6 h-6 mb-1.5",alt:"seats"}),(0,qa.jsxs)("span",{className:"text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:[t.seats," Seaters"]})]}),(0,qa.jsx)("div",{className:"w-[1px] h-12 bg-[#E5E5E5]"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-3 px-4",children:[(0,qa.jsx)("img",{src:ys,className:"w-6 h-6 mb-1.5",alt:"fuel"}),(0,qa.jsx)("span",{className:"text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:t.fuel})]}),(0,qa.jsx)("div",{className:"w-[1px] h-12 bg-[#E5E5E5]"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-3 px-4",children:[(0,qa.jsx)("img",{src:vs,className:"w-6 h-6 mb-1.5",alt:"ac"}),(0,qa.jsx)("span",{className:"text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:t.ac})]})]})}),(0,qa.jsxs)("div",{className:"border border-[#E5E5E5] rounded-[10px] p-4 bg-white mb-4 cursor-pointer hover:border-[#0066FF] hover:border-2 transition-all duration-200 w-full",children:[(0,qa.jsx)("h2",{className:"text-[18px] font-bold text-[#000000] mb-2 cursor-pointer hover:underline hover:decoration-[#0066FF] hover:decoration-2 transition-all",style:{fontFamily:"Inter, sans-serif",fontWeight:700},children:"Description"}),(0,qa.jsx)("p",{className:"text-[#666666] text-[14px] leading-[1.6] min-h-[40px] break-words overflow-wrap-anywhere",style:{fontFamily:"Inter, sans-serif",wordBreak:"break-word"},children:t.description})]})]})},yu=e=>{let{street:t,city:n,pincode:r}=e;return t&&n?(0,qa.jsxs)("div",{className:"flex items-start gap-2",children:[(0,qa.jsx)("img",{src:To,className:"w-5 h-5 mt-0.5",alt:"location"}),(0,qa.jsxs)("span",{className:"text-[14px] text-[#666666]",style:{fontFamily:"Inter, sans-serif"},children:[t,", ",n,r&&", ".concat(r)]})]}):null},vu=e=>{var t;let{editOpen:n,setEditOpen:r,editVehicle:i,isLoading:a,preview:o,additionalImages:s,handleChange:l,handleCarImageChange:u,handleAdditionalImagesChange:d,removeAdditionalImage:h,handleSave:p,handleDelete:m,setEditVehicle:f}=e;return(0,qa.jsx)("aside",{className:"md:w-[380px]",children:(0,qa.jsxs)("div",{className:"sticky top-6 bg-white p-6 rounded-[12px] shadow-lg border border-[#E5E5E5]",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qa.jsx)("h2",{className:"text-[20px] font-semibold text-[#000000]",style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:"Edit Car Details"}),(0,qa.jsx)("button",{onClick:()=>r(e=>!e),type:"button","aria-label":n?"Hide form":"Show form",className:"w-auto px-3 h-8 flex items-center justify-center rounded-full text-white text-sm font-medium transition-colors  bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] shadow-md hover:opacity-90",children:n?"Hide":"Show"})]}),n&&(0,qa.jsxs)("div",{className:"space-y-5 max-h-[70vh] overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"#E5E5E5 transparent"},children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Car Name"}),(0,qa.jsx)("input",{name:"name",value:i.name,onChange:l,placeholder:"e.g., Toyota Innova",className:"w-full border border-gray-300 rounded-lg p-2 text-[14px] focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Car Model"}),(0,qa.jsx)("input",{name:"model",value:i.model,onChange:l,placeholder:"e.g., 2022",className:"w-full border border-gray-300 rounded-lg p-2 text-[14px] focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qa.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#F8F9FA] rounded-[8px] border border-[#E5E5E5]",children:[(0,qa.jsx)("label",{className:"text-[14px] font-medium text-[#333333]",style:{fontFamily:"Inter, sans-serif",fontWeight:500},children:"AC Available"}),(0,qa.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,qa.jsx)("input",{type:"checkbox",name:"ac",checked:"ac"===(null===(t=i.ac)||void 0===t?void 0:t.toLowerCase()),onChange:e=>{const t=e.target.checked;f(e=>c(c({},e),{},{ac:t?"AC":"Non-AC"}))},className:"sr-only peer"}),(0,qa.jsx)("div",{className:"w-11 h-6 bg-[#E5E5E5] peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-[#0A0747] peer-checked:to-[#4EC8FF]"})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-[14px] font-medium text-[#000000] mb-2",style:{fontFamily:"Inter, sans-serif",fontWeight:500},children:"Description"}),(0,qa.jsx)("textarea",{name:"description",value:i.description,onChange:l,placeholder:"Car Description",className:"w-full border border-[#E5E5E5] rounded-[8px] p-3 h-20 resize-none text-[14px] text-[#333333] placeholder-[#999999] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-[14px] font-medium text-[#000000] mb-2",style:{fontFamily:"Inter, sans-serif",fontWeight:500},children:"Price"}),(0,qa.jsxs)("div",{className:"space-y-2",children:[(0,qa.jsx)("label",{className:"block text-[13px] text-[#666666]",style:{fontFamily:"Inter, sans-serif"},children:"Rent Price (per hour / per DAY)"}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsxs)("div",{className:"relative flex-1",children:[(0,qa.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#666666]",style:{fontFamily:"Inter, sans-serif"},children:"\u20b9"}),(0,qa.jsx)("input",{type:"number",name:"price",value:i.price,onChange:l,placeholder:"250",className:"w-full border border-[#E5E5E5] rounded-[8px] pl-7 pr-3 py-2.5 text-[14px] text-[#333333] placeholder-[#999999] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"},min:"1",required:!0})]}),(0,qa.jsxs)("select",{className:"border border-[#E5E5E5] rounded-[8px] px-3 py-2.5 text-[14px] text-[#333333] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"},children:[(0,qa.jsx)("option",{children:"Hour"}),(0,qa.jsx)("option",{children:"Day"})]})]})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-[13px] text-[#666666] mb-1.5",style:{fontFamily:"Inter, sans-serif"},children:"Transmission"}),(0,qa.jsxs)("select",{name:"transmission",value:i.transmission,onChange:l,className:"w-full border border-[#E5E5E5] rounded-[8px] p-2.5 text-[14px] text-[#333333] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"},children:[(0,qa.jsx)("option",{value:"Automatic",children:"Automatic"}),(0,qa.jsx)("option",{value:"Manual",children:"Manual"})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-[13px] text-[#666666] mb-1.5",style:{fontFamily:"Inter, sans-serif"},children:"Fuel Type"}),(0,qa.jsxs)("select",{name:"fuel",value:i.fuel,onChange:l,className:"w-full border border-[#E5E5E5] rounded-[8px] p-2.5 text-[14px] text-[#333333] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"},children:[(0,qa.jsx)("option",{value:"Petrol",children:"Petrol"}),(0,qa.jsx)("option",{value:"Diesel",children:"Diesel"}),(0,qa.jsx)("option",{value:"Electric",children:"Electric"}),(0,qa.jsx)("option",{value:"Hybrid",children:"Hybrid"})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-[13px] text-[#666666] mb-1.5",style:{fontFamily:"Inter, sans-serif"},children:"Seating Capacity"}),(0,qa.jsx)("input",{type:"number",name:"seats",value:i.seats.toString().replace(/[^\d]/g,""),onChange:l,placeholder:"5",className:"w-full border border-[#E5E5E5] rounded-[8px] p-2.5 text-[14px] text-[#333333] placeholder-[#999999] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"},min:"1",max:"20"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"text-[14px] font-semibold text-[#000000] mb-3",style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:"Your Contact Information"}),(0,qa.jsxs)("div",{className:"space-y-3",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-[13px] text-[#666666] mb-1.5",style:{fontFamily:"Inter, sans-serif"},children:"Name"}),(0,qa.jsx)("input",{name:"contactName",value:i.contactName,onChange:l,placeholder:"Manoj Kumar",className:"w-full border border-[#E5E5E5] rounded-[8px] p-2.5 text-[14px] text-[#333333] placeholder-[#999999] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-[13px] text-[#666666] mb-1.5",style:{fontFamily:"Inter, sans-serif"},children:"Contact Number"}),(0,qa.jsx)("input",{name:"contactNumber",value:i.contactNumber,onChange:l,placeholder:"1234567898",className:"w-full border border-[#E5E5E5] rounded-[8px] p-2.5 text-[14px] text-[#333333] placeholder-[#999999] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})]})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"text-[14px] font-semibold text-[#000000] mb-3",style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:"Customer Required Documents"}),(0,qa.jsxs)("div",{className:"space-y-2",children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#F8F9FA] rounded-[8px] border border-[#E5E5E5]",children:[(0,qa.jsx)("label",{className:"text-[13px] text-[#333333]",style:{fontFamily:"Inter, sans-serif"},children:"Driving License"}),(0,qa.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,qa.jsx)("input",{type:"checkbox",name:"requireDrivingLicense",checked:i.requireDrivingLicense,onChange:l,className:"sr-only peer"}),(0,qa.jsx)("div",{className:"w-11 h-6 bg-[#E5E5E5] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-[#0A0747] peer-checked:to-[#4EC8FF]"})]})]}),(0,qa.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#F8F9FA] rounded-[8px] border border-[#E5E5E5]",children:[(0,qa.jsx)("label",{className:"text-[13px] text-[#333333]",style:{fontFamily:"Inter, sans-serif"},children:"Aadhar Card"}),(0,qa.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,qa.jsx)("input",{type:"checkbox",name:"requireAadharCard",checked:i.requireAadharCard,onChange:l,className:"sr-only peer"}),(0,qa.jsx)("div",{className:"w-11 h-6 bg-[#E5E5E5] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-[#0A0747] peer-checked:to-[#4EC8FF]"})]})]})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"text-[14px] font-semibold text-[#000000] mb-3",style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:"Deposit Vehicle"}),(0,qa.jsxs)("div",{className:"mt-3",children:[(0,qa.jsx)("label",{className:"block text-[13px] text-[#666666] mb-1.5",style:{fontFamily:"Inter, sans-serif"},children:"Deposit Money"}),(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#666666]",style:{fontFamily:"Inter, sans-serif"},children:"\u20b9"}),(0,qa.jsx)("input",{type:"number",name:"depositMoney",value:i.depositMoney,onChange:l,placeholder:"16300",className:"w-full border border-[#E5E5E5] rounded-[8px] pl-7 pr-3 py-2.5 text-[14px] text-[#333333] placeholder-[#999999] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"},min:"0"})]})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h3",{className:"text-[14px] font-semibold text-[#000000] mb-3",style:{fontFamily:"Inter, sans-serif",fontWeight:600},children:"Vehicle Pickup Address"}),(0,qa.jsxs)("div",{className:"space-y-3",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-[13px] text-[#666666] mb-1.5",style:{fontFamily:"Inter, sans-serif"},children:"Place"}),(0,qa.jsx)("input",{name:"doorName",value:i.doorName,onChange:l,placeholder:"Door Name",className:"w-full border border-[#E5E5E5] rounded-[8px] p-2.5 text-[14px] text-[#333333] placeholder-[#999999] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-[13px] text-[#666666] mb-1.5",style:{fontFamily:"Inter, sans-serif"},children:"City"}),(0,qa.jsx)("input",{name:"city",value:i.city,onChange:l,placeholder:"Hyderabad",className:"w-full border border-[#E5E5E5] rounded-[8px] p-2.5 text-[14px] text-[#333333] placeholder-[#999999] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-[13px] text-[#666666] mb-1.5",style:{fontFamily:"Inter, sans-serif"},children:"State"}),(0,qa.jsx)("input",{name:"state",value:i.state,onChange:l,placeholder:"Telangana",className:"w-full border border-[#E5E5E5] rounded-[8px] p-2.5 text-[14px] text-[#333333] placeholder-[#999999] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-[13px] text-[#666666] mb-1.5",style:{fontFamily:"Inter, sans-serif"},children:"Pincode"}),(0,qa.jsx)("input",{name:"pincode",value:i.pincode,onChange:l,placeholder:"500064",className:"w-full border border-[#E5E5E5] rounded-[8px] p-2.5 text-[14px] text-[#333333] placeholder-[#999999] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-[13px] text-[#666666] mb-1.5",style:{fontFamily:"Inter, sans-serif"},children:"Street"}),(0,qa.jsx)("input",{name:"street",value:i.street,onChange:l,placeholder:"Gachibowli",className:"w-full border border-[#E5E5E5] rounded-[8px] p-2.5 text-[14px] text-[#333333] placeholder-[#999999] focus:ring-2 focus:ring-[#0066FF] focus:border-transparent",style:{fontFamily:"Inter, sans-serif"}})]})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("button",{onClick:()=>{var e;return null===(e=document.getElementById("main-image-upload"))||void 0===e?void 0:e.click()},className:"w-full border-2 border-dashed border-[#E5E5E5] rounded-[8px] p-6 flex flex-col items-center justify-center hover:border-[#0066FF] transition-all bg-[#F8F9FA]",type:"button",children:[(0,qa.jsx)("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mb-2 shadow-sm",children:(0,qa.jsx)("span",{className:"text-2xl",children:"\ud83d\udcf7"})}),(0,qa.jsx)("p",{className:"text-[14px] font-medium text-[#333333] mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Add photos"}),(0,qa.jsx)("p",{className:"text-[12px] text-[#999999] text-center",style:{fontFamily:"Inter, sans-serif"},children:"Please, first Choose your car image will add supporting pictures to verify your details"})]}),(0,qa.jsx)("input",{id:"main-image-upload",type:"file",accept:"image/*",className:"hidden",onChange:u}),o&&(0,qa.jsx)("div",{className:"mt-3 relative",children:(0,qa.jsx)("img",{src:o,alt:"Preview",className:"w-full h-40 object-cover rounded-[8px]"})}),s.length>0&&(0,qa.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-3",children:s.map((e,t)=>(0,qa.jsxs)("div",{className:"relative group",children:[(0,qa.jsx)("img",{src:URL.createObjectURL(e),alt:"Additional ".concat(t+1),className:"w-full h-20 object-cover rounded-[8px]"}),(0,qa.jsx)("button",{onClick:()=>h(t),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600 transition",type:"button",children:"\xd7"})]},t))}),s.length<4&&(0,qa.jsx)("div",{className:"mt-2",children:(0,qa.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"w-full text-sm",style:{fontFamily:"Inter, sans-serif"},onChange:d})})]}),(0,qa.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,qa.jsx)("button",{onClick:p,disabled:a,className:"flex-1 bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white py-3 rounded-[8px] hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-[14px]",style:{fontFamily:"Inter, sans-serif"},type:"button",children:a?"Saving...":"Save Changes"}),(0,qa.jsx)("button",{onClick:m,disabled:a,className:"px-6 bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white py-3 rounded-[8px] hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-[14px]",type:"button",children:"Delete"})]})]})]})})},xu=()=>{const{carId:e}=ve(),t=me(),{carData:n,openEditForm:i}=t&&t.state||{},[a,o]=(0,r.useState)(!0),{editVehicle:s,setEditVehicle:l,isLoading:c,isFetching:u,carImage:d,preview:h,additionalImages:p,handleChange:m,handleCarImageChange:f,handleAdditionalImagesChange:g,removeAdditionalImage:y,handleSave:v,handleDelete:x}=mu(e,n);return(0,r.useEffect)(()=>{i&&o(!0)},[i]),u?(0,qa.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,qa.jsxs)("div",{className:"bg-white p-6 rounded-lg",children:[(0,qa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,qa.jsx)("p",{className:"mt-4 text-gray-700 font-medium",children:"Loading car details..."})]})}):(0,qa.jsxs)("div",{className:"min-h-screen bg-white px-4 sm:px-6 py-6 sm:py-10",children:[c&&(0,qa.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:(0,qa.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[(0,qa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,qa.jsx)("p",{className:"mt-4 text-gray-700 font-medium",children:"Processing..."})]})}),(0,qa.jsxs)("div",{className:"max-w-[1400px] mx-auto flex flex-col lg:flex-row gap-8",children:[(0,qa.jsxs)("div",{className:"flex-1 bg-white",children:[(0,qa.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 mb-6",children:[(0,qa.jsx)(fu,{mainImage:h||s.image,vehicleName:s.name,additionalImages:p}),(0,qa.jsx)(gu,{vehicle:s})]}),(0,qa.jsx)(yu,{street:s.street,city:s.city,pincode:s.pincode})]}),(0,qa.jsx)(vu,{editOpen:a,setEditOpen:o,editVehicle:s,isLoading:c,preview:h,additionalImages:p,handleChange:m,handleCarImageChange:f,handleAdditionalImagesChange:g,removeAdditionalImage:y,handleSave:v,handleDelete:x,setEditVehicle:l})]})]})},bu=e=>{let{images:t,currentIndex:n,onPrev:r,onNext:i,onSelectIndex:a}=e;return(0,qa.jsxs)("div",{className:"relative w-300px md:w-[420px] h-[300px] flex-shrink-0 rounded-[10px] border-2 border-transparent hover:border-[#0066FF] transition-all duration-200",children:[(0,qa.jsx)("img",{src:t[n],alt:"image-".concat(n),className:"w-full h-full object-cover transition-all duration-500 rounded-[10px]"}),(0,qa.jsx)("button",{onClick:e=>{e.stopPropagation(),r()},className:"absolute left-3 top-1/2 -translate-y-1/2 w-12 h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center shadow-2xl z-20 transition-all cursor-pointer border border-gray-200",type:"button","aria-label":"Previous image",children:(0,qa.jsx)("svg",{className:"w-6 h-6 text-gray-800 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),(0,qa.jsx)("button",{onClick:e=>{e.stopPropagation(),i()},className:"absolute right-3 top-1/2 -translate-y-1/2 w-12 h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center shadow-2xl z-20 transition-all cursor-pointer border border-gray-200",type:"button","aria-label":"Next image",children:(0,qa.jsx)("svg",{className:"w-6 h-6 text-gray-800 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),(0,qa.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-1.5",children:t.map((e,t)=>(0,qa.jsx)("button",{onClick:()=>a(t),className:"h-2 rounded-full transition-all ".concat(t===n?"bg-[#0066FF] w-6":"bg-gray-700 w-2"),"aria-label":"Select image ".concat(t+1),type:"button"},t))})]})},wu=e=>{let{editOpen:t,setEditOpen:n,editVehicle:r,preview:i,additionalImages:a,handleChange:o,handleBikeImageChange:s,handleAdditionalImagesChange:l,removeAdditionalImage:c,handleSave:u,handleDelete:d,isLoading:h}=e;return(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsxs)("div",{className:"flex items-center justify-between w-full mb-4",children:[(0,qa.jsx)("h2",{className:"text-2xl font-semibold",children:"Edit Bike Details"}),(0,qa.jsx)("button",{onClick:()=>n(e=>!e),type:"button","aria-label":t?"Hide form":"Show form",className:"w-auto px-3 h-8 flex items-center justify-center rounded-full text-white text-sm font-medium transition-colors bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] shadow-md hover:opacity-90",children:t?"Hide":"Show"})]}),t&&(0,qa.jsxs)("div",{className:"space-y-4 max-h-[calc(100vh-200px)] overflow-y-auto pr-2",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Bike Name "}),(0,qa.jsx)("input",{name:"name",value:r.name,onChange:o,placeholder:"e.g., Royal Enfield Classic 350",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Bike Model"}),(0,qa.jsx)("input",{name:"BikeModel",value:r.BikeModel,onChange:o,placeholder:"e.g., BS6",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Description"}),(0,qa.jsx)("textarea",{name:"description",value:r.description,onChange:o,placeholder:"Describe your bike...",className:"w-full border border-gray-300 rounded-lg p-2 h-24 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Price per KM "}),(0,qa.jsx)("input",{type:"number",name:"price",value:r.price,onChange:o,placeholder:"10",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1",required:!0})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Contact Name"}),(0,qa.jsx)("input",{name:"contactName",value:r.contactName,onChange:o,placeholder:"John Doe",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Contact Number"}),(0,qa.jsx)("input",{name:"contactNumber",value:r.contactNumber,onChange:o,placeholder:"9876543210",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"City"}),(0,qa.jsx)("input",{name:"city",value:r.city,onChange:o,placeholder:"Hyderabad",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Street/Area"}),(0,qa.jsx)("input",{name:"street",value:r.street,onChange:o,placeholder:"Banjara Hills",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Pincode"}),(0,qa.jsx)("input",{name:"pincode",value:r.pincode,onChange:o,placeholder:"500034",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"State"}),(0,qa.jsx)("input",{name:"state",value:r.state,onChange:o,placeholder:"Telangana",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Country"}),(0,qa.jsx)("input",{name:"country",value:r.country,onChange:o,placeholder:"India",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,qa.jsxs)("div",{className:"space-y-2 p-3 bg-gray-50 rounded-lg",children:[(0,qa.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Required Documents"}),(0,qa.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,qa.jsx)("input",{type:"checkbox",name:"requireDrivingLicense",checked:!!r.requireDrivingLicense,onChange:o,className:"rounded"}),(0,qa.jsx)("span",{className:"text-sm text-gray-700",children:"Require Driving License"})]}),(0,qa.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,qa.jsx)("input",{type:"checkbox",name:"requireAadharCard",checked:!!r.requireAadharCard,onChange:o,className:"rounded"}),(0,qa.jsx)("span",{className:"text-sm text-gray-700",children:"Require Aadhar Card"})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Deposit Amount (\u20b9)"}),(0,qa.jsx)("input",{type:"number",name:"depositMoney",value:r.depositMoney,onChange:o,placeholder:"3000",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Main Bike Image"}),(0,qa.jsxs)("div",{className:"w-full h-[180px] border-2 border-dashed border-gray-300 rounded-md flex items-center justify-center relative bg-gray-50 hover:bg-gray-100 transition",children:[i?(0,qa.jsx)("img",{src:i,alt:"Bike Preview",className:"w-full h-full object-cover rounded-md"}):(0,qa.jsxs)("div",{className:"text-center",children:[(0,qa.jsx)("p",{className:"text-gray-500",children:"\ud83d\udcf7 Click to upload bike photo"}),(0,qa.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG up to 5MB"})]}),(0,qa.jsx)("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:s})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("label",{className:"block text-gray-700 font-medium mb-2",children:["Additional Images (Max 4)",a.length>0&&(0,qa.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",a.length,"/4)"]})]}),(0,qa.jsxs)("div",{className:"w-full border-2 border-dashed border-gray-300 rounded-md p-4 bg-gray-50",children:[(0,qa.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"w-full",onChange:l,disabled:a.length>=4}),a.length>0&&(0,qa.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-3",children:a.map((e,t)=>(0,qa.jsxs)("div",{className:"relative group",children:[(0,qa.jsx)("img",{src:URL.createObjectURL(e),alt:"Additional ".concat(t+1),className:"w-full h-20 object-cover rounded"}),(0,qa.jsx)("button",{onClick:()=>c(t),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600 transition",type:"button",children:"\xd7"})]},t))})]})]}),(0,qa.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,qa.jsx)("button",{onClick:u,disabled:h,className:"flex-1 bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white py-3 rounded-[8px] hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-[14px]",type:"button",children:h?"Saving...":"Save Changes"}),(0,qa.jsx)("button",{onClick:d,disabled:h,className:"px-6 bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white py-3 rounded-[8px] hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-[14px]",type:"button",children:"Delete"})]})]})]})};function ku(e){var t,n,r,i,a,o;const s={name:"Royal Enfield Classic 350",BikeModel:"BS6",price:"10",rating:"4.5",image:Ds,description:"Well-maintained bike for rent",contactName:"Owner Name",contactNumber:"1234567890",email:"owner@example.com",city:"",street:"",pincode:"",doorName:"",isAvailable:!0,engineCapacity:"350",transmission:"Manual",fuel:"Petrol"};return c(c({},s),{},{name:"".concat((null===e||void 0===e?void 0:e.bikeName)||(null===e||void 0===e?void 0:e.name)||""," ").concat((null===e||void 0===e?void 0:e.bikeModel)||(null===e||void 0===e?void 0:e.BikeModel)||(null===e||void 0===e?void 0:e.model)||"").trim(),bikenumber:(null===e||void 0===e?void 0:e.bikeNumber)||"",BikeNumber:(null===e||void 0===e?void 0:e.bikeNumber)||"",BikeModel:(null===e||void 0===e?void 0:e.bikeModel)||(null===e||void 0===e?void 0:e.model)||"",price:null!==(t=null!==(n=null===e||void 0===e?void 0:e.pricePerKm)&&void 0!==n?n:null===e||void 0===e?void 0:e.price)&&void 0!==t?t:s.price,rating:(null===e||void 0===e||null===(r=e.rating)||void 0===r||null===(i=r.toString)||void 0===i?void 0:i.call(r))||s.rating,image:(null===e||void 0===e||null===(a=e.bikeImages)||void 0===a?void 0:a[0])||(null===e||void 0===e?void 0:e.image)||s.image,description:(null===e||void 0===e?void 0:e.description)||s.description,contactName:(null===e||void 0===e?void 0:e.contactName)||s.contactName,contactNumber:(null===e||void 0===e?void 0:e.contactNumber)||s.contactNumber,email:(null===e||void 0===e?void 0:e.email)||s.email,id:(null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id)||void 0,userId:(null===e||void 0===e?void 0:e.userId)||(null===e||void 0===e?void 0:e.user_id)||void 0,isAvailable:!1!==(null===e||void 0===e?void 0:e.Available)&&!1!==(null===e||void 0===e?void 0:e.isAvailable),city:(null===e||void 0===e?void 0:e.pickupCity)||(null===e||void 0===e?void 0:e.city)||"",street:(null===e||void 0===e?void 0:e.pickupArea)||(null===e||void 0===e?void 0:e.street)||"",pincode:(null===e||void 0===e?void 0:e.pickupCityPinCode)||(null===e||void 0===e?void 0:e.pincode)||"",state:(null===e||void 0===e?void 0:e.pickupCityState)||(null===e||void 0===e?void 0:e.state)||"",country:(null===e||void 0===e?void 0:e.pickupCityCountry)||(null===e||void 0===e?void 0:e.country)||"India",requireDrivingLicense:"true"===(null===e||void 0===e?void 0:e.drivingLicenseRequired)||!0===(null===e||void 0===e?void 0:e.drivingLicenseRequired),requireAadharCard:"true"===(null===e||void 0===e?void 0:e.AadharCardRequired)||!0===(null===e||void 0===e?void 0:e.AadharCardRequired),depositMoney:(null===e||void 0===e||null===(o=e.DepositAmount)||void 0===o?void 0:o.toString())||"",engineCapacity:(null===e||void 0===e?void 0:e.engineCapacity)||"350",transmission:(null===e||void 0===e?void 0:e.transmission)||"Manual",fuel:(null===e||void 0===e?void 0:e.fuel)||"Petrol"})}function Su(e){let{bikeId:t,bikeData:n,openEditForm:i}=e;const a=ye(),o={name:"Royal Enfield Classic 350",BikeModel:"BS6",price:"10",rating:"4.5",image:Ds,description:"Well-maintained bike for rent",contactName:"Owner Name",contactNumber:"1234567890",email:"owner@example.com",city:"",street:"",pincode:"",doorName:"",isAvailable:!0,engineCapacity:"350",transmission:"Manual",fuel:"Petrol"},[s,l]=(0,r.useState)(!!i),[u,d]=(0,r.useState)(c({},o)),[h,p]=(0,r.useState)(c({},o)),[m,f]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[v,x]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[k,S]=(0,r.useState)([]),[N,_]=(0,r.useState)(""),[C,A]=(0,r.useState)(0);(0,r.useEffect)(()=>{if(t&&!n)j(t);else if(n){const e=ku(n);d(e),p(e),w(e.image||null)}const e=localStorage.getItem("userId");e&&!N&&_(e)},[t,n]);const j=async e=>{try{y(!0);const t=await La.bike.getBikeById(e),n=t.data||t,r=ku(n.bike||n);d(r),p(r),w(r.image||null)}catch(kN){console.error("fetchBikeDetails error",kN),alert("Failed to load bike details")}finally{y(!1)}},E=k.length>0?[b||u.image||Ds,...k.map(e=>URL.createObjectURL(e))]:[b||u.image||Ds];for(;E.length<3;)E.push(E[E.length-1]);return{editOpen:s,setEditOpen:l,editVehicle:u,originalVehicle:h,isLoading:m,isFetching:g,preview:b,additionalImages:k,bikeImage:v,currentImageIndex:C,setCurrentImageIndex:A,carouselImages:E,handleChange:e=>{const{name:t,value:n,type:r}=e.target;if("checkbox"===r){const n=e.target.checked;d(e=>c(c({},e),{},{[t]:n}))}else d(e=>c(c({},e),{},{[t]:n}))},handleBikeImageChange:e=>{var t,n;const r=null!==(t=null===(n=e.target.files)||void 0===n?void 0:n[0])&&void 0!==t?t:null;if(r){x(r);const e=URL.createObjectURL(r);w(e),d(t=>c(c({},t),{},{image:e}))}},handleAdditionalImagesChange:e=>{const t=e.target.files;if(t){const e=Array.from(t).slice(0,4-k.length);S(t=>[...t,...e])}},removeAdditionalImage:e=>{S(t=>t.filter((t,n)=>n!==e))},handleSave:async()=>{var e;const n=u.id||t;if(!n)return void alert("Bike ID missing \u2014 cannot update.");const r=(u.name||"").trim(),i=(null!==(e=u.price)&&void 0!==e?e:"").toString().trim();if(r)if(!i||"0"===i||Number(i)<=0)alert("Valid price is required (must be greater than 0)");else{f(!0);try{var o;const e=(()=>{let e=N||localStorage.getItem("userId")||u.userId||null;if(!e){const t=["user","userData","currentUser","authUser","userInfo"];for(const n of t){const t=localStorage.getItem(n);if(t){try{const n=JSON.parse(t);e=n._id||n.id||n.userId||n.user_id||n.uid||e}catch(nl){t&&t.length>=10&&/^[a-f0-9]+$/i.test(t)&&(e=t)}if(e)break}}}return e})();if(!e)return alert("User ID is missing. Please enter it manually in the form."),void f(!1);const t=r.split(" "),s=t[0]||r,l=function(e){const t=new FormData;if(t.append("userId",e.userId),t.append("bikeName",e.bikeName),t.append("bikeModel",e.bikeModel),t.append("bikeNumber",e.bikeNumber||""),t.append("pricePerKm",e.pricePerKm),e.description&&t.append("description",e.description),e.contactName&&t.append("contactName",e.contactName),e.contactNumber&&t.append("contactNumber",e.contactNumber),e.address){const{pickupCity:n,pickupArea:r,pickupCityPinCode:i,pickupCityState:a,pickupCityCountry:o}=e.address;n&&t.append("pickupCity",n),r&&t.append("pickupArea",r),i&&t.append("pickupCityPinCode",i),a&&t.append("pickupCityState",a),o&&t.append("pickupCityCountry",o)}return t.append("latitude",e.latitude||"17.443649"),t.append("longitude",e.longitude||"78.445824"),t.append("InsuranceNo",e.insuranceNo||"0987654321"),e.requireDrivingLicense&&t.append("drivingLicenseRequired","true"),e.requireAadharCard&&t.append("AadharCardRequired","true"),e.depositMoney&&"0"!==e.depositMoney&&t.append("DepositAmount",e.depositMoney),e.mainImage&&t.append("bikeImages",e.mainImage),e.additionalImages&&e.additionalImages.length&&e.additionalImages.forEach(e=>t.append("bikeImages",e)),t}({userId:e,bikeName:s,bikeModel:t.slice(1).join(" ")||u.BikeModel||"",bikeNumber:u.BikeNumber||"",pricePerKm:i,description:u.description||"",contactName:u.contactName,contactNumber:u.contactNumber,address:{pickupCity:u.city,pickupArea:u.street,pickupCityPinCode:u.pincode,pickupCityState:u.state,pickupCityCountry:u.country},requireDrivingLicense:!!u.requireDrivingLicense,requireAadharCard:!!u.requireAadharCard,depositMoney:u.depositMoney,latitude:"17.443649",longitude:"78.445824",insuranceNo:"0987654321",mainImage:v,additionalImages:k}),c=await La.bike.updateBikeById(n,l),h=c.data||c;if(!(null!==h&&void 0!==h&&null!==(o=h.message)&&void 0!==o&&o.toLowerCase().includes("updated")||null!==h&&void 0!==h&&h.success||null!==h&&void 0!==h&&h.bike))throw new Error((null===h||void 0===h?void 0:h.message)||"Update failed");if(alert("Bike updated successfully!"),h.bike){const e=ku(h.bike);d(e),p(e),w(e.image||null)}else await j(n);x(null),S([]),a("/listed-bike",{state:{refresh:!0}})}catch(kN){var s,l;console.error("Update Error:",kN);const t=(null===kN||void 0===kN||null===(s=kN.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||kN.message||"Unknown error occurred";alert("Failed to update bike: ".concat(t))}finally{f(!1)}}else alert("Bike name is required")},handleDelete:async()=>{const e=u.id||t;if(e){if(window.confirm('Are you sure you want to delete "'.concat(u.name,'"? This cannot be undone.'))){f(!0);try{var n;const t=await La.bike.deleteBikeById(e),r=t.data||t;if(!(null!==r&&void 0!==r&&null!==(n=r.message)&&void 0!==n&&n.toLowerCase().includes("deleted")||null!==r&&void 0!==r&&r.success))throw new Error((null===r||void 0===r?void 0:r.message)||"Delete failed");alert("Bike deleted successfully!"),a("/listed-bikes",{state:{refresh:!0}})}catch(kN){var r,i;console.error("Delete Bike Error:",kN);const t=(null===kN||void 0===kN||null===(r=kN.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||kN.message||"Unknown error";alert("Failed to delete bike: ".concat(t))}finally{f(!1)}}}else alert("Vehicle ID missing \u2014 cannot delete.")}}}const Nu=()=>{const{bikeId:e}=ve(),t=me(),{bikeData:r,openEditForm:i}=t&&t.state||{},{editVehicle:a,originalVehicle:o,isLoading:s,isFetching:l,preview:c,additionalImages:u,currentImageIndex:d,carouselImages:h,editOpen:p,setEditOpen:m,setCurrentImageIndex:f,handleBikeImageChange:g,handleAdditionalImagesChange:y,removeAdditionalImage:v,handleChange:x,handleSave:b,handleDelete:w}=Su({bikeId:e,bikeData:r,openEditForm:i});return l?(0,qa.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,qa.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[(0,qa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,qa.jsx)("p",{className:"mt-4 text-gray-700 font-medium",children:"Loading bike details..."})]})}):(0,qa.jsxs)("div",{className:"min-h-screen bg-gray-50 px-4 py-6",children:[s&&(0,qa.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:(0,qa.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[(0,qa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,qa.jsx)("p",{className:"mt-4 text-gray-700 font-medium",children:"Processing..."})]})}),(0,qa.jsxs)("div",{className:"max-w-[1400px] mx-auto flex flex-col lg:flex-row gap-8",children:[(0,qa.jsxs)("div",{className:"flex-1 bg-white p-6 rounded-2xl shadow-lg",children:[(0,qa.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 mb-6",children:[(0,qa.jsx)(bu,{images:h,currentIndex:d,onPrev:()=>f(e=>0===e?h.length-1:e-1),onNext:()=>f(e=>e===h.length-1?0:e+1),onSelectIndex:e=>f(e)}),(0,qa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qa.jsx)("div",{className:"flex items-start justify-between gap-4 mb-1",children:(0,qa.jsx)("h1",{className:"text-[32px] font-bold text-[#000000] leading-tight cursor-pointer hover:underline hover:decoration-[#0066FF] hover:decoration-2 transition-all",style:{fontFamily:"Inter, sans-serif",fontWeight:700},children:a.name})}),a.BikeNumber&&(0,qa.jsx)("div",{className:"mt-2",children:(0,qa.jsx)("p",{className:"text-lg text-gray-600 font-medium",children:a.BikeNumber})}),a.BikeModel&&(0,qa.jsx)("div",{className:"mt-1",children:(0,qa.jsxs)("p",{className:"text-md text-gray-500",children:["Model: ",a.BikeModel]})}),(0,qa.jsxs)("div",{className:"flex items-baseline mt-2 cursor-pointer hover:underline hover:decoration-[#0066FF] hover:decoration-2",children:[(0,qa.jsxs)("span",{className:"text-3xl font-bold",children:["\u20b9",a.price]}),(0,qa.jsx)("span",{className:"text-gray-500 ml-2 text-sm",children:"/km"})]}),(0,qa.jsx)("div",{className:"border border-[#E5E5E5] rounded-[10px] overflow-hidden bg-white mb-4 mt-4 cursor-pointer hover:border-[#0066FF] hover:border-2 transition-all duration-200",children:(0,qa.jsxs)("div",{className:"flex items-center gap-0",children:[(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-3 px-4",children:[(0,qa.jsx)("img",{src:n(64),className:"w-6 h-6 mb-1.5",alt:"engine"}),(0,qa.jsxs)("span",{className:"text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:[a.engineCapacity," CC"]})]}),(0,qa.jsx)("div",{className:"w-[1px] h-12 bg-[#E5E5E5]"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-3 px-4",children:[(0,qa.jsx)("img",{src:n(993),className:"w-6 h-6 mb-1.5",alt:"transmission"}),(0,qa.jsx)("span",{className:"text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:a.transmission})]}),(0,qa.jsx)("div",{className:"w-[1px] h-12 bg-[#E5E5E5]"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-3 px-4",children:[(0,qa.jsx)("img",{src:n(75),className:"w-6 h-6 mb-1.5",alt:"fuel"}),(0,qa.jsx)("span",{className:"text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:a.fuel})]})]})}),(0,qa.jsxs)("div",{className:"border border-[#E5E5E5] rounded-[10px] p-4 bg-white mb-4 cursor-pointer hover:border-[#0066FF] hover:border-2 transition-all duration-200",children:[(0,qa.jsx)("h2",{className:"text-[18px] font-bold text-[#000000] mb-2 cursor-pointer hover:underline hover:decoration-[#0066FF] hover:decoration-2 transition-all",style:{fontFamily:"Inter, sans-serif",fontWeight:700},children:"Description"}),(0,qa.jsx)("p",{className:"text-[#666666] text-[14px] leading-[1.6] min-h-[40px]",style:{fontFamily:"Inter, sans-serif"},children:a.description})]})]})]}),a.street&&a.city&&(0,qa.jsxs)("div",{className:"flex items-start gap-2",children:[(0,qa.jsx)("img",{src:n(836),className:"w-5 h-5 mt-0.5",alt:"location"}),(0,qa.jsxs)("span",{className:"text-[14px] text-[#666666]",style:{fontFamily:"Inter, sans-serif"},children:[a.street,", ",a.city,a.pincode&&", ".concat(a.pincode)]})]})]}),(0,qa.jsx)("aside",{className:"md:w-[380px]",children:(0,qa.jsx)("div",{className:"sticky top-6 bg-white p-6 rounded-2xl shadow-lg",children:(0,qa.jsx)(wu,{editOpen:p,setEditOpen:m,editVehicle:a,preview:c,additionalImages:u,handleChange:x,handleBikeImageChange:g,handleAdditionalImagesChange:y,removeAdditionalImage:v,handleSave:b,handleDelete:w,isLoading:s})})})]})]})},_u="http://3.110.122.127:3000",Cu=async(e,t,n,r)=>(await fetch("".concat(_u,"/getVehicleAvailability?VechileId=").concat(e,"&vechileType=").concat(t,"&startDate=").concat(n,"&endDate=").concat(r))).json(),Au=async e=>{const t=await fetch("".concat(_u,"/createNotAvailability"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e});return{ok:t.ok,status:t.status,data:await t.json()}},ju=async(e,t)=>{const n=await fetch("".concat(_u,"/updateNotAvailability/").concat(e),{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});return{ok:n.ok,status:n.status,data:await n.json()}},Eu=async e=>{const t=await fetch("".concat(_u,"/deleteNotAvailability/").concat(e),{method:"DELETE"});return 204===t.status?{ok:!0,status:204,data:{}}:{ok:t.ok,status:t.status,data:await t.json()}},Tu=e=>{let{currentMonth:t,onPrevMonth:n,onNextMonth:r,loading:i,blockedCount:a,onShowBlocked:o,message:s}=e;return(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsxs)("div",{className:"p-3 sm:p-4 border-b flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,qa.jsx)(ao,{className:"text-blue-600",size:24}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("h2",{className:"font-bold text-base sm:text-lg",children:"Manage Availability"}),(0,qa.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-red-100 text-red-700",children:"Owner"})]})]}),a>0&&(0,qa.jsxs)("button",{onClick:o,className:"w-full sm:w-auto px-3 py-1.5 bg-red-100 text-red-700 rounded-lg text-xs sm:text-sm font-medium",children:["Your Blocks (",a,")"]})]}),s.text&&(0,qa.jsx)("div",{className:"mx-4 mt-4 p-3 rounded-lg text-sm ".concat("error"===s.type?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:s.text}),i&&(0,qa.jsxs)("div",{className:"fixed top-4 right-4 bg-white rounded-lg shadow-lg p-3 flex items-center gap-2 z-50",children:[(0,qa.jsx)(zs,{className:"animate-spin",size:18}),(0,qa.jsx)("span",{className:"text-sm",children:"Loading..."})]}),(0,qa.jsx)("div",{className:"p-3 sm:p-4 pb-0",children:(0,qa.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,qa.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,qa.jsx)(oo,{size:20})}),(0,qa.jsx)("h3",{className:"font-semibold text-sm sm:text-base",children:t.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,qa.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,qa.jsx)(so,{size:20})})]})})]})},Iu=e=>{let{currentMonth:t,selectedStart:n,selectedEnd:r,ownerBlockedDates:i,customerBookedDates:a,onDateClick:o,formatDate:s}=e;const l=e=>{const t=new Date;return t.setHours(0,0,0,0),e<t};return(0,qa.jsxs)("div",{className:"p-3 sm:p-4 pt-0",children:[(0,qa.jsx)("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1 mb-2",children:["Mo","Tu","We","Th","Fr","Sa","Su"].map(e=>(0,qa.jsx)("div",{className:"text-center font-medium text-gray-500 text-xs py-1",children:e},e))}),(0,qa.jsx)("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1 mb-4",children:(()=>{const e=[],c=t.getFullYear(),u=t.getMonth(),d=new Date(c,u+1,0).getDate(),h=new Date(c,u,1).getDay(),p=0===h?6:h-1;for(let t=0;t<p;t++)e.push((0,qa.jsx)("div",{},"e".concat(t)));for(let t=1;t<=d;t++){const d=new Date(c,u,t),h=l(d),p=s(d),m=i.includes(p),f=a.includes(p),g=n&&s(n)===p||r&&s(r)===p;let y="h-10 sm:h-12 rounded-lg font-medium flex items-center justify-center relative transition text-sm ";y+=h?"bg-gray-100 text-gray-400 cursor-not-allowed":f?"bg-green-100 border-2 border-green-400 text-green-700 cursor-pointer":m?"bg-red-100 border-2 border-red-400 text-red-700 hover:bg-red-200 cursor-pointer":g?"bg-black text-white border-2 border-blue-700":"bg-gradient-to-br from-blue-500 to-indigo-500 text-white hover:opacity-90 cursor-pointer",e.push((0,qa.jsxs)("button",{className:y,disabled:h,onClick:()=>o(d),children:[t,f&&(0,qa.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"}),m&&(0,qa.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]},t))}return e})()})]})},Ru=()=>(0,qa.jsx)("div",{className:"px-3 sm:px-4",children:(0,qa.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3 text-xs mb-4 p-2 sm:p-3 bg-gray-50 rounded-lg",children:[(0,qa.jsxs)("div",{className:"flex items-center gap-1",children:[(0,qa.jsx)("div",{className:"w-4 h-4 bg-gradient-to-br from-blue-500 to-indigo-500 rounded"}),(0,qa.jsx)("span",{children:"Available"})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-1",children:[(0,qa.jsx)("div",{className:"w-4 h-4 bg-red-100 border-2 border-red-400 rounded"}),(0,qa.jsx)("span",{children:"Your Blocks"})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-1",children:[(0,qa.jsx)("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-400 rounded"}),(0,qa.jsx)("span",{children:"Customer Bookings (Protected)"})]})]})}),Pu=e=>{let{selectedStart:t,selectedEnd:n,startTime:r,endTime:i,setStartTime:a,setEndTime:o,selectedRecord:s,handleUpdateBlock:l,handleCreateBlock:c,handleCancel:u,loading:d}=e;const h=e=>e?e.toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Select";return(0,qa.jsxs)("div",{className:"p-3 sm:p-4 border-t pt-4",children:[(0,qa.jsxs)("div",{className:"mb-3",children:[(0,qa.jsx)("p",{className:"text-sm text-gray-500",children:"Selected Range:"}),(0,qa.jsxs)("p",{className:"font-semibold",children:[h(t)," \u2192 ",h(n)]}),(0,qa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mt-2",children:[(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("label",{className:"text-xs text-gray-500 block mb-1",children:"Start Time"}),(0,qa.jsx)("input",{type:"time",value:r,onChange:e=>a(e.target.value),className:"w-full p-2 border rounded-lg text-sm"})]}),(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("label",{className:"text-xs text-gray-500 block mb-1",children:"End Time"}),(0,qa.jsx)("input",{type:"time",value:i,onChange:e=>o(e.target.value),className:"w-full p-2 border rounded-lg text-sm"})]})]}),s&&(0,qa.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Editing existing block"})]}),(0,qa.jsx)("div",{className:"flex flex-col sm:flex-row gap-2",children:s?(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)("button",{onClick:l,disabled:!t||!n||d,className:"w-full sm:flex-1 bg-blue-600 text-white py-2.5 sm:py-3 rounded-xl text-sm sm:text-base font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition",children:"Update Block"}),(0,qa.jsx)("button",{onClick:u,className:"w-full sm:w-auto px-4 py-2.5 sm:py-3 bg-gray-200 rounded-xl text-sm sm:text-base hover:bg-gray-300",children:"Cancel"})]}):(0,qa.jsx)("button",{onClick:c,disabled:!t||!n||d,className:"w-full bg-red-600 text-white py-2.5 sm:py-3 rounded-xl text-sm sm:text-base font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-red-700 transition",children:"Block Selected Dates"})})]})},Mu=e=>{let{onClose:t,records:n,onEdit:r,onDelete:i,loading:a}=e;return(0,qa.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,qa.jsxs)("div",{className:"bg-white rounded-xl p-4 sm:p-6 max-w-md w-full max-h-[70vh] overflow-y-auto",children:[(0,qa.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,qa.jsx)("h3",{className:"font-bold text-base sm:text-lg",children:"Your Blocked Dates"}),(0,qa.jsx)("button",{onClick:t,children:(0,qa.jsx)(Wa,{size:20})})]}),0===n.length?(0,qa.jsx)("p",{className:"text-gray-500",children:"No blocked dates"}):(0,qa.jsx)("div",{className:"space-y-2",children:n.map(e=>(0,qa.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,qa.jsx)("div",{className:"flex justify-between items-start mb-2",children:(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("p",{className:"font-semibold",children:[e.from," \u2192 ",e.to]}),(0,qa.jsxs)("p",{className:"text-xs text-gray-500",children:[e.fromTime," - ",e.toTime]})]})}),(0,qa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,qa.jsx)("button",{onClick:()=>r(e),className:"flex-1 px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm font-medium hover:bg-blue-200",children:"Edit"}),(0,qa.jsx)("button",{onClick:()=>i(e.id,e.type),disabled:a,className:"flex-1 px-3 py-1 bg-red-100 text-red-700 rounded text-sm font-medium hover:bg-red-200 disabled:opacity-50",children:"Delete"})]})]},e.id))})]})})},Lu=e=>{let{record:t,onClose:n,onEdit:r,onDelete:i}=e;return(0,qa.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,qa.jsxs)("div",{className:"bg-white rounded-xl p-4 sm:p-6 max-w-sm w-full",children:[(0,qa.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,qa.jsx)("h3",{className:"font-bold text-base sm:text-lg",children:"booking"===t.type?"Customer Booking":"Manage Block"}),(0,qa.jsx)("button",{onClick:n,children:(0,qa.jsx)(Wa,{size:20})})]}),(0,qa.jsxs)("div",{className:"mb-4",children:[(0,qa.jsx)("p",{className:"text-sm text-gray-500",children:"Selected Period:"}),(0,qa.jsxs)("p",{className:"font-semibold",children:[t.from," \u2192 ",t.to]}),(0,qa.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[t.fromTime," - ",t.toTime]}),"booking"===t.type&&(0,qa.jsx)("p",{className:"text-xs text-green-600 mt-2 bg-green-50 p-2 rounded",children:"This is a customer booking and cannot be modified by the owner."})]}),"booking"===t.type?(0,qa.jsx)("button",{onClick:n,className:"w-full bg-gray-200 text-gray-700 py-2.5 rounded-lg text-sm sm:text-base font-medium hover:bg-gray-300",children:"Close"}):(0,qa.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[(0,qa.jsx)("button",{onClick:()=>r(t),className:"w-full sm:flex-1 bg-blue-600 text-white py-2.5 rounded-lg text-sm sm:text-base font-medium hover:bg-blue-700",children:"Edit"}),(0,qa.jsx)("button",{onClick:()=>i(t.id,t.type),className:"w-full sm:flex-1 bg-red-100 text-red-700 py-2.5 rounded-lg text-sm sm:text-base font-medium hover:bg-red-200",children:"Delete"})]})]})})};function Du(e){const{isOpen:t,onClose:n,VechileId:i,vechileType:a,userId:o}=e,{state:s,actions:l}=((e,t,n,i)=>{const[a,o]=(0,r.useState)(new Date),[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)({type:"",text:""}),[p,m]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)("00:00"),[x,b]=(0,r.useState)("23:59"),[w,k]=(0,r.useState)([]),[S,N]=(0,r.useState)([]),[_,C]=(0,r.useState)([]),[A,j]=(0,r.useState)(null),[E,T]=(0,r.useState)(null),I=e=>{if(!e)return"";const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},R=(e,t)=>{h({type:e,text:t}),setTimeout(()=>h({type:"",text:""}),3e3)},P=(0,r.useCallback)(async()=>{try{g(!0);const e=I(new Date(a.getFullYear(),a.getMonth(),1)),r=I(new Date(a.getFullYear(),a.getMonth()+1,0)),i=await Cu(t,n,e,r);if(console.log("=== GET VEHICLE AVAILABILITY ===",JSON.stringify(i,null,2)),i&&Array.isArray(i.availability)){const e=[],t=[],n=[];i.availability.forEach(r=>{"Unavailable"===r.status&&r.slots.forEach(i=>{var a;const o=null===(a=i.type)||void 0===a?void 0:a.toLowerCase();var s,l;if("notavailable"===o)e.includes(r.date)||e.push(r.date),n.push({id:i.id,from:r.date,to:r.date,fromTime:null!==(s=i.fromTime)&&void 0!==s?s:"00:00",toTime:null!==(l=i.toTime)&&void 0!==l?l:"23:59",date:r.date,type:"notavailable"});else if("booking"===o){var c,u;t.includes(r.date)||t.push(r.date),n.push({id:i.id,from:r.date,to:r.date,fromTime:null!==(c=i.fromTime)&&void 0!==c?c:"00:00",toTime:null!==(u=i.toTime)&&void 0!==u?u:"23:59",date:r.date,type:"booking"})}})}),k(e),N(t),C(n)}}catch(e){console.error("Error fetching availability:",e),R("error","Failed to load availability")}finally{g(!1)}},[a,t,n]);return(0,r.useEffect)(()=>{e&&P()},[e,P]),{state:{currentMonth:a,selectedStart:s,selectedEnd:c,message:d,showBlockedDates:p,loading:f,startTime:y,endTime:x,ownerBlockedDates:w,customerBookedDates:S,blockedRecords:_,selectedRecord:A,clickedBlockRecord:E},actions:{setCurrentMonth:o,setSelectedStart:l,setSelectedEnd:u,setStartTime:v,setEndTime:b,setShowBlockedDates:m,setClickedBlockRecord:T,setSelectedRecord:j,handleDateClick:e=>{const t=new Date;if(t.setHours(0,0,0,0),e<t)return;const n=I(e);if(S.includes(n)){const e=_.find(e=>"booking"===e.type&&n>=e.from&&n<=e.to);return void(e?T(e):R("error","Cannot modify customer bookings"))}if(!(A&&n>=A.from&&n<=A.to)&&w.includes(n)){const e=_.find(e=>"notavailable"===e.type&&n>=e.from&&n<=e.to);return void(e&&T(e))}if(s)if(c)l(e),u(null),j(null);else{if(e<s)return void R("error","End date must be after start");u(e)}else l(e),u(null),j(null)},handleCreateBlock:async()=>{if(s&&c)try{g(!0);const e=new URLSearchParams;e.append("userId",i),e.append("fromDate",I(s)+"T00:00:00.000Z"),e.append("toDate",I(c)+"T23:59:59.000Z"),e.append("fromTime",y),e.append("toTime",x),e.append("vechileType",n),e.append("VechileId",t),e.append("isNotAvailable","false");const r=await Au(e);r.ok?(R("success","Dates blocked successfully!"),await P(),l(null),u(null)):R("error",r.data.message||"Failed to block dates")}catch(e){console.error("Error creating block:",e),R("error","Failed to block dates")}finally{g(!1)}},handleUpdateBlock:async()=>{if(A&&s&&c)if("booking"!==A.type)try{g(!0);const e=new URLSearchParams;e.append("fromDate",I(s)+"T00:00:00.000Z"),e.append("toDate",I(c)+"T23:59:59.000Z"),e.append("fromTime",y),e.append("toTime",x),e.append("vechileType",n),e.append("VechileId",t),e.append("isNotAvailable","true");const r=await ju(A.id,e);r.ok?(R("success","Block updated successfully!"),await P(),l(null),u(null),j(null)):R("error",r.data.message||"Failed to update block")}catch(e){console.error("Error updating block:",e),R("error","Failed to update block")}finally{g(!1)}else R("error","Cannot edit customer bookings")},handleDeleteBlock:async(e,t)=>{if(!e)return R("error","Invalid record ID");if("booking"!==t){if(window.confirm("Are you sure you want to delete this blocked date?"))try{g(!0);const t=await Eu(e);var n;t.ok||204===t.status?(R("success","Block removed successfully!"),await P(),m(!1),T(null)):R("error",(null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to delete block")}catch(r){console.error("Error deleting block:",r),R("error","Failed to delete block")}finally{g(!1)}}else R("error","Cannot delete customer bookings. Customers must cancel their own bookings.")},handleEditBlock:e=>{"booking"!==e.type?(j(e),l(new Date(e.from)),u(new Date(e.to)),v(e.fromTime),b(e.toTime),m(!1)):R("error","Cannot edit customer bookings")},formatDate:I}}})(t,i,a,o);if(!t)return null;const c=s.blockedRecords.filter(e=>"notavailable"===e.type);return(0,qa.jsxs)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:[(0,qa.jsxs)("div",{className:"bg-white w-full max-w-3xl rounded-2xl overflow-hidden relative max-h-[90vh] overflow-y-auto",children:[(0,qa.jsx)("button",{onClick:n,className:"absolute top-3 right-3 p-2 rounded-lg hover:bg-gray-200 z-10",children:(0,qa.jsx)(Wa,{size:20})}),(0,qa.jsx)("div",{className:"bg-gradient-to-br from-slate-100 to-blue-100 p-2 sm:p-4",children:(0,qa.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,qa.jsx)(Tu,{currentMonth:s.currentMonth,onPrevMonth:()=>l.setCurrentMonth(new Date(s.currentMonth.getFullYear(),s.currentMonth.getMonth()-1)),onNextMonth:()=>l.setCurrentMonth(new Date(s.currentMonth.getFullYear(),s.currentMonth.getMonth()+1)),loading:s.loading,blockedCount:c.length,onShowBlocked:()=>l.setShowBlockedDates(!0),message:s.message}),(0,qa.jsx)(Iu,{currentMonth:s.currentMonth,selectedStart:s.selectedStart,selectedEnd:s.selectedEnd,ownerBlockedDates:s.ownerBlockedDates,customerBookedDates:s.customerBookedDates,onDateClick:l.handleDateClick,formatDate:l.formatDate}),(0,qa.jsx)(Ru,{}),(0,qa.jsx)(Pu,{selectedStart:s.selectedStart,selectedEnd:s.selectedEnd,startTime:s.startTime,endTime:s.endTime,setStartTime:l.setStartTime,setEndTime:l.setEndTime,selectedRecord:s.selectedRecord,handleUpdateBlock:l.handleUpdateBlock,handleCreateBlock:l.handleCreateBlock,handleCancel:()=>{l.setSelectedRecord(null),l.setSelectedStart(null),l.setSelectedEnd(null)},loading:s.loading})]})})]}),s.showBlockedDates&&(0,qa.jsx)(Mu,{onClose:()=>l.setShowBlockedDates(!1),records:c,onEdit:l.handleEditBlock,onDelete:l.handleDeleteBlock,loading:s.loading}),s.clickedBlockRecord&&(0,qa.jsx)(Lu,{record:s.clickedBlockRecord,onClose:()=>l.setClickedBlockRecord(null),onEdit:e=>{l.handleEditBlock(e),l.setClickedBlockRecord(null)},onDelete:(e,t)=>{l.handleDeleteBlock(e,t),l.setClickedBlockRecord(null)}})]})}const Bu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADoElEQVR4AezYobPUMBAG8BsUEolEIpFIJJI/AYlEIpFIJBKJRCKRSCQSiUQi2R9Dys6+tE17d3BveDfdyWazu99+aZL2eutwzX83BP71Dfyv78DtmP0HIU9CnoW8CHn5W+hPQzfGh290T3/tuQN3oozHIc9DWoF3Q89F0u+FTfF8ENKKDfPpri0EFNUKfxgl6EczfCGD9KPhiAHHUQJmzjJR+EDaRRcEEJFz0XFkcIQAIOtZW3P+CMPHkLchr0PaHngVOtunaL+H1EuuuZzVd7G/RmAOSFEKVCgCXwOFLZpfF2JsH6KH2Pto83h0D3O5D1t+awR6s2RW3wSIAqMZuj6HlxixoU5XI7F1P00JlghYqwAm51DMtlk1w9HddIkRK0cOhAEr24b1OQK9pGavgg8DJUc55Eqmg8MBZrYN6XME6oxYv4CHkg44ySVndkUi94f0HgHr0ZmdEwC0BLLtGF0uGzvngAk721b1HoH7JcpM2YTFfHTXIYBIS6T4it3GZtseAa8AOeBL7pxYr3uhYq/C9Qh4r8mB5yTgLmSsip3HunqPQD0NvnUjT2O0PHOmip3HunqPgLWYnfM6zfZT6JVAxV7F6BFYDbokhx6BOuO/b+tZyq4zXrFXQXsE6m09J4G6aSv2LgJ1024+2lZR/zjUc79i//Gc0Xp3oB5tux7xM3jVXAlU7Op/pd8j4NzPa9E6Pcdd8OpQlyfsK0UuGXoEFF9fHfwhR2Qp15YxueoLI0zYW/IcegQkqI94M1UB+e0VueTM8V4Yc39InyPgNKgk7AXAQ4kXnOSQK7vAgpltQ/ocAcFmpCYF7tOKJcBni4gRK0eOgwEr24b1JQLWoz/uAHJCs+cTi02Y7Uu6Q0CM2OpnKdXTqPrM9pcICFL8u1C00UwXUBvb9x2zqkAz3ByMs5ltX+V6Hwear1auLRMi5pesEeDk4dK7E8YUalYVqND2XQgxNgQyMTHE3dVm2UVihAAQd6D3WcTYVrFh27eiGruZxCgBQGbNZxHgzmy2URHbCpdDX476v1i+TSS2EJCcuBuAfZXTKsQyU5RxQmczxgdphYs13qSNt35rh0nsIdBAFNkKsLwQanuAzqZ4PnxbXG2N86v2IRLHEKiAx/R3k7gUAsjvInFJBHaRuDQCm0lcIoElEp76xic5D4Ep/VFKb09cOc0umQD2SLR3McV7lrBPcukEFOpvpgehZwudbZLrQGAqtqfcEOjNyt+0/QQAAP//61EzwgAAAAZJREFUAwAduqJhelwQTwAAAABJRU5ErkJggg==",Ou=e=>{let{isOpen:t,onConfirm:n,onCancel:r}=e;return t?(0,qa.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:(0,qa.jsxs)("div",{className:"bg-white rounded-xl shadow-lg w-[320px] p-6 text-center",children:[(0,qa.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Are You Sure?"}),(0,qa.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Do you want to delete this vehicle?"}),(0,qa.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,qa.jsx)("button",{onClick:n,className:"flex items-center justify-center w-[80px] h-[36px] rounded-full bg-gradient-to-r from-[#0B0E92] to-[#69A6F0] text-white font-medium hover:opacity-90 transition-all",children:"Yes"}),(0,qa.jsx)("button",{onClick:r,className:"flex items-center justify-center w-[80px] h-[36px] rounded-full border border-gray-300 text-gray-600 font-medium hover:bg-gray-100 transition-all",children:"No"})]})]})}):null},Fu=()=>{const e=ye(),{currentCity:t}=Qa(),{cars:n,deleteCar:i}=Rs(),a=(0,r.useRef)(!1),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)([]),[h,p]=(0,r.useState)(!0),[m,f]=(0,r.useState)(""),[g,y]=(0,r.useState)(""),[v,x]=(0,r.useState)(null),[b,w]=(0,r.useState)("cars"),[k,S]=(0,r.useState)(""),[N,_]=(0,r.useState)(!1),[C,A]=(0,r.useState)(null),[j,E]=(0,r.useState)(!1),[T,I]=(0,r.useState)(null),R=localStorage.getItem("userId")||" ";(0,r.useEffect)(()=>{if(a.current)return void console.log("\u26a0\ufe0f Already fetched cars, skipping...");(async()=>{try{a.current=!0,p(!0),f("");let e=localStorage.getItem("userId");if(!e||24!==e.length||!/^[a-f0-9]{24}$/i.test(e))return f("Invalid or missing userId. Please log in again."),void p(!1);console.log("\ud83d\ude97 Fetching cars for user:",e);const n=await La.car.getMyVehicles(e),r=n.data||n;let i=[];r.data&&r.data.cars?i=r.data.cars:r.cars?i=r.cars:Array.isArray(r)&&(i=r),console.log("\u2705 Found ".concat(i.length," cars"));const o=i.map(e=>{var n;const r=[e.pickupArea,e.pickupCity,e.pickupCityState,e.pickupCityPinCode].filter(Boolean),i=r.length>0?r.join(", "):t;return{_id:e._id,id:e._id,name:"".concat(e.CarName," ").concat(e.CarModel),number:e.CarNumber||"Unknown",contactNumber:e.contactNumber||"unknown",contactName:e.contactName||"unknown",price:e.RentPerHour||"0",description:e.description||"No description",kmDriven:e.KmDriven||e.kmDriven||"unknown",transmission:e.transmissionType||e.transmission||"Manual",fuel:e.fuelType||e.fuel||"Petrol",seats:"".concat(e.Carseater||5," Seaters"),location:i,rating:(null===(n=e.rating)||void 0===n?void 0:n.toString())||"4.0",available:!1!==e.Available&&!1!==e.isAvailable,image:e.carImages&&e.carImages.length>0?e.carImages[0]:Ts,status:e.Status||e.status||"pending"}});d(o)}catch(kN){var e,n;console.error("\u274c Error fetching cars:",kN),a.current=!1;const r=(null===kN||void 0===kN||null===(e=kN.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||(null===kN||void 0===kN?void 0:kN.message)||"Failed to fetch cars";f(r)}finally{p(!1)}})()},[]),(0,r.useEffect)(()=>{const e=()=>x(null);if(null!==v)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[v]),(0,r.useEffect)(()=>{if(g){const e=setTimeout(()=>y(""),5e3);return()=>clearTimeout(e)}},[g]);const P=(0,r.useMemo)(()=>[...n.map(e=>({name:"".concat(e.carName," ").concat(e.model),number:e.carNumber||"Unknown",price:e.rentPrice,transmission:e.transmission,fuel:e.fuel,seats:"5 Seaters",location:"".concat(e.city,", ").concat(e.street),rating:e.rating.toString(),available:!0,image:e.photos[0]||Ts,id:e.id,contactName:e.ownerName,contactNumber:e.contactNumber||"N/A",status:"pending"})),...u],[n,u]),M=e=>{const t=(e.status||"").toLowerCase().trim();return{status:t,isPending:"pending"===t,isApproved:"verified"===t||"approved"===t}},L=P.filter(e=>e.name.toLowerCase().includes(k.toLowerCase()));return h&&0===u.length?(0,qa.jsxs)("div",{className:"flex items-center justify-center min-h-screen",children:[(0,qa.jsx)(zs,{className:"w-8 h-8 animate-spin text-blue-600"}),(0,qa.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading cars..."})]}):(0,qa.jsxs)("div",{className:"min-h-screen bg-gray-50 px-0 sm:px-2 lg:px-3 py-6",children:[g&&(0,qa.jsx)("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in",children:g}),m&&(0,qa.jsx)("div",{className:"fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:m}),(0,qa.jsx)("div",{className:"max-w-8xl mx-auto mb-6",children:(0,qa.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-stretch md:items-center gap-4",children:[(0,qa.jsxs)("div",{className:"flex items-center w-full md:w-[300px] h-[50px] border rounded-lg px-3 bg-white cursor-pointer border-2 border-transparent hover:border-blue-500 hover:shadow-xl transition-all duration-200",children:[(0,qa.jsx)("img",{src:Tc,alt:"Dropdown Logo",className:"w-[24px] h-[24px]"}),(0,qa.jsxs)("select",{className:"flex-1 ml-2 border-none outline-none text-sm bg-transparent",value:b,onChange:t=>{const n=t.target.value;w(n),"bikes"===n&&e("/listed-bike")},children:[(0,qa.jsx)("option",{value:"cars",children:"Listed Cars"}),(0,qa.jsx)("option",{value:"bikes",children:"Listed Bikes"})]})]}),(0,qa.jsx)("div",{className:"flex gap-2 w-full md:w-auto",children:(0,qa.jsxs)("div",{className:"relative flex-1 md:w-[300px] h-[50px] transition-all duration-200 rounded-full",children:[(0,qa.jsx)("img",{src:Bu,alt:"Search",className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 pointer-events-none"}),(0,qa.jsx)("input",{type:"text",placeholder:"Search Cars...",value:k,onChange:e=>S(e.target.value),className:"w-full h-full rounded-full border pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer border-2 border-transparent hover:border-blue-500 hover:shadow-xl transition-all duration-200"})]})})]})}),(0,qa.jsx)("div",{className:"max-w-7xl mx-auto",children:0===L.length?(0,qa.jsx)("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-2xl shadow-sm",children:(0,qa.jsxs)("div",{className:"text-center max-w-md",children:[(0,qa.jsx)("div",{className:"w-32 h-32 mx-auto mb-6 bg-gradient-to-br from-blue-100 to-blue-50 rounded-full flex items-center justify-center",children:(0,qa.jsx)("svg",{className:"w-16 h-16 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:k?"No cars found":"No cars listed yet"}),(0,qa.jsx)("p",{className:"text-gray-500 mb-8",children:k?"Try adjusting your search terms":"Start earning by listing your first car on our platform"}),!k&&(0,qa.jsxs)("button",{onClick:()=>{e("/list-car")},className:"inline-flex items-center gap-3 bg-gradient-to-r from-[#0B0E92] to-[#69A6F0] text-white font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl hover:opacity-90 transition-all duration-200 transform hover:scale-105",children:[(0,qa.jsx)($o,{size:24}),"Add Your First Car"]})]})}):(0,qa.jsx)("div",{className:"flex flex-col gap-6 pb-16",children:L.map((t,n)=>{const r=!t.available,i=t._id||t.id,{isPending:a,isApproved:o}=M(t);return(0,qa.jsxs)("div",{onClick:()=>(e=>{const{isApproved:t}=M(e)})(t),className:"relative flex flex-col md:flex-row bg-white rounded-xl shadow \ntransition-all duration-300\nborder border-gray-200 hover:border-blue-500\np-3 gap-3 w-full max-w-4xl mx-auto\n".concat(o?"cursor-pointer":"opacity-60"),children:[(0,qa.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[(0,qa.jsx)("div",{className:"w-full md:w-[330px] h-[300px] flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:(0,qa.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:e=>{e.currentTarget.src=Ts}})}),(0,qa.jsxs)("div",{className:"flex flex-col flex-1 font-medium gap-1",children:[(0,qa.jsx)("h3",{className:"font-bold text-lg text-gray-900 leading-tight line-clamp-2 overflow-hidden",style:{display:"-webkit-box",WebkitBoxOrient:"vertical",maxWidth:"350px"},children:t.name}),(0,qa.jsxs)("p",{className:"font-bold text-xl mt-0.5 mb-0.5",children:["\u20b9",t.price,(0,qa.jsx)("span",{className:"text-gray-500 font-normal text-sm",children:"/hr"})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("img",{src:gs,className:"w-6 h-6",alt:"Transmission"}),(0,qa.jsx)("span",{children:t.transmission})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("img",{src:Ic,className:"w-6 h-6",alt:"Seats"}),(0,qa.jsx)("span",{children:t.seats})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("img",{src:ys,className:"w-5 h-5",alt:"Fuel"}),(0,qa.jsx)("span",{children:t.fuel})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("img",{src:To,className:"w-5 h-5",alt:"Location"}),(0,qa.jsx)("span",{className:"text-xs",children:t.location})]}),a?(0,qa.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md px-3 py-2 mt-2 w-3/4 mx-auto",children:(0,qa.jsx)("p",{className:"text-yellow-800 text-sm font-medium text-center",children:"Your car is under verification"})}):o?(0,qa.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md px-3 py-2 mt-2 w-3/4 mx-auto",children:(0,qa.jsx)("p",{className:"text-green-800 text-sm font-medium text-center",children:"Your car is approved"})}):null,(0,qa.jsxs)("div",{className:"flex flex-col md:flex-row gap-3 mt-3 w-full",children:[(0,qa.jsx)("button",{onClick:e=>((e,t)=>{t.stopPropagation();const{isApproved:n}=M(e);n&&(I(e),E(!0))})(t,e),disabled:h||!o,className:"px-4 py-1.5 rounded-lg text-sm font-semibold shadow-sm \n                            bg-red-100 text-red-700 border border-red-300 \n                            hover:bg-red-200 hover:shadow-md transition-all duration-200\n                            ".concat(o?"":"opacity-50 cursor-not-allowed bg-gray-200 text-gray-500 border-gray-300","\n                            disabled:opacity-50 disabled:cursor-not-allowed"),children:r?"Manage Unavailability":"Add Not Available Slot +"}),(0,qa.jsx)("button",{onClick:n=>{if(n.stopPropagation(),!o)return;const r=t._id||t.id;console.log("\ud83d\ude97 Navigating to car history, ID:",r),e("/vehicle-history/".concat(r),{state:{vehicleData:t,vehicleType:"car"}})},disabled:!o,className:"flex items-center justify-center bg-gradient-to-r from-[#0B0E92] to-[#69A6F0] text-white text-sm font-semibold px-4 py-1.5 rounded-lg shadow-md hover:opacity-90 hover:shadow-lg transition-all duration-200\n                            ".concat(o?"":"opacity-50 cursor-not-allowed bg-gray-400"),children:"View Booking History"})]})]}),(0,qa.jsxs)("div",{className:"absolute top-4 right-4 z-10",children:[(0,qa.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-full transition",onClick:e=>((e,t)=>{t.stopPropagation(),x(v===e?null:e)})(n,e),children:(0,qa.jsx)("span",{className:"text-2xl",children:"\u22ee"})}),v===n&&(0,qa.jsxs)("div",{className:"absolute right-0 mt-1 bg-white border rounded-lg shadow-lg min-w-[150px] overflow-hidden",children:[(0,qa.jsx)("button",{className:"w-full text-left px-4 py-2 hover:bg-blue-50 flex items-center gap-2 transition-all duration-200\n                              ".concat(o?"":"opacity-50 cursor-not-allowed"),onClick:n=>{n.stopPropagation(),(t=>{const{isApproved:n}=M(t);if(!n)return;const r=t._id||t.id;r?(console.log("\u270f\ufe0f Editing vehicle:",t.name,"ID:",r),e("/Car-Details/".concat(r),{state:{carData:t,openEditForm:!0}}),x(null)):console.error("\u274c No vehicle ID found for:",t.name)})(t)},disabled:!o,children:"\u270f\ufe0f Edit"}),(0,qa.jsx)("button",{className:"w-full text-left px-4 py-2 hover:bg-blue-50 flex items-center gap-2 text-red-600 transition-all duration-200",onClick:e=>{var n;e.stopPropagation(),n=t,console.log("\ud83d\uddd1\ufe0f Preparing to delete vehicle:",n.name),c(n),s(!0),x(null)},disabled:C===i,children:C===i?(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(zs,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):(0,qa.jsx)(qa.Fragment,{children:"\ud83d\uddd1\ufe0f Delete"})})]})]})]}),r&&o&&(0,qa.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,qa.jsx)("div",{className:"bg-red-600 text-white px-6 py-2 rounded-full font-bold text-lg shadow-lg",children:"UNAVAILABLE"})})]},i||"car-".concat(n))})})}),N&&(0,qa.jsx)(ho,{onApply:()=>_(!1)}),j&&T&&R&&(0,qa.jsx)(Du,{isOpen:j,onClose:()=>E(!1),userRole:"owner",VechileId:T._id||T.id||"",vechileType:"Car",userId:localStorage.getItem("userId")||""}),o&&l&&(0,qa.jsx)(Ou,{isOpen:o,onConfirm:()=>(async e=>{const t=e._id||e.id;if(!t)return f("Cannot delete vehicle without ID"),s(!1),void c(null);try{A(t),console.log("\ud83d\uddd1\ufe0f Deleting car with ID:",t),await La.car.deleteCarById(t),console.log("\u2705 Car deleted successfully"),d(u.filter(e=>(e._id||e.id)!==t)),i(t),y("".concat(e.name," deleted successfully!")),f("")}catch(m){var n,r;console.error("\u274c Error deleting car:",m);const i=(null===m||void 0===m||null===(n=m.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||(null===m||void 0===m?void 0:m.message)||"Failed to delete vehicle. Please try again.";f("Failed to delete ".concat(e.name,". ").concat(i))}finally{A(null),x(null),s(!1),c(null)}})(l),onCancel:()=>{s(!1),c(null)}})]})},Vu=()=>{const e=ye(),{currentCity:t}=Qa(),{bikes:n,deleteBike:i}=Ps(),a=(0,r.useRef)(!1),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null),[m,f]=(0,r.useState)([]),[g,y]=(0,r.useState)(!0),[v,x]=(0,r.useState)(""),[b,w]=(0,r.useState)(""),[k,S]=(0,r.useState)(null),[N,_]=(0,r.useState)("bikes"),[C,A]=(0,r.useState)(""),[j,E]=(0,r.useState)(null),[T,I]=(0,r.useState)("");(0,r.useEffect)(()=>{if(a.current)return void console.log("\u26a0\ufe0f Already fetched bikes, skipping...");(async()=>{try{a.current=!0,y(!0),x("");let e=localStorage.getItem("userId");if(!e||24!==e.length||!/^[a-f0-9]{24}$/i.test(e))return x("Invalid or missing userId. Please log in again."),void y(!1);console.log("\ud83c\udfcd\ufe0f Fetching bikes for user:",e);const n=await La.bike.getMyVehicles(e),r=n.data||n;let i=[];r.data&&r.data.bikes?i=r.data.bikes:r.bikes?i=r.bikes:Array.isArray(r)&&(i=r),console.log("\u2705 Found ".concat(i.length," bikes"));const o=i.map(e=>{var n,r,i,a,o;const s=[e.pickupArea,e.pickupCity,e.pickupCityState,e.pickupCityPinCode].filter(Boolean),l=s.length>0?s.join(", "):t||"Unknown";return{_id:e._id,id:e._id,name:"".concat(e.bikeName||""," ").concat(e.bikeModel||"").trim(),number:e.bikeNumber||"unknown",contactNumber:(null===(n=e.contactNumber)||void 0===n?void 0:n.toString())||"unknown",contactName:e.contactName||"unknown",price:(null===(r=e.pricePerKm)||void 0===r?void 0:r.toString())||"0",transmission:e.transmission||e.Transmission||"Manual",fuel:e.fuel||e.fuelType||e.Fuel||"Petrol",location:l,rating:(null===(i=e.averageRating)||void 0===i?void 0:i.toString())||"4.0",available:!1!==e.Available,image:e.bikeImages&&e.bikeImages.length>0?e.bikeImages[0]:Ds,engineCapacity:e.bikeEngine||e.engineCapacity||(null===(a=e.cc)||void 0===a?void 0:a.toString())||"150",cc:(null===(o=e.cc)||void 0===o?void 0:o.toString())||"150",status:e.Status||e.status||"pending"}});f(o)}catch(kN){var e,n;console.error("\u274c Error fetching bikes:",kN),a.current=!1;const r=(null===kN||void 0===kN||null===(e=kN.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||(null===kN||void 0===kN?void 0:kN.message)||"Failed to fetch bikes";x(r)}finally{y(!1)}})()},[]),(0,r.useEffect)(()=>{const e=()=>S(null);if(null!==k)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[k]),(0,r.useEffect)(()=>{if(b){const e=setTimeout(()=>w(""),5e3);return()=>clearTimeout(e)}},[b]);const R=(0,r.useMemo)(()=>[...n.map(e=>{var n,r;return{id:e.id,_id:e.id,name:e.vehicleName,number:e.vehicleNumber||"",price:e.farePrice,transmission:e.transmission||"Manual",fuel:e.fuel||"Petrol",engineCapacity:e.engineCapacity||"150",location:e.city&&e.street?"".concat(e.city,", ").concat(e.street):e.city||t,rating:(null===(n=e.rating)||void 0===n?void 0:n.toString())||"4.0",available:!0,contactName:"unknown",contactNumber:"unknown",image:(null===(r=e.photos)||void 0===r?void 0:r[0])||Ds,cc:"150",status:"pending"}}),...m],[n,m,t]),P=e=>{const t=(e.status||"").toLowerCase().trim();return{status:t,isPending:"pending"===t,isApproved:"verified"===t||"approved"===t}},M=R.filter(e=>e.name.toLowerCase().includes(C.toLowerCase()));return g&&0===m.length?(0,qa.jsxs)("div",{className:"flex items-center justify-center min-h-screen",children:[(0,qa.jsx)(zs,{className:"w-8 h-8 animate-spin text-blue-600"}),(0,qa.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading bikes..."})]}):(0,qa.jsxs)("div",{className:"min-h-screen bg-gray-50 px-2 sm:px-4 lg:px-6 py-6",children:[b&&(0,qa.jsx)("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in",children:b}),v&&(0,qa.jsx)("div",{className:"fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:v}),(0,qa.jsx)("div",{className:"max-w-8xl mx-auto mb-8",children:(0,qa.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-stretch md:items-center gap-4",children:[(0,qa.jsxs)("div",{className:"flex items-center w-full md:w-[300px] h-[50px] border rounded-lg px-3 bg-white cursor-pointer border-2 border-transparent hover:border-blue-500 hover:shadow-xl transition-all duration-200",children:[(0,qa.jsx)("img",{src:fo,alt:"Dropdown Logo",className:"w-[24px] h-[24px]"}),(0,qa.jsxs)("select",{className:"flex-1 ml-2 border-none outline-none text-sm bg-transparent",value:N,onChange:t=>{const n=t.target.value;_(n),"cars"===n&&e("/listed")},children:[(0,qa.jsx)("option",{value:"bikes",children:"Listed Bikes"}),(0,qa.jsx)("option",{value:"cars",children:"Listed Cars"})]})]}),(0,qa.jsx)("div",{className:"flex gap-2 w-full md:w-auto",children:(0,qa.jsxs)("div",{className:"relative flex-1 md:w-[300px] h-[50px] transition-all duration-200 rounded-full",children:[(0,qa.jsx)("img",{src:Bu,alt:"Search",className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 pointer-events-none"}),(0,qa.jsx)("input",{type:"text",placeholder:"Search Bikes...",value:C,onChange:e=>A(e.target.value),className:"w-full h-full rounded-full border pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer border-2 border-transparent hover:border-blue-500 hover:shadow-xl transition-all duration-200"})]})})]})}),(0,qa.jsx)("div",{className:"max-w-7xl mx-auto",children:0===M.length?(0,qa.jsx)("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-2xl shadow-sm",children:(0,qa.jsxs)("div",{className:"text-center max-w-md",children:[(0,qa.jsx)("div",{className:"w-32 h-32 mx-auto mb-6 bg-gradient-to-br from-blue-100 to-blue-50 rounded-full flex items-center justify-center",children:(0,qa.jsx)("svg",{className:"w-16 h-16 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:C?"No bikes found":"No bikes listed yet"}),(0,qa.jsx)("p",{className:"text-gray-500 mb-8",children:C?"Try adjusting your search terms":"Start earning by listing your first bike on our platform"}),!C&&(0,qa.jsxs)("button",{onClick:()=>{e("/list-bike")},className:"inline-flex items-center gap-3 bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl hover:opacity-90 transition-all duration-200 transform hover:scale-105",children:[(0,qa.jsx)($o,{size:24}),"Add Your First Bike"]})]})}):(0,qa.jsx)("div",{className:"flex flex-col gap-4 pb-12",children:M.map((t,n)=>{const r=!t.available,i=t._id||t.id,{isPending:a,isApproved:o}=P(t);return(0,qa.jsxs)("div",{onClick:()=>(e=>{const{isApproved:t}=P(e)})(t),className:"relative flex flex-col md:flex-row bg-white rounded-xl shadow \ntransition-all duration-300\nborder border-gray-200 hover:border-blue-500\np-3 gap-3 w-full max-w-4xl mx-auto\n".concat(o?"cursor-pointer":"opacity-60"),children:[(0,qa.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[(0,qa.jsx)("div",{className:"w-full md:w-[330px] h-[300px] flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:(0,qa.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:e=>{e.currentTarget.src=Ds}})}),(0,qa.jsxs)("div",{className:"flex flex-col flex-1 font-medium gap-1",children:[(0,qa.jsx)("h3",{className:"font-bold text-lg text-gray-900 leading-tight line-clamp-2 overflow-hidden",style:{display:"-webkit-box",WebkitBoxOrient:"vertical"},children:t.name}),(0,qa.jsxs)("p",{className:"font-bold text-xl mt-0.5 mb-0.5",children:["\u20b9",t.price,(0,qa.jsx)("span",{className:"text-gray-500 font-normal text-sm",children:"/km"})]}),t.engineCapacity&&(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("img",{src:xs,className:"w-6 h-6",alt:"Engine"}),(0,qa.jsxs)("span",{children:[t.engineCapacity," CC"]})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("img",{src:gs,className:"w-5 h-5",alt:"Transmission"}),(0,qa.jsx)("span",{children:t.transmission})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("img",{src:ys,className:"w-5 h-5",alt:"Fuel"}),(0,qa.jsx)("span",{children:t.fuel})]}),(0,qa.jsxs)("div",{className:"flex items-center gap-2",children:[(0,qa.jsx)("img",{src:To,className:"w-5 h-5",alt:"Location"}),(0,qa.jsx)("span",{className:"text-xs",children:t.location})]}),a?(0,qa.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md px-3 py-2 mt-2 w-3/4 mx-auto",children:(0,qa.jsx)("p",{className:"text-yellow-800 text-sm font-medium text-center",children:"Your Bike is under verification"})}):o?(0,qa.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md px-3 py-2 mt-2 w-3/4 mx-auto",children:(0,qa.jsx)("p",{className:"text-green-800 text-sm font-medium text-center",children:"Your Bike is approved"})}):null,(0,qa.jsxs)("div",{className:"flex flex-col md:flex-row gap-3 mt-3 w-full",children:[(0,qa.jsx)("button",{onClick:e=>((e,t)=>{t.stopPropagation();const{isApproved:n}=P(e);if(!n)return;c(e);let r=localStorage.getItem("userId");r&&24===r.length&&/^[a-f0-9]{24}$/i.test(r)||(r="68f32259cea8a9fa88029262"),console.log("\ud83d\udd27 Opening calendar for vehicle:",{vehicleId:e._id||e.id,userId:r}),I(r),s(!0),x("")})(t,e),disabled:g||!o,className:"px-4 py-1.5 rounded-lg text-sm font-semibold shadow-sm \n                            bg-red-100 text-red-700 border border-red-300 \n                            hover:bg-red-200 hover:shadow-md transition-all duration-200\n                            ".concat(o?"":"opacity-50 cursor-not-allowed bg-gray-200 text-gray-500 border-gray-300","\n                            disabled:opacity-50 disabled:cursor-not-allowed"),children:r?"Manage Unavailability":"Add Not Available Slot +"}),(0,qa.jsx)("button",{onClick:n=>{if(n.stopPropagation(),!o)return;const r=t._id||t.id;console.log("\ud83c\udfcd\ufe0f Navigating to bike history, ID:",r),e("/vehicle-history/".concat(r),{state:{vehicleData:t,vehicleType:"bike"}})},disabled:!o,className:"flex items-center justify-center bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white text-sm font-semibold px-4 py-1.5 rounded-lg shadow-md hover:opacity-90 hover:shadow-lg transition-all duration-200\n                            ".concat(o?"":"opacity-50 cursor-not-allowed bg-gray-400"),children:"View Booking History"})]})]}),(0,qa.jsxs)("div",{className:"absolute top-4 right-4 z-10",children:[(0,qa.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-full transition",onClick:e=>((e,t)=>{t.stopPropagation(),S(k===e?null:e)})(n,e),children:(0,qa.jsx)("span",{className:"text-2xl",children:"\u22ee"})}),k===n&&(0,qa.jsxs)("div",{className:"absolute right-0 mt-1 bg-white border rounded-lg shadow-lg min-w-[150px] overflow-hidden",children:[(0,qa.jsx)("button",{className:"w-full text-left px-4 py-2 hover:bg-blue-50 flex items-center gap-2 transition-all duration-200\n                              ".concat(o?"":"opacity-50 cursor-not-allowed"),onClick:n=>{n.stopPropagation(),(t=>{const{isApproved:n}=P(t);if(!n)return;const r=t._id||t.id;r?(console.log("\u270f\ufe0f Editing vehicle:",t.name,"ID:",r),e("/Bike-Details/".concat(r),{state:{bikeData:t,openEditForm:!0}}),S(null)):console.error("\u274c No vehicle ID found for:",t.name)})(t)},disabled:!o,children:"\u270f\ufe0f Edit"}),(0,qa.jsx)("button",{className:"w-full text-left px-4 py-2 hover:bg-blue-50 flex items-center gap-2 text-red-600 transition-all duration-200",onClick:e=>{var n;e.stopPropagation(),n=t,console.log("\ud83d\uddd1\ufe0f Preparing to delete bike:",n.name),p(n),d(!0),S(null)},disabled:j===i,children:j===i?(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(zs,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):(0,qa.jsx)(qa.Fragment,{children:"\ud83d\uddd1\ufe0f Delete"})})]})]})]}),r&&o&&(0,qa.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,qa.jsx)("div",{className:"bg-red-600 text-white px-6 py-2 rounded-full font-bold text-lg shadow-lg",children:"UNAVAILABLE"})})]},i||"bike-".concat(n))})})}),o&&l&&T&&(0,qa.jsx)(Du,{isOpen:o,onClose:()=>s(!1),userRole:"owner",VechileId:l._id||l.id||"",vechileType:"Bike",userId:localStorage.getItem("userId")||""}),u&&h&&(0,qa.jsx)(Ou,{isOpen:u,onConfirm:()=>(async e=>{const t=e._id||e.id;if(!t)return x("Cannot delete vehicle without ID"),d(!1),void p(null);try{E(t),console.log("\ud83d\uddd1\ufe0f Deleting bike with ID:",t),await La.bike.deleteBikeById(t),console.log("\u2705 Bike deleted successfully"),f(m.filter(e=>(e._id||e.id)!==t)),i(t),w("".concat(e.name," deleted successfully!")),x("")}catch(v){var n,r;console.error("\u274c Error deleting bike:",v);const i=(null===v||void 0===v||null===(n=v.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||(null===v||void 0===v?void 0:v.message)||"Failed to delete vehicle. Please try again.";x("Failed to delete ".concat(e.name,". ").concat(i))}finally{E(null),S(null),d(!1),p(null)}})(h),onCancel:()=>{d(!1),p(null)}})]})},zu=()=>{var e,t,n,i,a;const{vehicleId:o}=ve(),s=ye(),l=me(),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!0),[p,m]=(0,r.useState)(""),[f,g]=(0,r.useState)(0),[y,v]=(0,r.useState)(!1),x=null===(e=l.state)||void 0===e?void 0:e.vehicleData,b=null===(t=l.state)||void 0===t?void 0:t.booking,w=(null===(n=l.state)||void 0===n?void 0:n.openContact)||!1,k=(null===(i=l.state)||void 0===i?void 0:i.vehicleType)||(null===x||void 0===x?void 0:x.vehicleType)||(null!==x&&void 0!==x&&x.CarName||null!==x&&void 0!==x&&x.carName||null!==x&&void 0!==x&&x.carImages||null!==x&&void 0!==x&&x.RentPerHour?"car":"bike"),S=o||(null===x||void 0===x?void 0:x._id),N="confirmed"===(null===b||void 0===b||null===(a=b.status)||void 0===a?void 0:a.toLowerCase());(0,r.useEffect)(()=>{w&&b&&v(!0)},[w,b]),(0,r.useEffect)(()=>{(async()=>{if(x&&x._id&&(x.CarName||x.carName||x.bikeName))return u(x),h(!1),void m("");if(!S)return m("No vehicle ID provided"),void h(!1);try{var e,t,n,r;let i;h(!0),i="car"===k?await La.car.getCarById(S):await La.bike.getBikeById(S);const a=null!==(e=null===(t=i)||void 0===t?void 0:t.data)&&void 0!==e?e:i;let o=(null===a||void 0===a?void 0:a.car)||(null===a||void 0===a?void 0:a.bike)||(null===a||void 0===a?void 0:a.data)||(null===a||void 0===a?void 0:a.vehicle)||a;if(null!==(n=o)&&void 0!==n&&n.bike&&(o=o.bike),null!==(r=o)&&void 0!==r&&r.car&&(o=o.car),!o||"object"!==typeof o||!o._id)throw new Error("Invalid vehicle response format");u(o),m("")}catch(kN){if(x&&x._id)u(x),m("");else{var i,a;const t=(null===kN||void 0===kN||null===(i=kN.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.message)||(null===kN||void 0===kN?void 0:kN.message)||"Failed to load vehicle details";m(t)}}finally{h(!1)}})()},[S,k,x]);if(d)return(0,qa.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:(0,qa.jsxs)("div",{className:"text-center",children:[(0,qa.jsx)(zs,{className:"animate-spin mx-auto mb-4",size:48}),(0,qa.jsx)("p",{className:"text-gray-600",children:"Loading vehicle details..."})]})});if(p||!c)return(0,qa.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:(0,qa.jsxs)("div",{className:"text-center",children:[(0,qa.jsx)("p",{className:"text-red-600 text-lg mb-4",children:p||"Vehicle not found"}),(0,qa.jsx)("button",{onClick:()=>s(-1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]})});const _="car"===k||!!c.CarName||!!c.carName||!!c.carImages;let C=(_?c.carImages:c.bikeImages)||[];C=C.filter(e=>e&&""!==e.trim()&&"undefined"!==e);const A=_?["https://e7.pngegg.com/pngimages/768/421/png-clipart-car-computer-icons-sedan-auto-detailing-auto-driving-rectangle-thumbnail.png","https://png.pngtree.com/png-vector/20191201/ourmid/pngtree-car-vector-logo-design-png-image_2066853.jpg"]:["https://w7.pngwing.com/pngs/579/51/png-transparent-computer-icons-motorcycle-bicycle-motorcycle-logo-black-silhouette.png","https://w1.pngwing.com/pngs/381/835/png-transparent-yamaha-logo-car-decal-motorcycle-sticker-sport-bike-yamaha-yzfr1-bicycle-thumbnail.png"];0===C.length&&(C=A);const j=[...C];for(;j.length<3;)j.push(A[j.length%A.length]);const E=_?c.CarName||c.carName||(null===b||void 0===b?void 0:b.vehicleName)||"Unknown Vehicle":c.bikeName||(null===b||void 0===b?void 0:b.vehicleName)||"Unknown Bike",T=(_?c.CarModel:c.bikeModel,_?c.RentPerHour||(null===b||void 0===b?void 0:b.price)||0:c.pricePerKm||(null===b||void 0===b?void 0:b.price)||0),I=_?"/hr":"/km",R=localStorage.getItem("userId")||"temp-user-"+Date.now(),P=c.userId||c.ownerId||c.contactNumber||"temp-owner-"+Date.now(),M=(null===b||void 0===b||b.userId,(null===b||void 0===b?void 0:b._id)||(null===b||void 0===b?void 0:b.bookingId)||S||"temp-booking-"+Date.now());return(0,qa.jsx)("div",{className:"min-h-screen bg-gray-50 px-3 sm:px-4 py-4 sm:py-6 flex justify-center",children:(0,qa.jsxs)("div",{className:"max-w-[900px] w-full bg-white p-4 sm:p-6 rounded-2xl shadow-lg flex flex-col md:flex-row",children:[j.length>0?(0,qa.jsxs)("div",{className:"relative w-full md:w-[420px] h-[250px] sm:h-[300px] md:h-[300px] flex-shrink-0 rounded-[10px] border-2 border-transparent hover:border-[#0066FF] transition-all duration-200 overflow-hidden mx-auto md:mx-0",children:[(0,qa.jsx)("img",{src:j[f],alt:E,className:"w-full h-full object-cover transition-all duration-500 rounded-[10px]"}),(0,qa.jsx)("button",{onClick:e=>{e.stopPropagation(),g(e=>0===e?j.length-1:e-1)},className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-10 h-10 sm:w-12 sm:h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center shadow-2xl z-20 transition-all cursor-pointer border border-gray-200",type:"button","aria-label":"Previous image",children:(0,qa.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-800 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),(0,qa.jsx)("button",{onClick:e=>{e.stopPropagation(),g(e=>e===j.length-1?0:e+1)},className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 w-10 h-10 sm:w-12 sm:h-12 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center shadow-2xl z-20 transition-all cursor-pointer border border-gray-200",type:"button","aria-label":"Next image",children:(0,qa.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-800 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:3,children:(0,qa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),(0,qa.jsx)("div",{className:"absolute bottom-3 sm:bottom-4 left-1/2 transform -translate-x-1/2 flex gap-1.5",children:j.map((e,t)=>(0,qa.jsx)("button",{onClick:()=>g(t),className:"h-2 rounded-full transition-all ".concat(t===f?"bg-[#0066FF] w-6":"bg-gray-700 w-2")},t))})]}):(0,qa.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center rounded-[10px]",children:(0,qa.jsx)("span",{className:"text-gray-400 text-lg",children:"No Image Available"})}),(0,qa.jsxs)("div",{className:"flex flex-col ml-0 md:ml-6 mt-4 sm:mt-6 md:mt-0 flex-1",children:[(0,qa.jsx)("h1",{className:"text-[24px] sm:text-[28px] md:text-[32px] font-bold text-[#000000] leading-tight cursor-pointer hover:underline hover:decoration-[#0066FF] hover:decoration-2 transition-all",style:{fontFamily:"Inter, sans-serif",fontWeight:700},children:E}),(0,qa.jsxs)("div",{className:"flex items-baseline mt-2 cursor-pointer hover:underline hover:decoration-[#0066FF] hover:decoration-2",children:[(0,qa.jsxs)("span",{className:"text-[24px] sm:text-[28px] md:text-[32px] font-bold text-[#000000]",style:{fontFamily:"Inter, sans-serif",fontWeight:700},children:["\u20b9",T]}),(0,qa.jsx)("span",{className:"text-gray-500 ml-2 text-sm",children:I})]}),(0,qa.jsx)("div",{className:"flex items-center mt-4 border border-gray-300 rounded-xl overflow-hidden cursor-pointer hover:border-[#0066FF] hover:border-2",children:_?(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-2 sm:py-3 px-2 sm:px-4",children:[(0,qa.jsx)("img",{src:gs,className:"w-5 h-5 sm:w-6 sm:h-6 mb-1 sm:mb-1.5",alt:"transmission"}),(0,qa.jsx)("span",{className:"text-[11px] sm:text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:c.transmissionType||"Manual"})]}),(0,qa.jsx)("div",{className:"w-[1px] h-10 sm:h-12 bg-[#E5E5E5]"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-2 sm:py-3 px-2 sm:px-4",children:[(0,qa.jsx)("img",{src:So,className:"w-5 h-5 sm:w-6 sm:h-6 mb-1 sm:mb-1.5",alt:"seats"}),(0,qa.jsxs)("span",{className:"text-[11px] sm:text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:[c.Carseater||"5"," Seats"]})]}),(0,qa.jsx)("div",{className:"w-[1px] h-10 sm:h-12 bg-[#E5E5E5]"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-2 sm:py-3 px-2 sm:px-4",children:[(0,qa.jsx)("img",{src:ys,className:"w-5 h-5 sm:w-6 sm:h-6 mb-1 sm:mb-1.5",alt:"fuel"}),(0,qa.jsx)("span",{className:"text-[11px] sm:text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:c.fuelType||"Petrol"})]}),(0,qa.jsx)("div",{className:"w-[1px] h-10 sm:h-12 bg-[#E5E5E5]"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-2 sm:py-3 px-2 sm:px-4",children:[(0,qa.jsx)("img",{src:vs,className:"w-5 h-5 sm:w-6 sm:h-6 mb-1 sm:mb-1.5",alt:"ac"}),(0,qa.jsx)("span",{className:"text-[11px] sm:text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:c.Ac_available?"AC":"Non-AC"})]})]}):(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-3 px-4",children:[(0,qa.jsx)("img",{src:xs,className:"w-6 h-6 mb-1.5",alt:"engine"}),(0,qa.jsxs)("span",{className:"text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:[c.engineCapacity||c.bikeEngine||c.bikeCC||"350"," CC"]})]}),(0,qa.jsx)("div",{className:"w-[1px] h-12 bg-[#E5E5E5]"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-3 px-4",children:[(0,qa.jsx)("img",{src:gs,className:"w-6 h-6 mb-1.5",alt:"transmission"}),(0,qa.jsx)("span",{className:"text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:c.transmissionType||"Manual"})]}),(0,qa.jsx)("div",{className:"w-[1px] h-10 sm:h-12 bg-[#E5E5E5]"}),(0,qa.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center py-2 sm:py-3 px-2 sm:px-4",children:[(0,qa.jsx)("img",{src:ys,className:"w-5 h-5 sm:w-6 sm:h-6 mb-1 sm:mb-1.5",alt:"fuel"}),(0,qa.jsx)("span",{className:"text-[11px] sm:text-[13px] text-[#333333] font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Petrol"})]}),(0,qa.jsx)("div",{className:"w-[1px] h-10 sm:h-12 bg-[#E5E5E5]"}),(0,qa.jsxs)("div",{className:"flex flex-col items-center px-3 sm:px-4 py-2 sm:py-3",children:[(0,qa.jsx)("img",{src:To,className:"w-6 h-6 mb-1.5",alt:"location"}),(0,qa.jsx)("span",{className:"text-[13px] text-[#333333] font-medium whitespace-nowrap",style:{fontFamily:"Inter, sans-serif"},children:c.pickupCity||c.pickupArea||"N/A"})]})]})}),(0,qa.jsxs)("div",{className:"border border-[#E5E5E5] rounded-[10px] p-3 sm:p-4 bg-white mb-3 sm:mb-4 mt-3 sm:mt-4 cursor-pointer hover:border-[#0066FF] hover:border-2 transition-all duration-200 w-full max-w-full",children:[(0,qa.jsx)("h2",{className:"text-[16px] sm:text-[18px] font-bold text-[#000000] mb-2 cursor-pointer hover:underline hover:decoration-[#0066FF] hover:decoration-2 transition-all",style:{fontFamily:"Inter, sans-serif",fontWeight:700},children:"Description"}),(0,qa.jsx)("p",{className:"text-[#666666] text-[13px] sm:text-[14px] leading-[1.6] min-h-[40px] break-words whitespace-normal overflow-hidden",style:{fontFamily:"Inter, sans-serif",wordBreak:"break-word",overflowWrap:"break-word"},children:c.description||"No description available"})]}),!N&&(null===b||void 0===b?void 0:b.status)&&(0,qa.jsxs)("div",{className:"mb-3 sm:mb-4 p-3 bg-amber-50 border border-amber-200 rounded-xl flex items-start gap-2",children:[(0,qa.jsx)(Wc,{size:18,className:"text-amber-600 flex-shrink-0 mt-0.5"}),(0,qa.jsxs)("p",{className:"text-xs sm:text-sm text-amber-700",children:["Chat and Call are available only for ",(0,qa.jsx)("span",{className:"font-semibold",children:"Confirmed"})," bookings. Current status: ",(0,qa.jsx)("span",{className:"font-semibold",children:"AutoCancelled"===b.status?"Auto Cancelled":b.status})]})]}),(0,qa.jsx)("div",{className:"flex gap-3 sm:gap-4 h-[50px] sm:h-[56px]",children:(0,qa.jsxs)("button",{onClick:()=>{N&&(console.log("\ud83d\udcac Opening chat..."),v(!0))},disabled:!N,className:N?"flex-1 flex items-center justify-center gap-2 sm:gap-3 text-white font-semibold text-[16px] sm:text-[18px] transition-all duration-200 hover:opacity-90 rounded-full bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] py-3 sm:py-0":"flex-1 flex items-center justify-center gap-2 sm:gap-3 text-gray-400 font-semibold text-[16px] sm:text-[18px] rounded-full bg-gray-200 cursor-not-allowed py-3 sm:py-0",style:{fontFamily:"Inter, sans-serif"},title:N?"":"Chat is available only for confirmed bookings",children:[(0,qa.jsx)(fs,{size:20,className:"sm:w-6 sm:h-6",strokeWidth:2}),(0,qa.jsx)("span",{children:"Chat"})]})}),(0,qa.jsx)(Ss,{isOpen:y,onClose:()=>{console.log("\u274c Closing chat..."),v(!1)},pageRole:"customerView",currentUserId:R,currentUserName:localStorage.getItem("userName")||"You",ownerId:P,ownerName:c.contactName||"Vehicle Owner",ownerAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(c.contactName||"Owner"),customerId:R,customerName:localStorage.getItem("userName")||"You",customerAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(localStorage.getItem("userName")||"You"),bookingId:M,vehicleId:c._id,apiUrl:La.chat.apiUrl,socketUrl:Sa,useRealtime:!0})]})]})})},Uu=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Hu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Uu(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new Gu;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Gu extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ku=function(e){return function(e){const t=Uu(e);return Hu.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Wu=function(e){try{return Hu.decodeString(e,!0)}catch(nl){console.error("base64Decode failed: ",nl)}return null};function Zu(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const qu=()=>{try{return Zu().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_:"C:\\Program Files\\nodejs\\",REACT_APP_API_BASE_URL:"http://3.110.122.127:3000",REACT_APP_API_TIMEOUT:"15000",REACT_APP_FIREBASE_API_KEY:"AIzaSyB_32kh2o6DdBVVvLFFBUdMnTbPWWYp4z8",REACT_APP_FIREBASE_APP_ID:"1:406882720905:web:e7a2a367658a2cf1b03a58",REACT_APP_FIREBASE_AUTH_DOMAIN:"rentongovehicle-7e6c0.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-BC3ZM7VJ9C",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"406882720905",REACT_APP_FIREBASE_PROJECT_ID:"rentongovehicle-7e6c0",REACT_APP_FIREBASE_STORAGE_BUCKET:"rentongovehicle-7e6c0.firebasestorage.app",REACT_APP_USER_ID:"68fe32425c4f3da11dc7d030"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(nl){return}const t=e&&Wu(e[1]);return t&&JSON.parse(t)})()}catch(nl){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(nl))}},Yu=e=>{var t;return null===(t=qu())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Xu=()=>{var e;return null===(e=qu())||void 0===e?void 0:e.config},Ju=e=>{var t;return null===(t=qu())||void 0===t?void 0:t["_".concat(e)]};class Qu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function $u(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function ed(e){return(await fetch(e,{credentials:"include"})).ok}const td={};let nd=!1;function rd(e,t){if("undefined"===typeof window||"undefined"===typeof document||!$u(window.location.host)||td[e]===t||td[e]||nd)return;function n(e){return"__firebase__banner__".concat(e)}td[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(td))td[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{nd=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function id(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ad(){var e;const t=null===(e=qu())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(nl){return!1}}function od(){return!ad()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sd(){try{return"object"===typeof indexedDB}catch(nl){return!1}}function ld(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class cd extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,cd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ud.prototype.create)}}class ud{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(dd,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new cd(n,a,t)}}const dd=/\{\$([^}]+)}/g;function hd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(pd(n)&&pd(a)){if(!hd(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pd(e){return null!==e&&"object"===typeof e}function md(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function fd(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function gd(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class yd{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=vd),void 0===r.error&&(r.error=vd),void 0===r.complete&&(r.complete=vd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(nl){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(nl){"undefined"!==typeof console&&console.error&&console.error(nl)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vd(){}function xd(e){return e&&e._delegate?e._delegate:e}class bd{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wd="[DEFAULT]";class kd{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Qu;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(nl){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(nl){if(r)return null;throw nl}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wd})}catch(nl){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(nl){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wd;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wd;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wd;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===wd?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wd;return this.component?this.component.multipleInstances?e:wd:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Sd{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kd(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Nd=[];var _d;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(_d||(_d={}));const Cd={debug:_d.DEBUG,verbose:_d.VERBOSE,info:_d.INFO,warn:_d.WARN,error:_d.ERROR,silent:_d.SILENT},Ad=_d.INFO,jd={[_d.DEBUG]:"log",[_d.VERBOSE]:"log",[_d.INFO]:"info",[_d.WARN]:"warn",[_d.ERROR]:"error"},Ed=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=jd[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class Td{constructor(e){this.name=e,this._logLevel=Ad,this._logHandler=Ed,this._userLogHandler=null,Nd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _d))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Cd[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,_d.DEBUG,...t),this._logHandler(this,_d.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,_d.VERBOSE,...t),this._logHandler(this,_d.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,_d.INFO,...t),this._logHandler(this,_d.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,_d.WARN,...t),this._logHandler(this,_d.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,_d.ERROR,...t),this._logHandler(this,_d.ERROR,...t)}}let Id,Rd;const Pd=new WeakMap,Md=new WeakMap,Ld=new WeakMap,Dd=new WeakMap,Bd=new WeakMap;let Od={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Md.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ld.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zd(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Fd(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Rd||(Rd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ud(this),n),zd(Pd.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zd(e.apply(Ud(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(Ud(this),t,...r);return Ld.set(a,t.sort?t.sort():[t]),zd(a)}}function Vd(e){return"function"===typeof e?Fd(e):(e instanceof IDBTransaction&&function(e){if(Md.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Md.set(e,t)}(e),t=e,(Id||(Id=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Od):e);var t}function zd(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(zd(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&Pd.set(t,e)}).catch(()=>{}),Bd.set(t,e),t}(e);if(Dd.has(e))return Dd.get(e);const t=Vd(e);return t!==e&&(Dd.set(e,t),Bd.set(t,e)),t}const Ud=e=>Bd.get(e);function Hd(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=zd(o);return r&&o.addEventListener("upgradeneeded",e=>{r(zd(o.result),e.oldVersion,e.newVersion,zd(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}function Gd(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),zd(n).then(()=>{})}const Kd=["get","getKey","getAll","getAllKeys","count"],Wd=["put","add","delete","clear"],Zd=new Map;function qd(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Zd.get(t))return Zd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Wd.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Kd.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return Zd.set(t,a),a}Od=(e=>c(c({},e),{},{get:(t,n,r)=>qd(t,n)||e.get(t,n,r),has:(t,n)=>!!qd(t,n)||e.has(t,n)}))(Od);class Yd{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Xd="@firebase/app",Jd="0.14.6",Qd=new Td("@firebase/app"),$d="@firebase/app-compat",eh="@firebase/analytics-compat",th="@firebase/analytics",nh="@firebase/app-check-compat",rh="@firebase/app-check",ih="@firebase/auth",ah="@firebase/auth-compat",oh="@firebase/database",sh="@firebase/data-connect",lh="@firebase/database-compat",ch="@firebase/functions",uh="@firebase/functions-compat",dh="@firebase/installations",hh="@firebase/installations-compat",ph="@firebase/messaging",mh="@firebase/messaging-compat",fh="@firebase/performance",gh="@firebase/performance-compat",yh="@firebase/remote-config",vh="@firebase/remote-config-compat",xh="@firebase/storage",bh="@firebase/storage-compat",wh="@firebase/firestore",kh="@firebase/ai",Sh="@firebase/firestore-compat",Nh="firebase",_h="[DEFAULT]",Ch={[Xd]:"fire-core",[$d]:"fire-core-compat",[th]:"fire-analytics",[eh]:"fire-analytics-compat",[rh]:"fire-app-check",[nh]:"fire-app-check-compat",[ih]:"fire-auth",[ah]:"fire-auth-compat",[oh]:"fire-rtdb",[sh]:"fire-data-connect",[lh]:"fire-rtdb-compat",[ch]:"fire-fn",[uh]:"fire-fn-compat",[dh]:"fire-iid",[hh]:"fire-iid-compat",[ph]:"fire-fcm",[mh]:"fire-fcm-compat",[fh]:"fire-perf",[gh]:"fire-perf-compat",[yh]:"fire-rc",[vh]:"fire-rc-compat",[xh]:"fire-gcs",[bh]:"fire-gcs-compat",[wh]:"fire-fst",[Sh]:"fire-fst-compat",[kh]:"fire-vertex","fire-js":"fire-js",[Nh]:"fire-js-all"},Ah=new Map,jh=new Map,Eh=new Map;function Th(e,t){try{e.container.addComponent(t)}catch(nl){Qd.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),nl)}}function Ih(e){const t=e.name;if(Eh.has(t))return Qd.debug("There were multiple attempts to register component ".concat(t,".")),!1;Eh.set(t,e);for(const n of Ah.values())Th(n,e);for(const n of jh.values())Th(n,e);return!0}function Rh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ph(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Mh=new ud("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Lh{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mh.create("app-deleted",{appName:this._name})}}const Dh="12.6.0";function Bh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:_h,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Mh.create("bad-app-name",{appName:String(i)});if(n||(n=Xu()),!n)throw Mh.create("no-options");const a=Ah.get(i);if(a){if(hd(n,a.options)&&hd(r,a.config))return a;throw Mh.create("duplicate-app",{appName:i})}const o=new Sd(i);for(const l of Eh.values())o.addComponent(l);const s=new Lh(n,r,o);return Ah.set(i,s),s}function Oh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_h;const t=Ah.get(e);if(!t&&e===_h&&Xu())return Bh();if(!t)throw Mh.create("no-app",{appName:e});return t}function Fh(e,t,n){var r;let i=null!==(r=Ch[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Qd.warn(e.join(" "))}Ih(new bd("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Vh="firebase-heartbeat-store";let zh=null;function Uh(){return zh||(zh=Hd("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Vh)}catch(nl){console.warn(nl)}}}).catch(e=>{throw Mh.create("idb-open",{originalErrorMessage:e.message})})),zh}async function Hh(e,t){try{const n=(await Uh()).transaction(Vh,"readwrite"),r=n.objectStore(Vh);await r.put(t,Gh(e)),await n.done}catch(nl){if(nl instanceof cd)Qd.warn(nl.message);else{const t=Mh.create("idb-set",{originalErrorMessage:null===nl||void 0===nl?void 0:nl.message});Qd.warn(t.message)}}}function Gh(e){return"".concat(e.name,"!").concat(e.options.appId)}class Kh{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zh(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Wh();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(nl){Qd.warn(nl)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Wh(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),qh(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qh(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ku(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(nl){return Qd.warn(nl),""}}}function Wh(){return(new Date).toISOString().substring(0,10)}class Zh{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!sd()&&ld().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Uh()).transaction(Vh),n=await t.objectStore(Vh).get(Gh(e));return await t.done,n}catch(nl){if(nl instanceof cd)Qd.warn(nl.message);else{const t=Mh.create("idb-get",{originalErrorMessage:null===nl||void 0===nl?void 0:nl.message});Qd.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Hh(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Hh(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function qh(e){return Ku(JSON.stringify({version:2,heartbeats:e})).length}var Yh;Yh="",Ih(new bd("platform-logger",e=>new Yd(e),"PRIVATE")),Ih(new bd("heartbeat",e=>new Kh(e),"PRIVATE")),Fh(Xd,Jd,Yh),Fh(Xd,Jd,"esm2020"),Fh("fire-js","");const Xh=["providerId"],Jh=["uid","auth","stsTokenManager"],Qh=["providerId","signInMethod"];function $h(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ep=$h,tp=new ud("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),np=new Td("@firebase/auth");function rp(e){if(np.logLevel<=_d.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];np.error("Auth (".concat(Dh,"): ").concat(e),...n)}}function ip(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw cp(e,...n)}function ap(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cp(e,...n)}function op(e,t,n){const r=c(c({},ep()),{},{[t]:n});return new ud("auth","Firebase",r).create(t,{appName:e.name})}function sp(e){return op(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lp(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ip(e,"argument-error"),op(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function cp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return tp.create(e,...n)}function up(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw cp(t,...r)}}function dp(e){const t="INTERNAL ASSERTION FAILED: "+e;throw rp(t),new Error(t)}function hp(e,t){e||dp(t)}function pp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function mp(){return"http:"===fp()||"https:"===fp()}function fp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function gp(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(mp()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class yp{constructor(e,t){this.shortDelay=e,this.longDelay=t,hp(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(id())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return gp()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vp(e,t){hp(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class xp{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void dp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void dp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void dp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bp={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},wp=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kp=new yp(3e4,6e4);function Sp(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function Np(e,t,n,r){return _p(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=md(c({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&$u(e.emulatorConfig.host)&&(l.credentials="include"),xp.fetch()(await Ap(e,e.config.apiHost,n,o),l)})}async function _p(e,t,n){e._canInitEmulator=!1;const r=c(c({},bp),t);try{const t=new Ep(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Tp(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Tp(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Tp(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Tp(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw op(e,s,o);ip(e,s)}}catch(nl){if(nl instanceof cd)throw nl;ip(e,"network-request-failed",{message:String(nl)})}}async function Cp(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Np(e,t,n,r,i);return"mfaPendingCredential"in a&&ip(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Ap(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,o=a.config.emulator?vp(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(wp.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(o).toString()}return o}function jp(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ep{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ap(this.auth,"network-request-failed")),kp.get())})}}function Tp(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ap(e,t,r);return i.customData._tokenResponse=n,i}function Ip(e){return void 0!==e&&void 0!==e.enterprise}class Rp{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jp(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Pp(e,t){return Np(e,"GET","/v2/recaptchaConfig",Sp(e,t))}async function Mp(e,t){return Np(e,"POST","/v1/accounts:lookup",t)}function Lp(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(nl){}}function Dp(e){return 1e3*Number(e)}function Bp(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return rp("JWT malformed, contained fewer than 3 sections"),null;try{const e=Wu(n);return e?JSON.parse(e):(rp("Failed to decode base64 JWT payload"),null)}catch(nl){return rp("Caught error parsing JWT payload as JSON",null===nl||void 0===nl?void 0:nl.toString()),null}}function Op(e){const t=Bp(e);return up(t,"internal-error"),up("undefined"!==typeof t.exp,"internal-error"),up("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Fp(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(nl){throw nl instanceof cd&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(nl)&&e.auth.currentUser===e&&await e.auth.signOut(),nl}}class Vp{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(nl){return void((null===nl||void 0===nl?void 0:nl.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class zp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lp(this.lastLoginAt),this.creationTime=Lp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Up(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Fp(e,Mp(n,{idToken:r}));up(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?Hp(a.providerUserInfo):[],s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null!==s&&void 0!==s&&s.length),u=!!l&&c,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new zp(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function Hp(e){return e.map(e=>{let{providerId:t}=e,n=i(e,Xh);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Gp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){up(e.idToken,"internal-error"),up("undefined"!==typeof e.idToken,"internal-error"),up("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Op(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){up(0!==e.length,"internal-error");const t=Op(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(up(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await _p(e,{},async()=>{const n=md({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Ap(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:o,body:n};return e.emulatorConfig&&$u(e.emulatorConfig.host)&&(s.credentials="include"),xp.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Gp;return n&&(up("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(up("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(up("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gp,this.toJSON())}_performRefresh(){return dp("not implemented")}}function Kp(e,t){up("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Wp{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,a=i(e,Jh);this.providerId="firebase",this.proactiveRefresh=new Vp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fp(this,this.stsTokenManager.getToken(this.auth,e));return up(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=xd(e),r=await n.getIdToken(t),i=Bp(r);up(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Lp(Dp(i.auth_time)),issuedAtTime:Lp(Dp(i.iat)),expirationTime:Lp(Dp(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=xd(e);await Up(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(up(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wp(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){up(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Up(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ph(this.auth.app))return Promise.reject(sp(this.auth));const e=await this.getIdToken();return await Fp(this,async function(e,t){return Np(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,m=null!==(a=t.photoURL)&&void 0!==a?a:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:x,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:S}=t;up(x&&S,e,"internal-error");const N=Gp.fromJSON(this.name,S);up("string"===typeof x,e,"internal-error"),Kp(d,e.name),Kp(h,e.name),up("boolean"===typeof b,e,"internal-error"),up("boolean"===typeof w,e,"internal-error"),Kp(p,e.name),Kp(m,e.name),Kp(f,e.name),Kp(g,e.name),Kp(y,e.name),Kp(v,e.name);const _=new Wp({uid:x,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:w,photoURL:m,phoneNumber:p,tenantId:f,stsTokenManager:N,createdAt:y,lastLoginAt:v});return k&&Array.isArray(k)&&(_.providerData=k.map(e=>c({},e))),g&&(_._redirectEventId=g),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Gp;r.updateFromServerResponse(t);const i=new Wp({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Up(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];up(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Hp(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new Gp;o.updateFromIdToken(n);const s=new Wp({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new zp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(s,l),s}}const Zp=new Map;function qp(e){hp(e instanceof Function,"Expected a class definition");let t=Zp.get(e);return t?(hp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zp.set(e,t),t)}class Yp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yp.type="NONE";const Xp=Yp;function Jp(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Qp{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Jp(this.userKey,r.apiKey,i),this.fullPersistenceKey=Jp("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Mp(this.auth,{idToken:e}).catch(()=>{});return t?Wp._fromGetAccountInfoResponse(this.auth,t,e):null}return Wp._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Qp(qp(Xp),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||qp(Xp);const a=Jp(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await Mp(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Wp._fromGetAccountInfoResponse(e,r,t)}else n=Wp._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(t){}})),new Qp(i,e,n)):new Qp(i,e,n)}}function $p(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(em(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(am(t))return"Blackberry";if(om(t))return"Webos";if(tm(t))return"Safari";if((t.includes("chrome/")||nm(t))&&!t.includes("edge/"))return"Chrome";if(im(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function em(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:id();return/firefox\//i.test(e)}function tm(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:id()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:id();return/crios\//i.test(e)}function rm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:id();return/iemobile/i.test(e)}function im(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:id();return/android/i.test(e)}function am(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:id();return/blackberry/i.test(e)}function om(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:id();return/webos/i.test(e)}function sm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:id();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function lm(){return function(){const e=id();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function cm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:id();return sm(e)||im(e)||om(e)||am(e)||/windows phone/i.test(e)||rm(e)}function um(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$p(id());break;case"Worker":t="".concat($p(id()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Dh,"/").concat(r)}class dm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(nl){r(nl)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(nl){t.reverse();for(const n of t)try{n()}catch(Ul){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===nl||void 0===nl?void 0:nl.message})}}}class hm{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class pm{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fm(this),this.idTokenSubscription=new fm(this),this.beforeStateQueue=new dm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qp(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Qp.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(nl){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Mp(this,{idToken:e}),n=await Wp._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(kN){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",kN),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ph(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(a=n)||void 0===a?void 0:a._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==o||null===s||void 0===s||!s.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(nl){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(nl))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return up(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(nl){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(nl){if((null===nl||void 0===nl?void 0:nl.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ph(this.app))return Promise.reject(sp(this));const t=e?xd(e):null;return t&&up(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&up(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ph(this.app)?Promise.reject(sp(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ph(this.app)?Promise.reject(sp(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qp(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Np(e,"GET","/v2/passwordPolicy",Sp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new hm(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ud("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Np(e,"POST","/v2/accounts:revokeToken",Sp(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qp(e)||this._popupRedirectResolver;up(t,this,"argument-error"),this.redirectPersistenceManager=await Qp.create(this,[qp(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(up(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return up(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=um(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ph(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(np.logLevel<=_d.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];np.warn("Auth (".concat(Dh,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function mm(e){return xd(e)}class fm{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new yd(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return up(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ym(e){return gm.loadJS(e)}function vm(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class xm{constructor(){this.enterprise=new bm}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bm{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const wm="NO_RECAPTCHA";class km{constructor(e){this.type="recaptcha-enterprise",this.auth=mm(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ip(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(wm)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new xm).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Pp(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Rp(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Ip(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=gm.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ym(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Sm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new km(e);let o;if(i)o=wm;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Nm(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Sm(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Sm(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await Sm(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Sm(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Sm(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function _m(e){const t=mm(e),n=await Pp(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Rp(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new km(t).verify()}}function Cm(e,t,n){const r=mm(e);up(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),a=Am(t),{host:o,port:s}=function(e){const t=Am(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:jm(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:jm(t)}}}(t),l=null===s?"":":".concat(s),c={url:"".concat(a,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return up(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void up(hd(c,r.config.emulator)&&hd(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,$u(o)?(ed("".concat(a,"//").concat(o).concat(l)),rd("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Am(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function jm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Em{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return dp("not implemented")}_getIdTokenResponse(e){return dp("not implemented")}_linkToIdToken(e,t){return dp("not implemented")}_getReauthenticationResolver(e){return dp("not implemented")}}async function Tm(e,t){return Np(e,"POST","/v1/accounts:signUp",t)}async function Im(e,t){return Cp(e,"POST","/v1/accounts:signInWithPassword",Sp(e,t))}class Rm extends Em{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Rm(e,t,"password")}static _fromEmailAndCode(e,t){return new Rm(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Nm(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Im,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Cp(e,"POST","/v1/accounts:signInWithEmailLink",Sp(e,t))}(e,{email:this._email,oobCode:this._password});default:ip(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Nm(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Cp(e,"POST","/v1/accounts:signInWithEmailLink",Sp(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ip(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Pm(e,t){return Cp(e,"POST","/v1/accounts:signInWithIdp",Sp(e,t))}class Mm extends Em{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ip("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=i(t,Qh);if(!n||!r)return null;const o=new Mm(n,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){return Pm(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Pm(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pm(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=md(t)}return e}}async function Lm(e,t){return Np(e,"POST","/v1/accounts:sendVerificationCode",Sp(e,t))}const Dm={USER_NOT_FOUND:"user-not-found"};class Bm extends Em{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Bm({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Bm({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Cp(e,"POST","/v1/accounts:signInWithPhoneNumber",Sp(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Cp(e,"POST","/v1/accounts:signInWithPhoneNumber",Sp(e,t));if(n.temporaryProof)throw Tp(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Cp(e,"POST","/v1/accounts:signInWithPhoneNumber",Sp(e,c(c({},t),{},{operation:"REAUTH"})),Dm)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Bm({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Om{constructor(e){var t,n,r,i,a,o;const s=fd(gd(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);up(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.lang)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=fd(gd(e)).link,n=t?fd(gd(t)).deep_link_id:null,r=fd(gd(e)).deep_link_id;return(r?fd(gd(r)).link:null)||r||n||t||e}(e);try{return new Om(t)}catch(n){return null}}}class Fm{constructor(){this.providerId=Fm.PROVIDER_ID}static credential(e,t){return Rm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Om.parseLink(t);return up(n,"argument-error"),Rm._fromEmailAndCode(e,n.code,n.tenantId)}}Fm.PROVIDER_ID="password",Fm.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Fm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Vm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zm extends Vm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Um extends zm{constructor(){super("facebook.com")}static credential(e){return Mm._fromParams({providerId:Um.PROVIDER_ID,signInMethod:Um.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Um.credentialFromTaggedObject(e)}static credentialFromError(e){return Um.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Um.credential(t.oauthAccessToken)}catch(n){return null}}}Um.FACEBOOK_SIGN_IN_METHOD="facebook.com",Um.PROVIDER_ID="facebook.com";class Hm extends zm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mm._fromParams({providerId:Hm.PROVIDER_ID,signInMethod:Hm.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hm.credentialFromTaggedObject(e)}static credentialFromError(e){return Hm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Hm.credential(n,r)}catch(i){return null}}}Hm.GOOGLE_SIGN_IN_METHOD="google.com",Hm.PROVIDER_ID="google.com";class Gm extends zm{constructor(){super("github.com")}static credential(e){return Mm._fromParams({providerId:Gm.PROVIDER_ID,signInMethod:Gm.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gm.credentialFromTaggedObject(e)}static credentialFromError(e){return Gm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Gm.credential(t.oauthAccessToken)}catch(n){return null}}}Gm.GITHUB_SIGN_IN_METHOD="github.com",Gm.PROVIDER_ID="github.com";class Km extends zm{constructor(){super("twitter.com")}static credential(e,t){return Mm._fromParams({providerId:Km.PROVIDER_ID,signInMethod:Km.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Km.credentialFromTaggedObject(e)}static credentialFromError(e){return Km.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Km.credential(n,r)}catch(i){return null}}}Km.TWITTER_SIGN_IN_METHOD="twitter.com",Km.PROVIDER_ID="twitter.com";class Wm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Wp._fromIdTokenResponse(e,n,r),a=Zm(n);return new Wm({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Zm(n);return new Wm({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Zm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class qm extends cd{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,qm.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new qm(e,t,n,r)}}function Ym(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw qm._fromErrorAndOperation(e,n,t,r);throw n})}async function Xm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Fp(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Wm._forOperation(e,"link",r)}async function Jm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ph(r.app))return Promise.reject(sp(r));const i="reauthenticate";try{const a=await Fp(e,Ym(r,i,t,e),n);up(a.idToken,r,"internal-error");const o=Bp(a.idToken);up(o,r,"internal-error");const{sub:s}=o;return up(e.uid===s,r,"user-mismatch"),Wm._forOperation(e,i,a)}catch(nl){throw(null===nl||void 0===nl?void 0:nl.code)==="auth/".concat("user-not-found")&&ip(r,"user-mismatch"),nl}}async function Qm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ph(e.app))return Promise.reject(sp(e));const r="signIn",i=await Ym(e,r,t),a=await Wm._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function $m(e,t){return Np(e,"POST","/v2/accounts/mfaEnrollment:start",Sp(e,t))}new WeakMap;const ef="__sak";class tf{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class nf extends tf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cm(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);lm()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nf.type="LOCAL";const rf=nf;function af(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function of(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class sf{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=of(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return af(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=of(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=of(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=af(n);const i=setInterval(()=>{const e=af(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}sf.type="COOKIE";class lf extends tf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lf.type="SESSION";const cf=lf;class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new uf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function df(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}uf.receivers=[];class hf{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=df("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function pf(){return window}function mf(){return"undefined"!==typeof pf().WorkerGlobalScope&&"function"===typeof pf().importScripts}const ff="firebaseLocalStorageDb",gf="firebaseLocalStorage",yf="fbase_key";class vf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xf(e,t){return e.transaction([gf],t?"readwrite":"readonly").objectStore(gf)}function bf(){const e=indexedDB.open(ff,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(gf,{keyPath:yf})}catch(nl){n(nl)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(gf)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ff);return new vf(e).toPromise()}(),t(await bf()))})})}async function wf(e,t,n){const r=xf(e,!0).put({[yf]:t,value:n});return new vf(r).toPromise()}function kf(e,t){const n=xf(e,!0).delete(t);return new vf(n).toPromise()}class Sf{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await bf()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(nl){if(t++>3)throw nl;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mf()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(mf()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new hf(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bf();return await wf(e,ef,"1"),await kf(e,ef),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wf(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=xf(e,!1).get(t),r=await new vf(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>kf(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=xf(e,!1).getAll();return new vf(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Sf.type="LOCAL";const Nf=Sf;function _f(e,t){return Np(e,"POST","/v2/accounts/mfaSignIn:start",Sp(e,t))}vm("rcb"),new yp(3e4,6e4);const Cf="recaptcha";async function Af(e,t,n){if(!e._getRecaptchaConfig())try{await _m(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){up("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Nm(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===wm){up((null===n||void 0===n?void 0:n.type)===Cf,e,"argument-error");return $m(e,await jf(e,t,n))}return $m(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;up("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;up(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Nm(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===wm){up((null===n||void 0===n?void 0:n.type)===Cf,e,"argument-error");return _f(e,await jf(e,t,n))}return _f(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Nm(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===wm){up((null===n||void 0===n?void 0:n.type)===Cf,e,"argument-error");return Lm(e,await jf(e,t,n))}return Lm(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function jf(e,t,n){up(n.type===Cf,e,"argument-error");const r=await n.verify();up("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Ef{constructor(e){this.providerId=Ef.PROVIDER_ID,this.auth=mm(e)}verifyPhoneNumber(e,t){return Af(this.auth,e,xd(t))}static credential(e,t){return Bm._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ef.credentialFromTaggedObject(t)}static credentialFromError(e){return Ef.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Bm._fromTokenResponse(n,r):null}}function Tf(e,t){return t?qp(t):(up(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ef.PROVIDER_ID="phone",Ef.PHONE_SIGN_IN_METHOD="phone";class If extends Em{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Rf(e){return Qm(e.auth,new If(e),e.bypassAuthState)}function Pf(e){const{auth:t,user:n}=e;return up(n,t,"internal-error"),Jm(n,new If(e),e.bypassAuthState)}async function Mf(e){const{auth:t,user:n}=e;return up(n,t,"internal-error"),Xm(n,new If(e),e.bypassAuthState)}class Lf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(nl){this.reject(nl)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(nl){this.reject(nl)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rf;case"linkViaPopup":case"linkViaRedirect":return Mf;case"reauthViaPopup":case"reauthViaRedirect":return Pf;default:ip(this.auth,"internal-error")}}resolve(e){hp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Df=new yp(2e3,1e4);class Bf extends Lf{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Bf.currentPopupAction&&Bf.currentPopupAction.cancel(),Bf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return up(e,this.auth,"internal-error"),e}async onExecution(){hp(1===this.filter.length,"Popup operations only handle one event");const e=df();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ap(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ap(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ap(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Df.get())};e()}}Bf.currentPopupAction=null;const Of=new Map;class Ff extends Lf{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Uf(t),r=zf(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(nl){e=()=>Promise.reject(nl)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Vf(e,t){Of.set(e._key(),t)}function zf(e){return qp(e._redirectPersistence)}function Uf(e){return Jp("pendingRedirect",e.config.apiKey,e.name)}async function Hf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ph(e.app))return Promise.reject(sp(e));const r=mm(e),i=Tf(r,t),a=new Ff(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Gf{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Wf(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ap(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kf(e))}saveEventToCache(e){this.cachedEventUids.add(Kf(e)),this.lastProcessedEventTime=Date.now()}}function Kf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Wf(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Zf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qf=/^https?/;async function Yf(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Np(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Xf(r))return}catch(n){}ip(e,"unauthorized-domain")}function Xf(e){const t=pp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!qf.test(n))return!1;if(Zf.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Jf=new yp(3e4,6e4);function Qf(){const e=pf().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function $f(e){return new Promise((t,n)=>{var r,i;function a(){Qf(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qf(),n(ap(e,"network-request-failed"))},timeout:Jf.get()})}if(null!==(r=pf().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=pf().gapi)||void 0===i||!i.load){const t=vm("iframefcb");return pf()[t]=()=>{gapi.load?a():n(ap(e,"network-request-failed"))},ym("".concat(gm.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw eg=null,e})}let eg=null;const tg=new yp(5e3,15e3),ng={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ig(e){const t=e.config;up(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vp(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Dh},i=rg.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(md(r).slice(1))}async function ag(e){const t=await function(e){return eg=eg||$f(e),eg}(e),n=pf().gapi;return up(n,e,"internal-error"),t.open({where:document.body,url:ig(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ng,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ap(e,"network-request-failed"),a=pf().setTimeout(()=>{r(i)},tg.get());function o(){pf().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const og={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(nl){}}}function lg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=c(c({},og),{},{width:r.toString(),height:i.toString(),top:a,left:o}),u=id().toLowerCase();n&&(s=nm(u)?"_blank":n),em(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return sm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:id())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new sg(null);const h=window.open(t||"",s,d);up(h,e,"popup-blocked");try{h.focus()}catch(nl){}return new sg(h)}const cg="__/auth/handler",ug="emulator/auth/handler",dg=encodeURIComponent("fac");async function hg(e,t,n,r,i,a){up(e.config.authDomain,e,"auth-domain-config-required"),up(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Dh,eventId:i};if(t instanceof Vm){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof zm){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(dg,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(cg);return vp(t,ug)}(e),"?").concat(md(s).slice(1)).concat(c)}const pg="webStorageSupport";const mg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cf,this._completeRedirectFn=Hf,this._overrideRedirectResult=Vf}async _openPopup(e,t,n,r){var i;hp(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return lg(e,await hg(e,t,n,pp(),r),df())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){pf().location.href=e}(await hg(e,t,n,pp(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(hp(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await ag(e),n=new Gf(e);return t.register("authEvent",t=>{up(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pg,{type:pg},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[pg];void 0!==i&&t(!!i),ip(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Yf(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cm()||tm()||sm()}};var fg="@firebase/auth",gg="1.11.1";class yg{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){up(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vg=Ju("authIdTokenMaxAge")||300;let xg=null;var bg;!function(e){gm=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ap("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),bg="Browser",Ih(new bd("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;up(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:bg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:um(bg)},c=new pm(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qp);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ih(new bd("auth-internal",e=>(e=>new yg(e))(mm(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Fh(fg,gg,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(bg)),Fh(fg,gg,"esm2020");Fh("firebase","12.6.0","app");var wg,kg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Sg={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a,o=e.g[3];a=t+(o^n&(i^o))+r[0]+3614090360&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[2]+606105819&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[3]+3250441966&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[4]+4118548399&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[6]+2821735955&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[7]+4249261313&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[8]+1770035416&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[10]+4294925233&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[11]+2304563134&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[12]+1804603682&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[14]+2792965006&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[15]+1236535329&4294967295,a=t+(i^o&((n=i+(a<<22&4294967295|a>>>10))^i))+r[1]+4129170786&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[6]+3225465664&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[11]+643717713&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[0]+3921069994&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[5]+3593408605&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[10]+38016083&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[15]+3634488961&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[4]+3889429448&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[9]+568446438&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[14]+3275163606&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[3]+4107603335&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[8]+1163531501&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[13]+2850285829&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[2]+4243563512&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[7]+1735328473&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[12]+2368359562&4294967295,a=t+((n=i+(a<<20&4294967295|a>>>12))^i^o)+r[5]+4294588738&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[11]+1839030562&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[14]+4259657740&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[1]+2763975236&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[7]+4139469664&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[10]+3200236656&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[13]+681279174&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[3]+3572445317&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[6]+76029189&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[9]+3654602809&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[15]+530742520&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[2]+3299628645&4294967295,a=t+(i^((n=i+(a<<23&4294967295|a>>>9))|~o))+r[0]+4096336452&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[14]+2878612391&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[5]+4237533241&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[12]+1700485571&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[10]+4293915773&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[1]+2240044497&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[8]+1873313359&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[6]+2734768916&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[13]+1309151649&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[4]+4149444226&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[2]+718787259&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let a=this.h,o=0;for(;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function a(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(e<0)return h(o(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function f(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new f(s,s);if(d(e))return t=g(h(e),t),new f(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new f(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);c.l(e)<=0&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=p(e,i.j(t)),new f(i,t)}for(i=s;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(a=o(n)).j(t);d(c)||c.l(e)>0;)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=p(e,c)}return new f(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,a=[];for(let r=0;r<i;r++)a[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=o(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let a=(((n=p(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;a.length<6;)a="0"+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),a=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=a>>>16,t&=65535,a&=65535,n[r]=a<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return o(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,a=65535&this.i(i),o=e.i(t)>>>16,s=65535&e.i(t);n[2*i+2*t]+=a*s,m(n,2*i+2*t),n[2*i+2*t+1]+=r*s,m(n,2*i+2*t+1),n[2*i+2*t+1]+=a*o,m(n,2*i+2*t+1),n[2*i+2*t+2]+=r*o,m(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Sg.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=o(Math.pow(n,8));let i=s;for(let s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s);const e=parseInt(t.substring(s,s+a),n);a<8?(a=o(Math.pow(n,a)),i=i.j(a).add(o(e))):(i=i.j(r),i=i.add(o(e)))}return i},wg=Sg.Integer=r}).apply("undefined"!==typeof kg?kg:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ng,_g,Cg,Ag,jg,Eg,Tg,Ig,Rg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Pg={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Rg&&Rg];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},a=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=s).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function m(e){a.setTimeout(()=>{throw e},0)}function f(){var e=b;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,x=!1,b=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},w=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(k)}};function k(){for(var e;e=f();){try{e.h.call(e.g)}catch(ll){m(ll)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}x=!1}function S(){this.u=this.u,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var _=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(ll){}return e}();function C(e){return/^[\s\xa0]*$/.test(e)}function A(e,t){N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(A,N),A.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&A.Z.h.call(this)},A.prototype.h=function(){A.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),E=0;function T(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++E,this.da=this.fa=!1}function I(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function R(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function P(e){const t={};for(const n in e)t[n]=e[n];return t}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<M.length;t++)n=M[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function D(e){this.src=e,this.g={},this.h=0}function B(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=a>=0)&&Array.prototype.splice.call(i,a,1),r&&(I(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function O(e,t,n,r){for(let i=0;i<e.length;++i){const a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}D.prototype.add=function(e,t,n,r,i){const a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);const o=O(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new T(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var F="closure_lm_"+(1e6*Math.random()|0),V={};function z(e,t,n,r,i){if(r&&r.once)return H(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)z(e,t[a],n,r,i);return null}return n=X(n),e&&e[j]?e.J(t,n,o(r)?!!r.capture:!!r,i):U(e,t,n,!1,r,i)}function U(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");const s=o(i)?!!i.capture:!!i;let l=q(e);if(l||(e[F]=l=new D(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(W(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function H(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)H(e,t[a],n,r,i);return null}return n=X(n),e&&e[j]?e.K(t,n,o(r)?!!r.capture:!!r,i):U(e,t,n,!0,r,i)}function G(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)G(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=X(n),e&&e[j]?(e=e.i,(a=String(t).toString())in e.g&&((n=O(t=e.g[a],n,r,i))>-1&&(I(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[a],e.h--)))):e&&(e=q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=O(t,n,r,i)),(n=e>-1?t[e]:null)&&K(n))}function K(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(W(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=q(t))?(B(n,e),0==n.h&&(n.src=null,t[F]=null)):I(e)}}}function W(e){return e in V?V[e]:V[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new A(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&K(e),e=n.call(r,t)}return e}function q(e){return(e=e[F])instanceof D?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function J(){S.call(this),this.i=new D(this),this.M=this,this.G=null}function Q(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;L(t=new N(r,e),i)}let a,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=$(a,r,!0,t)&&i;if(a=t.g=e,i=$(a,r,!0,t)&&i,i=$(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=$(a,r,!1,t)&&i}function $(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){const o=t[a];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:a.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(J,S),J.prototype[j]=!0,J.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},J.prototype.N=function(){if(J.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)I(n[e]);delete e.g[t],e.h--}}this.G=null},J.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},J.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){S.call(this),this.h=e,this.g={}}u(ne,S);var re=[];function ie(e){R(e.g,function(e,t){this.g.hasOwnProperty(t)&&K(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=a.JSON.stringify,oe=a.JSON.parse,se=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){N.call(this,"d")}function he(){N.call(this,"c")}u(de,N),u(he,N);var pe={},me=null;function fe(){return me=me||new J}function ge(e){N.call(this,pe.Ia,e)}function ye(e){const t=fe();Q(t,new ge(t))}function ve(e,t){N.call(this,pe.STAT_EVENT,e),this.stat=t}function xe(e){const t=fe();Q(t,new ve(t,e))}function be(e,t){N.call(this,pe.Ja,e),this.size=t}function we(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function ke(){this.g=!0}function Se(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const a=JSON.parse(t);if(a)for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return ae(a)}catch(pl){return t}}(e,n)+(r?" "+r:"")})}pe.Ia="serverreachability",u(ge,N),pe.STAT_EVENT="statevent",u(ve,N),pe.Ja="timingevent",u(be,N),ke.prototype.ua=function(){this.g=!1},ke.prototype.info=function(){};var Ne,_e={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ae(){}function je(e){return encodeURIComponent(String(e))}function Ee(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Te(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}u(Ae,le),Ae.prototype.g=function(){return new XMLHttpRequest},Ne=new Ae;var Re={},Pe={};function Me(e,t,n){e.M=1,e.A=at(et(t)),e.u=n,e.R=!0,Le(e,null)}function Le(e,t){e.F=Date.now(),Oe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),xt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ie,e.g=on(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let a=0;a<i.length;a++){const e=z(n,i[a],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?P(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o="",s=a.split("&");for(let e=0;e<s.length;e++){var l=s[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+l+"&":o+(e+"=redacted&")}}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function De(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pe:(n=Number(t.substring(n,r)),isNaN(n)?Re:(r+=1)+n>t.length?Pe:(t=t.slice(r,r+n),e.C=r+n,t))}function Oe(e){e.T=Date.now()+e.H,Fe(e,e.H)}function Fe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=we(l(e.aa,e),t)}function Ve(e){e.D&&(a.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||en(e.j,e)}function Ue(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function He(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||qe(n.h,e)))if(!e.L&&qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;$t(n),Ht(n)}Xt(n),xe(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=we(l(n.Va,n),6e3));Ze(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&$t(n),!C(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Ye(a,a.h),a.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=an(r,r.L?r.ba:null,r.W),o.L){Xe(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(Ve(s),Oe(s)),r.g=o}else Yt(r);n.i.length>0&&Kt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Ut(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(u){}}Te.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ot(e)?t.j():this.Y(e)},Te.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ot(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||4!=l||7==c||ye(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!De(e))return e.g.la();const t=Ft(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ot(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Ue(e),ze(e),"";e.h.i=new a.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,xe(12),Ue(this),ze(this);break e}Se(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Be(this,n),t==Pe){4==l&&(this.m=4,xe(14),e=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}if(t==Re){this.m=4,xe(15),Se(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Se(this.i,this.l,t,null),He(this,t)}if(De(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,xe(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var s=this.j;s.g==this&&s.aa&&!s.P&&(s.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jt(s),s.P=!0,xe(11))}}else Se(this.i,this.l,n,"[Invalid Chunked Response]"),Ue(this),ze(this)}else Se(this.i,this.l,n,null),He(this,n);4==l&&Ue(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Oe(this)))}else(function(e){const t={};e=(e.g&&Ot(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(C(e[r]))continue;var n=Ee(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),Ue(this),ze(this)}}}catch(Dl){}},Te.prototype.cancel=function(){this.K=!0,Ue(this)},Te.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),xe(17)),Ue(this),this.m=2,ze(this)):Fe(this,this.T-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function Ke(e){this.l=e||10,a.PerformanceNavigationTiming?e=(e=a.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function We(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ze(e){return e.h?1:e.g?e.g.size:0}function qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Je(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}Ke.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Qe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $e(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof $e?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,bt(e.i)),this.m=e.m):e&&(t=String(e).match(Qe))?(this.l=!1,tt(this,t[1]||"",!0),this.o=ot(t[2]||""),this.g=ot(t[3]||"",!0),nt(this,t[4]),this.h=ot(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=ot(t[7]||"")):(this.l=!1,this.i=new mt(null,this.l))}function et(e){return new $e(e)}function tt(e,t,n){e.j=n?ot(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof mt?(e.i=t,function(e,t){t&&!e.j&&(ft(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),xt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=st(t,ht)),e.i=new mt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function at(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ot(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function st(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}$e.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(st(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(st(t,ct,!0),"@"),e.push(je(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(st(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",st(n,pt)),e.join("")},$e.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,bt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,pt=/#/g;function mt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ft(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){ft(e),t=wt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return ft(e),t=wt(e,t),e.g.has(t)}function vt(e,t){ft(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(wt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function xt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(wt(e,t),h(n)),e.h+=n.length)}function bt(e){const t=new mt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function wt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(pl){}}function St(){this.g=new se}function Nt(e){this.i=e.Sb||null,this.h=e.ab||!1}function _t(e,t){J.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ct(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function At(e){e.readyState=4,e.l=null,e.j=null,e.B=null,jt(e)}function jt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Et(e){let t="";return R(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Tt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Et(n),"string"===typeof e?null!=n&&je(n):it(e,t,n))}function It(e){J.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=mt.prototype).add=function(e,t){ft(this),this.i=null,e=wt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){ft(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return ft(this),this.i=null,yt(this,e=wt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=je(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+je(n[t])),e.push(r)}}return this.i=e.join("&")},u(Nt,le),Nt.prototype.g=function(){return new _t(this.i,this.h)},u(_t,J),(e=_t.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,jt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||a).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,At(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ct(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?At(this):jt(this),3==this.readyState&&Ct(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,At(this))},e.Na=function(e){this.g&&(this.response=e,At(this))},e.ga=function(){this.g&&At(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_t.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(It,J);var Rt=/^https?$/i,Pt=["POST","PUT"];function Mt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Lt(e),Bt(e)}function Lt(e){e.A||(e.A=!0,Q(e,"complete"),Q(e,"error"))}function Dt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ot(e))setTimeout(e.Ca.bind(e),0);else if(Q(e,"readystatechange"),4==Ot(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Qe)[1]||null;!t&&a.self&&a.self.location&&(t=a.self.location.protocol.slice(0,-1)),r=!Rt.test(t?t.toLowerCase():"")}n=r}if(n)Q(e,"complete"),Q(e,"success");else{e.o=6;try{var o=Ot(e)>2?e.g.statusText:""}catch(ml){o=""}e.l=o+" ["+e.ca()+"]",Lt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const n=e.g;e.g=null,t||Q(e,"ready");try{n.onreadystatechange=null}catch(hl){}}}function Ot(e){return e.g?e.g.readyState:0}function Ft(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new ke,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new Ke(e&&e.concurrentRequestLimit),this.Ba=new St,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Ut(e){if(Gt(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Zt(e,n),(t=new Te(e,e.j,t)).M=2,t.A=at(et(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.A.toString(),"")}catch(hl){}!n&&a.Image&&((new Image).src=t.A,n=!0),n||(t.g=on(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Oe(t)}rn(e)}function Ht(e){e.g&&(Jt(e),e.g.cancel(),e.g=null)}function Gt(e){Ht(e),e.v&&(a.clearTimeout(e.v),e.v=null),$t(e),e.h.cancel(),e.m&&("number"===typeof e.m&&a.clearTimeout(e.m),e.m=null)}function Kt(e){if(!We(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||w(),x||(v(),x=!0),b.add(t,e),e.D=0}}function Wt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Zt(e,r),e.u&&e.o&&Tt(r,e.u,e.o),n=new Te(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Me(n,r,t)}function Zt(e,t){e.H&&R(e.H,function(e,n){it(t,n,e)}),e.l&&R({},function(e,n){it(t,n,e)})}function qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var a=i[c].g;const n=i[c].map;if((a-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{a="req"+a+"_"||0;try{var s=n instanceof Map?n:Object.entries(n);for(const[t,n]of s){let r=n;o(n)&&(r=ae(n)),e.push(a+t+"="+encodeURIComponent(r))}}catch(Lg){throw e.push(a+"type="+encodeURIComponent("_badmap")),Lg}}catch(Lg){r&&r(n)}}if(l){s=e.join("&");break e}}s=void 0}return e=e.i.splice(0,n),t.G=e,s}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||w(),x||(v(),x=!0),b.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=we(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function Jt(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function Qt(e){e.g=new Te(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Zt(e,t),e.u&&e.o&&Tt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=at(et(t)),n.u=null,n.R=!0,Le(n,e)}function $t(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){$t(e),Jt(e),e.g=null;var r=2}else{if(!qe(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;Q(r=fe(),new be(r,n)),Kt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ze(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=we(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new $e(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||tt(r,"https"),at(r),t?function(e,t){const n=new ke;if(a.Image){const r=new Image;r.onload=c(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(kt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout(()=>{n.abort(),kt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)}).catch(()=>{clearTimeout(r),kt(0,0,!1,t)})}(r.toString(),n)}else xe(2);e.I=0,e.l&&e.l.pa(t),rn(e),Gt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=Je(e.h);0==t.length&&0==e.i.length||(p(e.ja,t),p(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function an(e,t,n){var r=n instanceof $e?et(n):new $e(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new $e(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Zt(e,r),r}function on(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new It(new Nt({ab:n})):new It(e.ma)).Fa(e.L),t}function sn(){}function ln(){}function cn(e,t){J.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!C(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=It.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ne.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(pl){return void Mt(this,pl)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(Array.prototype.indexOf.call(Pt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(pl){Mt(this,pl)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Q(this,"complete"),Q(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),It.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Dt(this):this.Xa())},e.Xa=function(){Dt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ot(this)>2?this.g.status:-1}catch(al){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(al){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),oe(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){xe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=an(this,null,this.W),Kt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Te(this,this.j,e);let a=this.o;if(this.U&&(a?(a=P(a),L(a,this.U)):a=this.U),null!==this.u||this.R||(i.J=a,a=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Zt(this,n),a&&(this.R?t="headers="+je(Et(a))+"&"+t:this.u&&Tt(n,this.u,a)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Me(i,n,null)):Me(i,n,t),this.I=2}}else 3==this.I&&(e?Wt(this,e):0==this.i.length||We(this.h)||Wt(this))},e.Da=function(){if(this.v=null,Qt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=we(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Ht(this),Qt(this))},e.Va=function(){null!=this.C&&(this.C=null,Ht(this),Xt(this),xe(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=sn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,J),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ut(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ae(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.I&&Kt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,sn),hn.prototype.ra=function(){Q(this.g,"a")},hn.prototype.qa=function(e){Q(this.g,new un(e))},hn.prototype.pa=function(e){Q(this.g,new dn)},hn.prototype.oa=function(){Q(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Ig=Pg.createWebChannelTransport=function(){return new ln},Tg=Pg.getStatEventTarget=function(){return fe()},Eg=Pg.Event=pe,jg=Pg.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Ag=Pg.ErrorCode=_e,Ce.COMPLETE="complete",Cg=Pg.EventType=Ce,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",J.prototype.listen=J.prototype.J,_g=Pg.WebChannel=ce,Pg.FetchXmlHttpFactory=Nt,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,Ng=Pg.XhrIo=It}).apply("undefined"!==typeof Rg?Rg:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Mg="@firebase/firestore",Lg="4.9.2";class Dg{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dg.UNAUTHENTICATED=new Dg(null),Dg.GOOGLE_CREDENTIALS=new Dg("google-credentials-uid"),Dg.FIRST_PARTY=new Dg("first-party-uid"),Dg.MOCK_USER=new Dg("mock-user");let Bg="12.3.0";const Og=new Td("@firebase/firestore");function Fg(){return Og.logLevel}function Vg(e){if(Og.logLevel<=_d.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Hg);Og.debug("Firestore (".concat(Bg,"): ").concat(e),...i)}}function zg(e){if(Og.logLevel<=_d.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Hg);Og.error("Firestore (".concat(Bg,"): ").concat(e),...i)}}function Ug(e){if(Og.logLevel<=_d.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Hg);Og.warn("Firestore (".concat(Bg,"): ").concat(e),...i)}}function Hg(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(rl){return e}}function Gg(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Kg(e,r,n)}function Kg(e,t,n){let r="FIRESTORE (".concat(Bg,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw zg(r),new Error(r)}function Wg(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Kg(t,i,r)}function Zg(e,t){return e}const qg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yg extends cd{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Xg{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Jg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Qg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dg.UNAUTHENTICATED))}shutdown(){}}class $g{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ey{constructor(e){this.t=e,this.currentUser=Dg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Wg(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Xg;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xg,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Vg("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Vg("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xg)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Vg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Wg("string"==typeof t.accessToken,31837,{l:t}),new Jg(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wg(null===e||"string"==typeof e,2055,{h:e}),new Dg(e)}}class ty{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Dg.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ny{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new ty(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Dg.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ry{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iy{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ph(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Wg(void 0===this.o,3512);const n=e=>{null!=e.error&&Vg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Vg("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Vg("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Vg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ry(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Wg("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new ry(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ay(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class oy{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ay(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function sy(e,t){return e<t?-1:e>t?1:0}function ly(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return dy(n)===dy(i)?sy(n,i):dy(n)?1:-1}return sy(e.length,t.length)}const cy=55296,uy=57343;function dy(e){const t=e.charCodeAt(0);return t>=cy&&t<=uy}function hy(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const py="__name__";class my{constructor(e,t,n){void 0===t?t=0:t>e.length&&Gg(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Gg(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===my.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof my?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=my.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return sy(e.length,t.length)}static compareSegments(e,t){const n=my.isNumericId(e),r=my.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?my.extractNumericId(e).compare(my.extractNumericId(t)):ly(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wg.fromString(e.substring(4,e.length-2))}}class fy extends my{construct(e,t,n){return new fy(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Yg(qg.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new fy(e)}static emptyPath(){return new fy([])}}const gy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yy extends my{construct(e,t,n){return new yy(e,t,n)}static isValidIdentifier(e){return gy.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yy.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===py}static keyField(){return new yy([py])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Yg(qg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Yg(qg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Yg(qg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Yg(qg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yy(t)}static emptyPath(){return new yy([])}}class vy{constructor(e){this.path=e}static fromPath(e){return new vy(fy.fromString(e))}static fromName(e){return new vy(fy.fromString(e).popFirst(5))}static empty(){return new vy(fy.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fy.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fy.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vy(new fy(e.slice()))}}function xy(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function by(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Gg(12329,{type:typeof e})}function wy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Yg(qg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=by(e);throw new Yg(qg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function ky(e,t){const n={typeString:e};return t&&(n.value=t),n}function Sy(e,t){if(!xy(e))throw new Yg(qg.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==a&&o!==a.value){n="Expected '".concat(r,"' field to equal '").concat(a.value,"'");break}}if(n)throw new Yg(qg.INVALID_ARGUMENT,n);return!0}const Ny=-62135596800,_y=1e6;class Cy{static now(){return Cy.fromMillis(Date.now())}static fromDate(e){return Cy.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*_y);return new Cy(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Yg(qg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Yg(qg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ny)throw new Yg(qg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yg(qg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_y}_compareTo(e){return this.seconds===e.seconds?sy(this.nanoseconds,e.nanoseconds):sy(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Cy._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sy(e,Cy._jsonSchema))return new Cy(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ny;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Cy._jsonSchemaVersion="firestore/timestamp/1.0",Cy._jsonSchema={type:ky("string",Cy._jsonSchemaVersion),seconds:ky("number"),nanoseconds:ky("number")};class Ay{static fromTimestamp(e){return new Ay(e)}static min(){return new Ay(new Cy(0,0))}static max(){return new Ay(new Cy(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jy=-1;class Ey{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ey.UNKNOWN_ID=-1;function Ty(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ay.fromTimestamp(1e9===r?new Cy(n+1,0):new Cy(n,r));return new Ry(i,vy.empty(),t)}function Iy(e){return new Ry(e.readTime,e.key,jy)}class Ry{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ry(Ay.min(),vy.empty(),jy)}static max(){return new Ry(Ay.max(),vy.empty(),jy)}}function Py(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=vy.comparator(e.documentKey,t.documentKey),0!==n?n:sy(e.largestBatchId,t.largestBatchId))}class My{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ly{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gg(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ly((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ly?t:Ly.resolve(t)}catch(e){return Ly.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ly.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ly.reject(t)}static resolve(e){return new Ly((t,n)=>{t(e)})}static reject(e){return new Ly((t,n)=>{n(e)})}static waitFor(e){return new Ly((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=Ly.resolve(!1);for(const n of e)t=t.next(e=>e?Ly.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ly((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new Ly((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Dy(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function By(e){return"IndexedDbTransactionError"===e.name}class Oy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oy.ce=-1;const Fy=-1;function Vy(e){return null==e}function zy(e){return 0===e&&1/e==-1/0}const Uy="remoteDocuments",Hy="owner",Gy="mutationQueues",Ky="mutations";const Wy="documentMutations",Zy="remoteDocumentsV14",qy="remoteDocumentGlobal",Yy="targets",Xy="targetDocuments",Jy="targetGlobal",Qy="collectionParents",$y="clientMetadata",ev="bundles",tv="namedQueries",nv="indexConfiguration",rv="indexState",iv="indexEntries",av="documentOverlays",ov="globals",sv=[Gy,Ky,Wy,Uy,Yy,Hy,Jy,Xy,$y,qy,Qy,ev,tv],lv=[Gy,Ky,Wy,Zy,Yy,Hy,Jy,Xy,$y,qy,Qy,ev,tv,av],cv=lv,uv=[...cv,nv,rv,iv];function dv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function pv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class mv{constructor(e,t){this.comparator=e,this.root=t||gv.EMPTY}insert(e,t){return new mv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gv.BLACK,null,null))}remove(e){return new mv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gv.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fv(this.root,e,this.comparator,!1)}getReverseIterator(){return new fv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fv(this.root,e,this.comparator,!0)}}class fv{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:gv.RED,this.left=null!=r?r:gv.EMPTY,this.right=null!=i?i:gv.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new gv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return gv.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return gv.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gg(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Gg(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Gg(27949);return e+(this.isRed()?0:1)}}gv.EMPTY=null,gv.RED=!0,gv.BLACK=!1,gv.EMPTY=new class{constructor(){this.size=0}get key(){throw Gg(57766)}get value(){throw Gg(16141)}get color(){throw Gg(16727)}get left(){throw Gg(29726)}get right(){throw Gg(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new gv(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yv{constructor(e){this.comparator=e,this.data=new mv(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(e){return new vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof yv))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yv(this.comparator);return t.data=e,t}}class vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xv{constructor(e){this.fields=e,e.sort(yy.comparator)}static empty(){return new xv([])}unionWith(e){let t=new yv(yy.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new xv(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hy(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class bv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wv{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bv("Invalid base64 string: "+e):e}}(e);return new wv(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new wv(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sy(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wv.EMPTY_BYTE_STRING=new wv("");const kv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sv(e){if(Wg(!!e,39018),"string"==typeof e){let t=0;const n=kv.exec(e);if(Wg(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Nv(e.seconds),nanos:Nv(e.nanos)}}function Nv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _v(e){return"string"==typeof e?wv.fromBase64String(e):wv.fromUint8Array(e)}const Cv="server_timestamp",Av="__type__",jv="__previous_value__",Ev="__local_write_time__";function Tv(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Av])||void 0===t?void 0:t.stringValue)===Cv}function Iv(e){const t=e.mapValue.fields[jv];return Tv(t)?Iv(t):t}function Rv(e){const t=Sv(e.mapValue.fields[Ev].timestampValue);return new Cy(t.seconds,t.nanos)}const Pv="(default)";class Mv{constructor(e,t){this.projectId=e,this.database=t||Pv}static empty(){return new Mv("","")}get isDefaultDatabase(){return this.database===Pv}isEqual(e){return e instanceof Mv&&e.projectId===this.projectId&&e.database===this.database}}const Lv="__type__",Dv="__max__",Bv={mapValue:{fields:{__type__:{stringValue:Dv}}}},Ov="__vector__",Fv="value";function Vv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Tv(e)?4:$v(e)?9007199254740991:Jv(e)?10:11:Gg(28295,{value:e})}function zv(e,t){if(e===t)return!0;const n=Vv(e);if(n!==Vv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rv(e).isEqual(Rv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Sv(e.timestampValue),r=Sv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _v(e.bytesValue).isEqual(_v(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Nv(e.geoPointValue.latitude)===Nv(t.geoPointValue.latitude)&&Nv(e.geoPointValue.longitude)===Nv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Nv(e.integerValue)===Nv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Nv(e.doubleValue),r=Nv(t.doubleValue);return n===r?zy(n)===zy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return hy(e.arrayValue.values||[],t.arrayValue.values||[],zv);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(dv(n)!==dv(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zv(n[i],r[i])))return!1;return!0}(e,t);default:return Gg(52216,{left:e})}}function Uv(e,t){return void 0!==(e.values||[]).find(e=>zv(e,t))}function Hv(e,t){if(e===t)return 0;const n=Vv(e),r=Vv(t);if(n!==r)return sy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return sy(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Nv(e.integerValue||e.doubleValue),r=Nv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gv(e.timestampValue,t.timestampValue);case 4:return Gv(Rv(e),Rv(t));case 5:return ly(e.stringValue,t.stringValue);case 6:return function(e,t){const n=_v(e),r=_v(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=sy(n[i],r[i]);if(0!==e)return e}return sy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=sy(Nv(e.latitude),Nv(t.latitude));return 0!==n?n:sy(Nv(e.longitude),Nv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Kv(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const o=e.fields||{},s=t.fields||{},l=null===(n=o[Fv])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Fv])||void 0===r?void 0:r.arrayValue,u=sy((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Kv(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Bv.mapValue&&t===Bv.mapValue)return 0;if(e===Bv.mapValue)return 1;if(t===Bv.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=ly(r[o],a[o]);if(0!==e)return e;const t=Hv(n[r[o]],i[a[o]]);if(0!==t)return t}return sy(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Gg(23264,{he:n})}}function Gv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return sy(e,t);const n=Sv(e),r=Sv(t),i=sy(n.seconds,r.seconds);return 0!==i?i:sy(n.nanos,r.nanos)}function Kv(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Hv(n[i],r[i]);if(e)return e}return sy(n.length,r.length)}function Wv(e){return Zv(e)}function Zv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Sv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return _v(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return vy.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Zv(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Zv(e.fields[i]));return n+"}"}(e.mapValue):Gg(61005,{value:e})}function qv(e){return!!e&&"integerValue"in e}function Yv(e){return!!e&&"arrayValue"in e}function Xv(e){return!!e&&"mapValue"in e}function Jv(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Lv])||void 0===t?void 0:t.stringValue)===Ov}function Qv(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return hv(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Qv(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Qv(e.arrayValue.values[n]);return t}return c({},e)}function $v(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Dv}class ex{constructor(e){this.value=e}static empty(){return new ex({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Xv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qv(t)}setAll(e){let t=yy.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Qv(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Xv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zv(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Xv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){hv(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ex(Qv(this.value))}}class tx{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new tx(e,0,Ay.min(),Ay.min(),Ay.min(),ex.empty(),0)}static newFoundDocument(e,t,n,r){return new tx(e,1,t,Ay.min(),n,r,0)}static newNoDocument(e,t){return new tx(e,2,t,Ay.min(),Ay.min(),ex.empty(),0)}static newUnknownDocument(e,t){return new tx(e,3,t,Ay.min(),Ay.min(),ex.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ay.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ex.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ex.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ay.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tx&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tx(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class nx{constructor(e,t){this.position=e,this.inclusive=t}}function rx(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?vy.comparator(vy.fromName(o.referenceValue),n.key):Hv(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ix(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zv(e.position[n],t.position[n]))return!1;return!0}class ax{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ox(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class sx{}class lx extends sx{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new gx(e,t,n):"array-contains"===t?new bx(e,n):"in"===t?new wx(e,n):"not-in"===t?new kx(e,n):"array-contains-any"===t?new Sx(e,n):new lx(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new yx(e,n):new vx(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Hv(t,this.value)):null!==t&&Vv(this.value)===Vv(t)&&this.matchesComparison(Hv(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gg(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cx extends sx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new cx(e,t)}matches(e){return ux(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ux(e){return"and"===e.op}function dx(e){return hx(e)&&ux(e)}function hx(e){for(const t of e.filters)if(t instanceof cx)return!1;return!0}function px(e){if(e instanceof lx)return e.field.canonicalString()+e.op.toString()+Wv(e.value);if(dx(e))return e.filters.map(e=>px(e)).join(",");{const t=e.filters.map(e=>px(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function mx(e,t){return e instanceof lx?function(e,t){return t instanceof lx&&e.op===t.op&&e.field.isEqual(t.field)&&zv(e.value,t.value)}(e,t):e instanceof cx?function(e,t){return t instanceof cx&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&mx(n,t.filters[r]),!0)}(e,t):void Gg(19439)}function fx(e){return e instanceof lx?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Wv(e.value))}(e):e instanceof cx?function(e){return e.op.toString()+" {"+e.getFilters().map(fx).join(" ,")+"}"}(e):"Filter"}class gx extends lx{constructor(e,t,n){super(e,t,n),this.key=vy.fromName(n.referenceValue)}matches(e){const t=vy.comparator(e.key,this.key);return this.matchesComparison(t)}}class yx extends lx{constructor(e,t){super(e,"in",t),this.keys=xx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vx extends lx{constructor(e,t){super(e,"not-in",t),this.keys=xx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>vy.fromName(e.referenceValue))}class bx extends lx{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yv(t)&&Uv(t.arrayValue,this.value)}}class wx extends lx{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Uv(this.value.arrayValue,t)}}class kx extends lx{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Uv(this.value.arrayValue,t)}}class Sx extends lx{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Uv(this.value.arrayValue,e))}}class Nx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function _x(e){return new Nx(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Cx(e){const t=Zg(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>px(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Vy(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Wv(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Wv(e)).join(",")),t.Te=e}return t.Te}function Ax(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ox(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mx(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ix(e.startAt,t.startAt)&&ix(e.endAt,t.endAt)}class jx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ex(e,t,n,r,i,a,o,s){return new jx(e,t,n,r,i,a,o,s)}function Tx(e){return new jx(e)}function Ix(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Rx(e){return null!==e.collectionGroup}function Px(e){const t=Zg(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new yv(yy.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new ax(r,n))}),e.has(yy.keyField().canonicalString())||t.Ie.push(new ax(yy.keyField(),n))}return t.Ie}function Mx(e){const t=Zg(e);return t.Ee||(t.Ee=Lx(t,Px(e))),t.Ee}function Lx(e,t){if("F"===e.limitType)return _x(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new ax(e.field,t)});const n=e.endAt?new nx(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new nx(e.startAt.position,e.startAt.inclusive):null;return _x(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Dx(e,t,n){return new jx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bx(e,t){return Ax(Mx(e),Mx(t))&&e.limitType===t.limitType}function Ox(e){return"".concat(Cx(Mx(e)),"|lt:").concat(e.limitType)}function Fx(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>fx(e)).join(", "),"]")),Vy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Wv(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Wv(e)).join(",")),"Target(".concat(t,")")}(Mx(e)),"; limitType=").concat(e.limitType,")")}function Vx(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):vy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Px(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=rx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Px(e),t))&&!(e.endAt&&!function(e,t,n){const r=rx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Px(e),t))}(e,t)}function zx(e){return(t,n)=>{let r=!1;for(const i of Px(e)){const e=Ux(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ux(e,t,n){const r=e.field.isKeyField()?vy.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hv(r,i):Gg(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Gg(19790,{direction:e.dir})}}class Hx{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){hv(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return pv(this.inner)}size(){return this.innerSize}}const Gx=new mv(vy.comparator);function Kx(){return Gx}const Wx=new mv(vy.comparator);function Zx(){let e=Wx;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function qx(e){let t=Wx;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Yx(){return Jx()}function Xx(){return Jx()}function Jx(){return new Hx(e=>e.toString(),(e,t)=>e.isEqual(t))}new mv(vy.comparator);const Qx=new yv(vy.comparator);function $x(){let e=Qx;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const eb=new yv(sy);function tb(){return eb}function nb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zy(t)?"-0":t}}function rb(e){return{integerValue:""+e}}class ib{constructor(){this._=void 0}}function ab(e,t,n){return e instanceof lb?function(e,t){const n={fields:{[Av]:{stringValue:Cv},[Ev]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Tv(t)&&(t=Iv(t)),t&&(n.fields[jv]=t),{mapValue:n}}(n,t):e instanceof cb?ub(e,t):e instanceof db?hb(e,t):function(e,t){const n=sb(e,t),r=mb(n)+mb(e.Ae);return qv(n)&&qv(e.Ae)?rb(r):nb(e.serializer,r)}(e,t)}function ob(e,t,n){return e instanceof cb?ub(e,t):e instanceof db?hb(e,t):n}function sb(e,t){return e instanceof pb?function(e){return qv(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class lb extends ib{}class cb extends ib{constructor(e){super(),this.elements=e}}function ub(e,t){const n=fb(t);for(const r of e.elements)n.some(e=>zv(e,r))||n.push(r);return{arrayValue:{values:n}}}class db extends ib{constructor(e){super(),this.elements=e}}function hb(e,t){let n=fb(t);for(const r of e.elements)n=n.filter(e=>!zv(e,r));return{arrayValue:{values:n}}}class pb extends ib{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function mb(e){return Nv(e.integerValue||e.doubleValue)}function fb(e){return Yv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class gb{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gb}static exists(e){return new gb(void 0,e)}static updateTime(e){return new gb(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class vb{}function xb(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new jb(e.key,gb.none()):new Sb(e.key,e.data,gb.none());{const n=e.data,r=ex.empty();let i=new yv(yy.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Nb(e.key,r,new xv(i.toArray()),gb.none())}}function bb(e,t,n){e instanceof Sb?function(e,t,n){const r=e.value.clone(),i=Cb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Nb?function(e,t,n){if(!yb(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Cb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_b(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wb(e,t,n,r){return e instanceof Sb?function(e,t,n,r){if(!yb(e.precondition,t))return n;const i=e.value.clone(),a=Ab(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Nb?function(e,t,n,r){if(!yb(e.precondition,t))return n;const i=Ab(e.fieldTransforms,r,t),a=t.data;return a.setAll(_b(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return yb(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function kb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&hy(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cb&&t instanceof cb||e instanceof db&&t instanceof db?hy(e.elements,t.elements,zv):e instanceof pb&&t instanceof pb?zv(e.Ae,t.Ae):e instanceof lb&&t instanceof lb}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Sb extends vb{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Nb extends vb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _b(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Cb(e,t,n){const r=new Map;Wg(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,ob(o,s,n[i]))}return r}function Ab(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,ab(e,a,t))}return r}class jb extends vb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eb{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&bb(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=wb(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=wb(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Xx();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=xb(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(Ay.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$x())}isEqual(e){return this.batchId===e.batchId&&hy(this.mutations,e.mutations,(e,t)=>kb(e,t))&&hy(this.baseMutations,e.baseMutations,(e,t)=>kb(e,t))}}class Tb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}var Ib,Rb;function Pb(e){if(void 0===e)return zg("GRPC error has no .code"),qg.UNKNOWN;switch(e){case Ib.OK:return qg.OK;case Ib.CANCELLED:return qg.CANCELLED;case Ib.UNKNOWN:return qg.UNKNOWN;case Ib.DEADLINE_EXCEEDED:return qg.DEADLINE_EXCEEDED;case Ib.RESOURCE_EXHAUSTED:return qg.RESOURCE_EXHAUSTED;case Ib.INTERNAL:return qg.INTERNAL;case Ib.UNAVAILABLE:return qg.UNAVAILABLE;case Ib.UNAUTHENTICATED:return qg.UNAUTHENTICATED;case Ib.INVALID_ARGUMENT:return qg.INVALID_ARGUMENT;case Ib.NOT_FOUND:return qg.NOT_FOUND;case Ib.ALREADY_EXISTS:return qg.ALREADY_EXISTS;case Ib.PERMISSION_DENIED:return qg.PERMISSION_DENIED;case Ib.FAILED_PRECONDITION:return qg.FAILED_PRECONDITION;case Ib.ABORTED:return qg.ABORTED;case Ib.OUT_OF_RANGE:return qg.OUT_OF_RANGE;case Ib.UNIMPLEMENTED:return qg.UNIMPLEMENTED;case Ib.DATA_LOSS:return qg.DATA_LOSS;default:return Gg(39323,{code:e})}}(Rb=Ib||(Ib={}))[Rb.OK=0]="OK",Rb[Rb.CANCELLED=1]="CANCELLED",Rb[Rb.UNKNOWN=2]="UNKNOWN",Rb[Rb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rb[Rb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rb[Rb.NOT_FOUND=5]="NOT_FOUND",Rb[Rb.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rb[Rb.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rb[Rb.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rb[Rb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rb[Rb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rb[Rb.ABORTED=10]="ABORTED",Rb[Rb.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rb[Rb.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rb[Rb.INTERNAL=13]="INTERNAL",Rb[Rb.UNAVAILABLE=14]="UNAVAILABLE",Rb[Rb.DATA_LOSS=15]="DATA_LOSS";new wg([4294967295,4294967295],0);Error;class Mb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lb(e){return Wg(!!e,49232),Ay.fromTimestamp(function(e){const t=Sv(e);return new Cy(t.seconds,t.nanos)}(e))}function Db(e,t){const n=function(e){return new fy(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Bb(e){const t=fy.fromString(e);return Wg(Hb(t),10190,{key:t.toString()}),t}function Ob(e){const t=Bb(e);return 4===t.length?fy.emptyPath():Fb(t)}function Fb(e){return Wg(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Vb(e){let t=Ob(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wg(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=zb(e);return t instanceof cx&&dx(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new ax(Ub(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Vy(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new nx(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new nx(n,t)}(n.endAt)),Ex(t,i,o,a,s,"F",l,c)}function zb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ub(e.unaryFilter.field);return lx.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ub(e.unaryFilter.field);return lx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ub(e.unaryFilter.field);return lx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ub(e.unaryFilter.field);return lx.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Gg(61313);default:return Gg(60726)}}(e):void 0!==e.fieldFilter?function(e){return lx.create(Ub(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Gg(58110);default:return Gg(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return cx.create(e.compositeFilter.filters.map(e=>zb(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Gg(1026)}}(e.compositeFilter.op))}(e):Gg(30097,{filter:e})}function Ub(e){return yy.fromServerFormat(e.fieldPath)}function Hb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Gb{constructor(e){this.yt=e}}function Kb(e){const t=Vb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Dx(t,t.limit,"L"):t}class Wb{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Nv(e.integerValue));else if("doubleValue"in e){const n=Nv(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),zy(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Sv(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(_v(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?$v(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Jv(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Gg(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Fv,a=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Nv(a)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),vy.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Wb.Kt=new Wb;class Zb{constructor(){this.Cn=new qb}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ly.resolve()}getCollectionParents(e,t){return Ly.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ly.resolve()}deleteFieldIndex(e,t){return Ly.resolve()}deleteAllFieldIndexes(e){return Ly.resolve()}createTargetIndexes(e,t){return Ly.resolve()}getDocumentsMatchingTarget(e,t){return Ly.resolve(null)}getIndexType(e,t){return Ly.resolve(0)}getFieldIndexes(e,t){return Ly.resolve([])}getNextCollectionGroupToUpdate(e){return Ly.resolve(null)}getMinOffset(e,t){return Ly.resolve(Ry.min())}getMinOffsetFromCollectionGroup(e,t){return Ly.resolve(Ry.min())}updateCollectionGroup(e,t,n){return Ly.resolve()}updateIndexEntries(e,t){return Ly.resolve()}}class qb{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new yv(fy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new yv(fy.comparator)).toArray()}}new Uint8Array(0);const Yb=41943040;class Xb{static withCacheSize(e){return new Xb(e,Xb.DEFAULT_COLLECTION_PERCENTILE,Xb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Xb.DEFAULT_COLLECTION_PERCENTILE=10,Xb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xb.DEFAULT=new Xb(Yb,Xb.DEFAULT_COLLECTION_PERCENTILE,Xb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xb.DISABLED=new Xb(-1,0,0);class Jb{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jb(0)}static cr(){return new Jb(-1)}}const Qb=1048576;class $b{constructor(){this.changes=new Hx(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tx.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ly.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ew{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tw{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&wb(n.mutation,e,xv.empty(),Cy.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,$x()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$x();const r=Yx();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Zx();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Yx();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,$x()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Kx();const a=Jx(),o=Jx();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Nb)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),wb(o.mutation,t,o.mutation.getFieldMask(),Cy.now())):a.set(t.key,xv.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new ew(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Jx();let r=new mv((e,t)=>e-t),i=$x();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||xv.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||$x()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=Xx();l.forEach(e=>{if(!i.has(e)){const r=xb(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Ly.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return vy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ly.resolve(Yx());let o=jy,s=i;return a.next(t=>Ly.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Ly.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,$x())).next(e=>({batchId:o,changes:qx(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new vy(t)).next(e=>{let t=Zx();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Zx();return this.indexManager.getCollectionParents(e,i).next(o=>Ly.forEach(o,o=>{const s=function(e,t){return new jx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,tx.newInvalidDocument(r)))});let n=Zx();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&wb(a.mutation,r,xv.empty(),Cy.now()),Vx(t,r)&&(n=n.insert(e,r))}),n})}}class nw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ly.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Lb(e.createTime)}}(t)),Ly.resolve()}getNamedQuery(e,t){return Ly.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Kb(e.bundledQuery),readTime:Lb(e.readTime)}}(t)),Ly.resolve()}}class rw{constructor(){this.overlays=new mv(vy.comparator),this.qr=new Map}getOverlay(e,t){return Ly.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Yx();return Ly.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Ly.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Ly.resolve()}getOverlaysForCollection(e,t,n){const r=Yx(),i=t.length+1,a=new vy(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ly.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new mv((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Yx(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Yx(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return Ly.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Tb(t,n));let i=this.qr.get(t);void 0===i&&(i=$x(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class iw{constructor(){this.sessionToken=wv.EMPTY_BYTE_STRING}getSessionToken(e){return Ly.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ly.resolve()}}class aw{constructor(){this.Qr=new yv(ow.$r),this.Ur=new yv(ow.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ow(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new ow(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new vy(new fy([])),n=new ow(t,e),r=new ow(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new vy(new fy([])),n=new ow(t,e),r=new ow(t,e+1);let i=$x();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new ow(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ow{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return vy.comparator(e.key,t.key)||sy(e.Yr,t.Yr)}static Kr(e,t){return sy(e.Yr,t.Yr)||vy.comparator(e.key,t.key)}}class sw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new yv(ow.$r)}checkEmpty(e){return Ly.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Eb(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Zr=this.Zr.add(new ow(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ly.resolve(a)}lookupMutationBatch(e,t){return Ly.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Ly.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ly.resolve(0===this.mutationQueue.length?Fy:this.tr-1)}getAllMutationBatches(e){return Ly.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ow(t,0),r=new ow(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Ly.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new yv(sy);return t.forEach(e=>{const t=new ow(e,0),r=new ow(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Ly.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;vy.isDocumentKey(i)||(i=i.child(""));const a=new ow(new vy(i),0);let o=new yv(sy);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},a),Ly.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Wg(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Ly.forEach(t.mutations,r=>{const i=new ow(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new ow(t,0),r=this.Zr.firstAfterOrEqual(n);return Ly.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ly.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lw{constructor(e){this.ri=e,this.docs=new mv(vy.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ly.resolve(n?n.document.mutableCopy():tx.newInvalidDocument(t))}getEntries(e,t){let n=Kx();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():tx.newInvalidDocument(e))}),Ly.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Kx();const a=t.path,o=new vy(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Py(Iy(o),n)<=0||(r.has(o.key)||Vx(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Ly.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Gg(9500)}ii(e,t){return Ly.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new cw(this)}getSize(e){return Ly.resolve(this.size)}}class cw extends $b{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Ly.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class uw{constructor(e){this.persistence=e,this.si=new Hx(e=>Cx(e),Ax),this.lastRemoteSnapshotVersion=Ay.min(),this.highestTargetId=0,this.oi=0,this._i=new aw,this.targetCount=0,this.ai=Jb.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Ly.resolve()}getLastRemoteSnapshotVersion(e){return Ly.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ly.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ly.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ly.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Jb(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ly.resolve()}updateTargetData(e,t){return this.Pr(t),Ly.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ly.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Ly.waitFor(i).next(()=>r)}getTargetCount(e){return Ly.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ly.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ly.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ly.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ly.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ly.resolve(n)}containsKey(e,t){return Ly.resolve(this._i.containsKey(t))}}class dw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Oy(0),this.li=!1,this.li=!0,this.hi=new iw,this.referenceDelegate=e(this),this.Pi=new uw(this),this.indexManager=new Zb,this.remoteDocumentCache=function(e){return new lw(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Gb(t),this.Ii=new nw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new sw(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Vg("MemoryPersistence","Starting transaction:",e);const r=new hw(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Ly.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class hw extends My{constructor(e){super(),this.currentSequenceNumber=e}}class pw{constructor(e){this.persistence=e,this.Ri=new aw,this.Vi=null}static mi(e){return new pw(e)}get fi(){if(this.Vi)return this.Vi;throw Gg(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ly.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ly.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ly.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ly.forEach(this.fi,n=>{const r=vy.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Ay.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ly.or([()=>Ly.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class mw{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=$x(),r=$x();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new mw(e,t.fromCache,n,r)}}class fw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=od()?8:Dy(id())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new fw;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Fg()<=_d.DEBUG&&Vg("QueryEngine","SDK will not create cache indexes for query:",Fx(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ly.resolve()):(Fg()<=_d.DEBUG&&Vg("QueryEngine","Query:",Fx(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Fg()<=_d.DEBUG&&Vg("QueryEngine","The SDK decides to create cache indexes for query:",Fx(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mx(t))):Ly.resolve())}ys(e,t){if(Ix(t))return Ly.resolve(null);let n=Mx(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Dx(t,null,"F"),n=Mx(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=$x(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,Dx(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return Ix(t)||r.isEqual(Ay.min())?Ly.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,r)?Ly.resolve(null):(Fg()<=_d.DEBUG&&Vg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fx(t)),this.vs(e,a,t,Ty(r,jy)).next(e=>e))})}Ds(e,t){let n=new yv(zx(e));return t.forEach((t,r)=>{Vx(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Fg()<=_d.DEBUG&&Vg("QueryEngine","Using full collection scan to execute query:",Fx(t)),this.ps.getDocumentsMatchingQuery(e,t,Ry.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const yw="LocalStore";class vw{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new mv(sy),this.xs=new Hx(e=>Cx(e),Ax),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function xw(e,t,n,r){return new vw(e,t,n,r)}async function bw(e,t){const n=Zg(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=$x();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}class ww{constructor(){this.activeTargetIds=tb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kw{constructor(){this.Mo=new ww,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ww,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sw{Oo(e){}shutdown(){}}const Nw="ConnectivityMonitor";class _w{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Vg(Nw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Vg(Nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cw=null;function Aw(){return null===Cw?Cw=268435456+Math.round(2147483648*Math.random()):Cw++,"0x"+Cw.toString(16)}const jw="RestConnection",Ew={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Pv?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const a=Aw(),o=this.zo(e,t.toUriEncodedString());Vg(jw,"Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);const{host:l}=new URL(o),c=$u(l);return this.Jo(e,o,s,n,c).then(t=>(Vg(jw,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw Ug(jw,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Ew[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Iw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Rw="WebChannelConnection";class Pw extends Tw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=Aw();return new Promise((i,o)=>{const s=new Ng;s.setWithCredentials(!0),s.listenOnce(Cg.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Ag.NO_ERROR:const n=s.getResponseJson();Vg(Rw,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(n)),i(n);break;case Ag.TIMEOUT:Vg(Rw,"RPC '".concat(e,"' ").concat(a," timed out")),o(new Yg(qg.DEADLINE_EXCEEDED,"Request time out"));break;case Ag.HTTP_ERROR:const r=s.getStatus();if(Vg(Rw,"RPC '".concat(e,"' ").concat(a," failed with status:"),r,"response text:",s.getResponseText()),r>0){var t;let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(qg).indexOf(t)>=0?t:qg.UNKNOWN}(n.status);o(new Yg(e,n.message))}else o(new Yg(qg.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Yg(qg.UNAVAILABLE,"Connection failed."));break;default:Gg(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{Vg(Rw,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);Vg(Rw,"RPC '".concat(e,"' ").concat(a," sending request:"),r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Aw(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ig(),o=Tg(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Vg(Rw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=a.createWebChannel(c,s);this.I_(u);let d=!1,h=!1;const p=new Iw({Yo:t=>{h?Vg(Rw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Vg(Rw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Vg(Rw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,_g.EventType.OPEN,()=>{h||(Vg(Rw,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.o_())}),m(u,_g.EventType.CLOSE,()=>{h||(h=!0,Vg(Rw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.a_(),this.E_(u))}),m(u,_g.EventType.ERROR,t=>{h||(h=!0,Ug(Rw,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new Yg(qg.UNAVAILABLE,"The operation could not be completed")))}),m(u,_g.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];Wg(!!i,16349);const a=i,o=(null===a||void 0===a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Vg(Rw,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Ib[e];if(void 0!==t)return Pb(t)}(t),i=o.message;void 0===n&&(n=qg.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,p.a_(new Yg(n,i)),u.close()}else Vg(Rw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.u_(i)}}),m(o,Eg.STAT_EVENT,t=>{t.stat===jg.PROXY?Vg(Rw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===jg.NOPROXY&&Vg(Rw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Mw(){return"undefined"!=typeof document?document:null}function Lw(e){return new Mb(e,!0)}class Dw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Vg("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}class Bw{}class Ow extends Bw{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Yg(qg.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Go(e,Db(t,n),r,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===qg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Yg(qg.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[o,s]=a;return this.connection.Ho(e,Db(t,n),r,o,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===qg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Yg(qg.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Fw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(zg(t),this.aa=!1):Vg("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Vw="RemoteStore";class zw{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Gw(this)&&(Vg(Vw,"Restarting streams for network reachability change."),await async function(e){const t=Zg(e);t.Ea.add(4),await Hw(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Uw(t)}(this))})}),this.Ra=new Fw(n,r)}}async function Uw(e){if(Gw(e))for(const t of e.da)await t(!0)}async function Hw(e){for(const t of e.da)await t(!1)}function Gw(e){return 0===Zg(e).Ea.size}async function Kw(e,t){const n=Zg(e);t?(n.Ea.delete(2),await Uw(n)):t||(n.Ea.add(2),await Hw(n),n.Ra.set("Unknown"))}class Ww{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Xg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new Ww(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yg(qg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class Zw{constructor(){this.queries=qw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Zg(e),r=n.queries;n.queries=qw(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Yg(qg.ABORTED,"Firestore shutting down"))}}function qw(){return new Hx(e=>Ox(e),Bx)}function Yw(e){e.Ca.forEach(e=>{e.next()})}var Xw,Jw;(Jw=Xw||(Xw={})).Ma="default",Jw.Cache="cache";const Qw="SyncEngine";class $w{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Hx(e=>Ox(e),Bx),this.Iu=new Map,this.Eu=new Set,this.du=new mv(vy.comparator),this.Au=new Map,this.Ru=new aw,this.Vu={},this.mu=new Map,this.fu=Jb.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}function ek(e,t,n){const r=Zg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Zg(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Yw(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function tk(e,t,n){const r=Zg(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{o.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=mw.As(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=Zg(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ly.forEach(t,t=>Ly.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ly.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!By(e))throw e;Vg(yw,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,a))}async function nk(e,t){const n=Zg(e);if(!n.currentUser.isEqual(t)){Vg(Qw,"User change. New user:",t.toKey());const e=await bw(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Yg(qg.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await tk(n,e.Ls)}}class rk{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return xw(this.persistence,new gw,e.initialUser,this.serializer)}Cu(e){return new dw(pw.mi,this.serializer)}Du(e){return new kw}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rk.provider={build:()=>new rk};class ik{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ek(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=nk.bind(null,this.syncEngine),await Kw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Zw}createDatastore(e){const t=Lw(e.databaseInfo.databaseId),n=function(e){return new Pw(e)}(e.databaseInfo);return function(e,t,n,r){return new Ow(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new zw(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>ek(this.syncEngine,e,0),_w.v()?new _w:new Sw)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new $w(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Zg(e);Vg(Vw,"RemoteStore shutting down."),t.Ea.add(5),await Hw(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ik.provider={build:()=>new ik};function ak(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ok=new Map,sk="firestore.googleapis.com",lk=!0;class ck{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Yg(qg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sk,this.ssl=lk}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:lk;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Yb;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Qb)throw new Yg(qg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Yg(qg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ak(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Yg(qg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Yg(qg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Yg(qg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uk{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ck({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Yg(qg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Yg(qg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ck(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qg;switch(e.type){case"firstParty":return new ny(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Yg(qg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ok.get(e);t&&(Vg("ComponentProvider","Removing Datastore"),ok.delete(e),t.terminate())}(this),Promise.resolve()}}function dk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=wy(e,uk);const i=$u(t),a=e._getSettings(),o=c(c({},a),{},{emulatorOptions:e._getEmulatorOptions()}),s="".concat(t,":").concat(n);i&&(ed("https://".concat(s)),rd("Firestore",!0)),a.host!==sk&&a.host!==s&&Ug("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},a),{},{host:s,ssl:i,emulatorOptions:r});if(!hd(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Dg.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ku(JSON.stringify({alg:"none",type:"JWT"})),Ku(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Yg(qg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Dg(i)}e._authCredentials=new $g(new Jg(t,n))}}class hk{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hk(this.firestore,e,this._query)}}class pk{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mk(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pk(this.firestore,e,this._key)}toJSON(){return{type:pk._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Sy(t,pk._jsonSchema))return new pk(e,n||null,new vy(fy.fromString(t.referencePath)))}}pk._jsonSchemaVersion="firestore/documentReference/1.0",pk._jsonSchema={type:ky("string",pk._jsonSchemaVersion),referencePath:ky("string")};class mk extends hk{constructor(e,t,n){super(e,t,Tx(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pk(this.firestore,null,new vy(e))}withConverter(e){return new mk(this.firestore,e,this._path)}}const fk="AsyncQueue";class gk{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dw(this,"async_queue_retry"),this._c=()=>{const e=Mw();e&&Vg(fk,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Mw();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Mw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Xg;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(nl){if(!By(nl))throw nl;Vg(fk,"Operation failed with retryable error: "+nl)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,zg("INTERNAL UNHANDLED ERROR: ",yk(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Ww.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Gg(47125,{Pc:yk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function yk(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class vk extends uk{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new gk,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gk(e),this._firestoreClient=void 0,await e}}}class xk{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xk(wv.fromBase64String(e))}catch(e){throw new Yg(qg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new xk(wv.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xk._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sy(e,xk._jsonSchema))return xk.fromBase64String(e.bytes)}}xk._jsonSchemaVersion="firestore/bytes/1.0",xk._jsonSchema={type:ky("string",xk._jsonSchemaVersion),bytes:ky("string")};class bk{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Yg(qg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yy(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Yg(qg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Yg(qg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return sy(this._lat,e._lat)||sy(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wk._jsonSchemaVersion}}static fromJSON(e){if(Sy(e,wk._jsonSchema))return new wk(e.latitude,e.longitude)}}wk._jsonSchemaVersion="firestore/geoPoint/1.0",wk._jsonSchema={type:ky("string",wk._jsonSchemaVersion),latitude:ky("number"),longitude:ky("number")};class kk{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kk._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sy(e,kk._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new kk(e.vectorValues);throw new Yg(qg.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kk._jsonSchemaVersion="firestore/vectorValue/1.0",kk._jsonSchema={type:ky("string",kk._jsonSchemaVersion),vectorValues:ky("object")};const Sk=new RegExp("[~\\*/\\[\\]]");function Nk(e,t,n){if(t.search(Sk)>=0)throw _k("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new bk(...t.split("."))._internalPath}catch(r){throw _k("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _k(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Yg(qg.INVALID_ARGUMENT,s+e+l)}class Ck{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pk(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ak(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ak extends Ck{data(){return super.data()}}function jk(e,t){return"string"==typeof t?Nk(e,t):t instanceof bk?t._internalPath:t._delegate._internalPath}class Ek{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tk extends Ck{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ik(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(jk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Yg(qg.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Tk._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Tk._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tk._jsonSchema={type:ky("string",Tk._jsonSchemaVersion),bundleSource:ky("string","DocumentSnapshot"),bundleName:ky("string"),bundle:ky("string")};class Ik extends Tk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Rk{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ek(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Ik(this._firestore,this._userDataWriter,n.key,n,new Ek(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Yg(qg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Ik(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ek(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Ik(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ek(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Pk(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Yg(qg.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rk._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Pk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gg(61501,{type:e})}}Rk._jsonSchemaVersion="firestore/querySnapshot/1.0",Rk._jsonSchema={type:ky("string",Rk._jsonSchemaVersion),bundleSource:ky("string","QuerySnapshot"),bundleName:ky("string"),bundle:ky("string")};new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Bg=e}(Dh),Ih(new bd("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new vk(new ey(e.getProvider("auth-internal")),new iy(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Yg(qg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mv(e.options.projectId,t)}(a,r),a);return i=c({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Fh(Mg,Lg,e),Fh(Mg,Lg,"esm2020")}();const Mk=Bh({apiKey:"AIzaSyB_32kh2o6DdBVVvLFFBUdMnTbPWWYp4z8",authDomain:"rentongovehicle-7e6c0.firebaseapp.com",projectId:"rentongovehicle-7e6c0",storageBucket:"rentongovehicle-7e6c0.firebasestorage.app",messagingSenderId:"406882720905",appId:"1:406882720905:web:e7a2a367658a2cf1b03a58",measurementId:"G-BC3ZM7VJ9C"}),Lk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oh();const t=Rh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Rh(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(hd(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ip(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:mg,persistence:[Nf,rf,cf]}),r=Ju("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vg)return;const i=null===n||void 0===n?void 0:n.token;xg!==i&&(xg=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))})(e.toString());!function(e,t,n){xd(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){xd(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const i=Yu("auth");return i&&Cm(n,"http://".concat(i)),n}(Mk),Dk=new Hm,Bk=(function(e,t){const n="object"==typeof e?e:Oh(),r="string"==typeof e?e:t||Pv,i=Rh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=Yu(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&dk(i,...e)}}(Mk),"@firebase/installations"),Ok="0.6.19",Fk=1e4,Vk="w:".concat(Ok),zk="FIS_v2",Uk=36e5,Hk=new ud("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gk(e){return e instanceof cd&&e.code.includes("request-failed")}function Kk(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Wk(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Zk(e,t){const n=(await t.json()).error;return Hk.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function qk(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Yk(e,t){let{refreshToken:n}=t;const r=qk(e);return r.append("Authorization",function(e){return"".concat(zk," ").concat(e)}(n)),r}async function Xk(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Jk(e){return new Promise(t=>{setTimeout(t,e)})}const Qk=/^[cdef][\w-]{21}$/;function $k(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Qk.test(t)?t:""}catch(e){return""}}function eS(e){return"".concat(e.appName,"!").concat(e.appId)}const tS=new Map;function nS(e,t){const n=eS(e);rS(n,t),function(e,t){const n=aS();n&&n.postMessage({key:e,fid:t});oS()}(n,t)}function rS(e,t){const n=tS.get(e);if(n)for(const r of n)r(t)}let iS=null;function aS(){return!iS&&"BroadcastChannel"in self&&(iS=new BroadcastChannel("[Firebase] FID Change"),iS.onmessage=e=>{rS(e.data.key,e.data.fid)}),iS}function oS(){0===tS.size&&iS&&(iS.close(),iS=null)}const sS="firebase-installations-store";let lS=null;function cS(){return lS||(lS=Hd("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(sS)}})),lS}async function uS(e,t){const n=eS(e),r=(await cS()).transaction(sS,"readwrite"),i=r.objectStore(sS),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||nS(e,t.fid),t}async function dS(e){const t=eS(e),n=(await cS()).transaction(sS,"readwrite");await n.objectStore(sS).delete(t),await n.done}async function hS(e,t){const n=eS(e),r=(await cS()).transaction(sS,"readwrite"),i=r.objectStore(sS),a=await i.get(n),o=t(a);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||a&&a.fid===o.fid||nS(e,o.fid),o}async function pS(e){let t;const n=await hS(e.appConfig,n=>{const r=function(e){const t=e||{fid:$k(),registrationStatus:0};return gS(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Hk.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=Kk(n),o=qk(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:zk,appId:n.appId,sdkVersion:Vk},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await Xk(()=>fetch(a,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Wk(e.authToken)}}throw await Zk("Create Installation",u)}(e,t);return uS(e.appConfig,n)}catch(nl){throw Gk(nl)&&409===nl.customData.serverCode?await dS(e.appConfig):await uS(e.appConfig,{fid:t.fid,registrationStatus:0}),nl}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:mS(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function mS(e){let t=await fS(e.appConfig);for(;1===t.registrationStatus;)await Jk(100),t=await fS(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await pS(e);return n||t}return t}function fS(e){return hS(e,e=>{if(!e)throw Hk.create("installation-not-found");return gS(e)})}function gS(e){return 1===(t=e).registrationStatus&&t.registrationTime+Fk<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function yS(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Kk(e),"/").concat(n,"/authTokens:generate")}(n,t),a=Yk(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const s={installation:{sdkVersion:Vk,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(s)},c=await Xk(()=>fetch(i,l));if(c.ok){return Wk(await c.json())}throw await Zk("Generate Auth Token",c)}async function vS(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await hS(e.appConfig,r=>{if(!bS(r))throw Hk.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Uk}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await xS(e.appConfig);for(;1===n.authToken.requestStatus;)await Jk(100),n=await xS(e.appConfig);const r=n.authToken;return 0===r.requestStatus?vS(e,t):r}(e,n),r;{if(!navigator.onLine)throw Hk.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return c(c({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await yS(e,t),r=c(c({},t),{},{authToken:n});return await uS(e.appConfig,r),n}catch(nl){if(!Gk(nl)||401!==nl.customData.serverCode&&404!==nl.customData.serverCode){const n=c(c({},t),{},{authToken:{requestStatus:0}});await uS(e.appConfig,n)}else await dS(e.appConfig);throw nl}}(e,n),n}});return t?await t:r.authToken}function xS(e){return hS(e,e=>{if(!bS(e))throw Hk.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Fk<Date.now()?c(c({},e),{},{authToken:{requestStatus:0}}):e;var n})}function bS(e){return void 0!==e&&2===e.registrationStatus}async function wS(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await pS(e);t&&await t}(n);return(await vS(n,t)).token}function kS(e){return Hk.create("missing-app-config-values",{valueName:e})}const SS="installations",NS=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw kS("App Configuration");if(!e.name)throw kS("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw kS(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Rh(t,"heartbeat"),_delete:()=>Promise.resolve()}},_S=e=>{const t=Rh(e.getProvider("app").getImmediate(),SS).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await pS(t);return r?r.catch(console.error):vS(t).catch(console.error),n.fid}(t),getToken:e=>wS(t,e)}};Ih(new bd(SS,NS,"PUBLIC")),Ih(new bd("installations-internal",_S,"PRIVATE")),Fh(Bk,Ok),Fh(Bk,Ok,"esm2020");const CS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",AS="google.c.a.c_id",jS=1e4;var ES,TS;function IS(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function RS(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(ES||(ES={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(TS||(TS={}));const PS="fcm_token_details_db",MS="fcm_token_object_Store";const LS="firebase-messaging-store";let DS=null;function BS(){return DS||(DS=Hd("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(LS)}})),DS}async function OS(e){const t=VS(e),n=await BS(),r=await n.transaction(LS).objectStore(LS).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(PS))return null}let t=null;const n=await Hd(PS,5,{upgrade:async(n,r,i,a)=>{if(r<2)return;if(!n.objectStoreNames.contains(MS))return;const o=a.objectStore(MS),s=await o.index("fcmSenderId").get(e);if(await o.clear(),s)if(2===r){var l;const e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(l=e.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:IS(e.vapidKey)}}}else if(3===r){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:IS(e.auth),p256dh:IS(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:IS(e.vapidKey)}}}else if(4===r){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:IS(e.auth),p256dh:IS(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:IS(e.vapidKey)}}}}});return n.close(),await Gd(PS),await Gd("fcm_vapid_details_db"),await Gd("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await FS(e,t),t}}async function FS(e,t){const n=VS(e),r=(await BS()).transaction(LS,"readwrite");return await r.objectStore(LS).put(t,n),await r.done,t}function VS(e){let{appConfig:t}=e;return t.appId}const zS=new ud("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function US(e,t){const n={method:"DELETE",headers:await GS(e)};try{const r=await fetch("".concat(HS(e.appConfig),"/").concat(t),n),i=await r.json();if(i.error){const e=i.error.message;throw zS.create("token-unsubscribe-failed",{errorInfo:e})}}catch(kN){throw zS.create("token-unsubscribe-failed",{errorInfo:null===kN||void 0===kN?void 0:kN.toString()})}}function HS(e){let{projectId:t}=e;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}async function GS(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(r)})}function KS(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const a={web:{endpoint:r,auth:n,p256dh:t}};return i!==CS&&(a.web.applicationPubKey=i),a}async function WS(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:RS(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:IS(t.getKey("auth")),p256dh:IS(t.getKey("p256dh"))},r=await OS(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await GS(e),r=KS(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let a;try{const n=await fetch("".concat(HS(e.appConfig),"/").concat(t.token),i);a=await n.json()}catch(kN){throw zS.create("token-update-failed",{errorInfo:null===kN||void 0===kN?void 0:kN.toString()})}if(a.error){const e=a.error.message;throw zS.create("token-update-failed",{errorInfo:e})}if(!a.token)throw zS.create("token-update-no-token");return a.token}(e.firebaseDependencies,t),r=c(c({},t),{},{token:n,createTime:Date.now()});return await FS(e.firebaseDependencies,r),n}catch(nl){throw nl}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await US(e.firebaseDependencies,r.token)}catch(nl){console.warn(nl)}return ZS(e.firebaseDependencies,n)}return ZS(e.firebaseDependencies,n)}async function ZS(e,t){const n=await async function(e,t){const n=await GS(e),r=KS(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let a;try{const t=await fetch(HS(e.appConfig),i);a=await t.json()}catch(kN){throw zS.create("token-subscribe-failed",{errorInfo:null===kN||void 0===kN?void 0:kN.toString()})}if(a.error){const e=a.error.message;throw zS.create("token-subscribe-failed",{errorInfo:e})}if(!a.token)throw zS.create("token-subscribe-no-token");return a.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await FS(e,r),r.token}function qS(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const a=t.notification.icon;a&&(e.notification.icon=a)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&(null===(n=t.notification)||void 0===n||!n.click_action))return;e.fcmOptions={};const s=null!==(r=null===(i=t.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(a=t.notification)||void 0===a?void 0:a.click_action;s&&(e.fcmOptions.link=s);const l=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function YS(e){return zS.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class XS{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw YS("App Configuration Object");if(!e.name)throw YS("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw YS(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function JS(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Service worker not registered after ".concat(jS," ms"))),jS),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{var n;"activated"===(null===(n=e.target)||void 0===n?void 0:n.state)&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}(e.swRegistration)}catch(nl){throw zS.create("failed-service-worker-registration",{browserErrorMessage:null===nl||void 0===nl?void 0:nl.message})}}async function QS(e,t){if(!navigator)throw zS.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw zS.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=CS)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await JS(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw zS.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),WS(e)}async function $S(e,t,n){const r=function(e){switch(e){case TS.NOTIFICATION_CLICKED:return"notification_open";case TS.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[AS],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function eN(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===TS.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(qS(n)):e.onMessageHandler.next(qS(n)));const r=n.data;(function(e){return"object"===typeof e&&!!e&&AS in e})(r)&&"1"===r["google.c.a.e"]&&await $S(e,n.messageType,r)}const tN="@firebase/messaging",nN="0.12.23",rN=e=>{const t=new XS(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>eN(t,e)),t},iN=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>QS(t,e)}};async function aN(){try{await ld()}catch(nl){return!1}return"undefined"!==typeof window&&sd()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}async function oN(){try{const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oh();return aN().then(e=>{if(!e)throw zS.create("unsupported-browser")},e=>{throw zS.create("indexed-db-unsupported")}),Rh(xd(e),"messaging").getImmediate()}(Mk),t="BOYFVt6rhMqZqBZJjnWaF_xnWGpCvJqq-d6wipy9XlOmv3h1H_SzSN8i33sL2BS9ciOEFbYerQc3HvRuQF-3LVo",n=await async function(e,t){return QS(e=xd(e),t)}(e,{vapidKey:t});return n||(console.warn("No registration token available. Request permission to generate one."),null)}catch(kN){return console.error("An error occurred while retrieving FCM token:",kN),null}}Ih(new bd("messaging",rN,"PUBLIC")),Ih(new bd("messaging-internal",iN,"PRIVATE")),Fh(tN,nN),Fh(tN,nN,"esm2020");const sN=n.p+"static/media/login.7d8c49a6bdd7e675387e.png",lN=()=>{const[e,t]=(0,r.useState)(null),n=ye();return(0,qa.jsx)("div",{className:"flex items-center justify-center bg-gray-100 min-h-[calc(100vh-80px)] py-8",children:(0,qa.jsxs)("div",{className:"w-full max-w-4xl flex bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,qa.jsxs)("div",{className:"hidden md:flex w-1/2 bg-gradient-to-b from-blue-600 to-blue-400 text-white flex-col justify-center items-center p-10",children:[(0,qa.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Welcome Back!"}),(0,qa.jsx)("p",{className:"text-lg text-center",children:"Manage your vehicle listings, rentals, and bookings anytime."}),(0,qa.jsx)("img",{src:sN,alt:"Login Illustration",className:"mt-10 w-72"})]}),(0,qa.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-center items-center p-8",children:[(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:e?"Welcome!":"Sign in to Continue"}),e?(0,qa.jsxs)("div",{className:"text-center",children:[(0,qa.jsxs)("p",{className:"text-lg mb-4",children:["Logged in as ",(0,qa.jsx)("span",{className:"font-semibold",children:e.name})]}),(0,qa.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.email}),e.mobilenumber&&(0,qa.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["\ud83d\udcf1 ",e.mobilenumber]}),(0,qa.jsxs)("div",{className:"text-xs text-gray-500 mb-4 p-3 bg-gray-50 rounded font-mono",children:[(0,qa.jsxs)("div",{className:"mb-1",children:[(0,qa.jsx)("span",{className:"font-semibold",children:"MongoDB ID:"}),(0,qa.jsx)("br",{}),e.userId]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("span",{className:"font-semibold",children:"Firebase ID:"}),(0,qa.jsx)("br",{}),e.googleId]}),(0,qa.jsx)("div",{className:"mt-2 text-green-600 font-bold",children:e.userId!==e.googleId?"\u2705 Different IDs!":"\u274c Same IDs"})]}),(0,qa.jsx)("button",{className:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition",onClick:async()=>{try{await function(e){return xd(e).signOut()}(Lk);["user","userId","_id","googleId","userName","contactName","userEmail","fcmToken","userProfile","contactNumber","mobilenumber","phoneNumber","phone","userProfileImage","profilePic"].forEach(e=>localStorage.removeItem(e)),t(null),console.log("\u2705 User logged out successfully"),n("/login")}catch(e){console.error("\u274c Logout error:",e)}},children:"Sign Out"})]}):(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsxs)("button",{className:"flex items-center justify-center gap-3 w-full max-w-sm bg-white border-2 border-gray-300 rounded-lg px-4 py-3 text-gray-700 shadow hover:shadow-lg hover:border-blue-500 transition-all",onClick:async()=>{try{const e=await async function(e,t,n){if(Ph(e.app))return Promise.reject(ap(e,"operation-not-supported-in-this-environment"));const r=mm(e);lp(e,t,Vm);const i=Tf(r,n);return new Bf(r,"signInViaPopup",t,i).executeNotNull()}(Lk,Dk),r=e.user,i=await oN(),a={googleId:r.uid,name:r.displayName||"",email:r.email||"",mobilenumber:"",latitude:"",longitude:"",fcmToken:i||"",platform:"web"},o=await La.user.register(a),s=o.user,l=null===s||void 0===s?void 0:s._id;if(console.log("\u2705 Backend response:",o),console.log("\u2705 Backend user data:",s),!l)throw new Error("Backend did not return user._id");const c={userId:l,googleId:r.uid,name:s.name||a.name,email:s.email||a.email,fcmToken:i||"",mobilenumber:s.mobilenumber||"",profilePic:s.profilePic||""};localStorage.setItem("user",JSON.stringify(c)),localStorage.setItem("userId",l),localStorage.setItem("_id",l),localStorage.setItem("googleId",r.uid),localStorage.setItem("userName",c.name),localStorage.setItem("contactName",c.name),localStorage.setItem("userEmail",c.email),localStorage.setItem("fcmToken",i||""),s.mobilenumber&&(localStorage.setItem("contactNumber",s.mobilenumber),localStorage.setItem("mobilenumber",s.mobilenumber),localStorage.setItem("phoneNumber",s.mobilenumber),localStorage.setItem("phone",s.mobilenumber),console.log("\ud83d\udcf1 Mobile number saved:",s.mobilenumber)),s.profilePic&&(localStorage.setItem("userProfileImage",s.profilePic),localStorage.setItem("profilePic",s.profilePic));const u={name:c.name,phone:s.mobilenumber||"",email:c.email,userId:l,googleId:r.uid,profilePic:s.profilePic||""};localStorage.setItem("userProfile",JSON.stringify(u)),console.log("\ud83d\udcbe All data saved to localStorage:",{name:c.name,email:c.email,phone:s.mobilenumber,userId:l,googleId:r.uid}),t(c),l===r.uid&&console.warn("MongoDB _id and Firebase UID are the SAME!"),n("/change-location")}catch(i){var e,r;console.error("\u274c Google login error:",i),alert((null===i||void 0===i||null===(e=i.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||i.message||"Google login failed")}},children:[(0,qa.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAQAElEQVR4AeybC5SV1XXHz3fvnQc4AwzOKI9R0aIEXElRBCVWwCQNsqIJyqOpFmNXQFostIj4SGMB02rUQkQMFiJraZrQxEFlVVkRH1GkUaxV03Y5VsSKAiIPh5EZYJj7+Pr/7fm+yx24d5iZeweBVdbZ9+zvPPY55//ts/c+5xsi7v//FRSB4w1QT6vLRswzW3lYpm4OnvwLJSZ6TCfg+z4LzyTmEBLl8OQQPATvjRkzJqrJRubPn2/PYa4yL+QD+Sr6YhKT7fKRMxYJEOF48CExj5Aoiw4bNszAU+OIeOqiO3fuNP7pp5+mLko+adIkaw+g4iOe/omnvce4IUnOMUkM3NUDsWDGMC3Sej0WLm1jbKMhQ4ZYPnDgQICKqXFsx44dlsO/+eabRdXV1bHa2tqo+JiIdtHPP/88UlNTQzv6R8WTR15++WVyhoosWLCA3AGsZHV5YuCuHsRnRYAYLBQQwkVHQ6A0idimTZtip59+OmDFtm7dClBFKod4Lurduze8UVVVFe2N79evX0xy6GekcSxXX8wDa4QM1ADY8CWrSWGTDVRYkc62mmSikchncYDoaaGRAQMGABRl5AAVC4Hq2bNnsTSzWH2LysvLyY1CPh6P27PqS3bt2gVf1KtXr9gnn3xStG/fvuLKysoivRDkIh9ifCO9VDMHygEzJIkqbGKwQklMTzKYdKZ2MA4LjW3evDnKwjUoz8U9evQoqqurKy4rKytJJBLFp5xyCkCVJJPJErWBihsaGsKcupAosz6027NnT9Hu3buL9EKKKioq0Fzkx9Be1UdlTmKBmbF5ys5arrowF5t/YqH5S2ktIZxgJLCNaIotTs1iaCELF18CeAIRYIrvvvvuc956661rBfg/yDY+KnpdGrlBW3SbaKuIfJvKXm9qanp+//79T0hL//6VV1656qmnnhrarVu3ku7duyOzROCGoBepbYwXKHOCmWEezCfzZWsqzsyBMXn+FAJQA1ALZirIA0ibNE5EhfAAidYUCyjykhkzZlQC4LZt2xYnk8l3Z86c+dp55523SIv/vrT2m7FYrBpS/1aJspKSkiECcGRlZeX3L7jggkfGjx+/du/evRu2bNnyIDKnTp1ayctSx2JpP5prZqVKdref7K201eYpjWXugBtsqvxjWQRr3I4nAchksJd0ZkIAF9FkowGQaAPgmbZIE4ulQcXSqFHSrB8tWbJkAwDKBk6KRCI9EJIPAbRs8URkLlu2bINe1IOrVq26QDJtB0izizVukextVNoaw4nJpkcBle0PqW3eqdOACkEbXDkBN3IAOKKtCLAGppxJGtA1a9YA5BOXXXZZDZpVCBBtAll+kC3TMmnChAnPaj6rBNwo2eGiUGvVxUyB8ohMDHONBoCG62Atqu54QkBHe9E+1Ez6Rwi45b2j2k5RaQAThIpSqVSRtGSoPPATo0ePflwaegmdjyVhGhhbpubRe+6552zNAQeYNgMCNKK5sw4UgcgkBJMc6tB0EdShDmpsg0yePJm+8BG2uCYGmGikETZSW2suWqJFHHMgNc9WCbuMnd64ceOtjY2NFk3IvhYTEWjusRBUaarZ1KCzH+TtzgClvY0BL02yRyGPDN4uWgkVLV269JxFixat6tOnz83tFX6s2vXv3/9vZE83oK0aM5ZIJFAAwjly8wEZoEYCX6Gm7UuA0b6WQSsNBpfe5npgIgYk/Hvvvfen06dPX4sn1vNxmXBgN91009qPPvpoOrZVk+SAYEqhXQUmaCk5LkLV5v1RIPg2iU5tNqCStyRyAhMbQx+2eUS2ESBtImqHB70VL4tT0PNxnZjjmWeeOV82f64mGquvrw8Vg+Mwa4oQAYTrVpt2JcA5akO9JsclwzvvvMNbShtxbXsALZKNBMy5ffv2nX1UYcdZA+ase4NbWUNZWRnriR08eNBAVXTAcTWMANplT48KqN4QIKKZHrc5ijO9QDNtcE0kJkN/QoIZvlvsqrb6LXJWpqVSlKhANi3V1SHrpylYwUM8ZyUaZa0ICqWcHtdtCIEiGhhDzmDEddz4zNWETjjNDNaXztBUbf9bVMBBBGCjumjhuhCMWDvEEVVNcica564NaqSZCANEKKKzsmmnwqXpTCRodsJnrEVr+hMdAGx9OhJHiK21MHACA3I95k45G7DVcUKTdCOO2itO83QWjuioCKhRhUYDdHw77sKi3EttX82gQYPmK6QaoNYxhVdcDUa0TtYMoI4tCzaqz5pyAkprAeqknRGdMiIHDhyIYlvkDe3tTZs2rQZPSbuTiVjTjTfeuEIXLL217pgUKKYTH2Da5xfWKlDJslIuQNXHMyHq5cluRlB/nTZ4U7y1W4jlVHdSJmLou+66a5oWRzjFCTAmLY3o04tjx6ocJ50Vu6yF6hAmD6+uh4juMKN6UzG2OrZGZR1JJ1xb1qh7iK9o4lw9mtcXFnx5iACqdm/WMCoXoGinkbQTrTRSWBG77rrrFmiQLk1+Q4Pbv+YpV7/oHvfZrX/ldv3l99LE896f/dQdfOvfHe26ciLjxo2bL/lRbX3WT4RD7sn0GTaqI1d2KB0BKAaXN6AmNA4pUlZWFlWge6m2/TdV1yXpwLoXDbht37jY1d31t67x1//sDqz7rcB7I008733kp2p3g2tp9wOX3L6tS+bTvXv3S1izhANkFKcs/gjMVJZOR1R6nocj8tSCupCi0s7o8OHDu8Sro23bx/+xtHGmAaex2532r1nt6Ft3V9cAO2LEiNm6AozpbjcizTQ8BLJteyaJApKHRIOQJ2gNgXSyFyFv2qnvNl/mjaUbF4Bhy9b/5MembflqGcDumHKN2/fM6gLM7JAIgTly7dq1I3WJEpXHBy/Itr3sKBiFuFknKo3hx/Na6ok7ZTupg0w7L7/88qm0KRQB4E7ZxsZf/bxQIl1KtnfPj34gM/FiwWQiaPDgwVcoj9bX1/PF1hPvCWCPuw3P84hN0w4KwFRvybNf5wgPvIAnjygm6yWVHxuU5Z21gHmDi7//P3nLOlzAKVeOd91Gf/3w4rye9a1qEhhIiIWPCqE8hVDcbaiodcoElBoADHMMcUTHsOicOXPGEfBSUQjaPXdmux1JpLyHKzr3S67kwuGWtzU+YFbceXdbTTpVx9rnzp17hbDg2B3RxQm4gVUmmWwqjAl+MhvAc+fpKSYr2CcMQp6jaSYg9ph2k6t6+FHX74UN7vRfPCn+McurX68V/6jr/q3xwZRbsq4Cs0W6c6eddtpI3bKBl+GicuNlR8UeShQeego4XQhQ7mmbk0f1ZkYGVXllbHVCnraElGq79nnqeddj6k3SyhFZm5ZcOML1/ru7DdhY3/6uq8FkEgoXx3br1g08IE/b3g0ZMoQTEwCnHROVtIeoMNI1lquoqDDDK+9+fqGOmftfvJ9xchJaWXnfEhcpL8/ZJrMCYCulxV2xzTPHgWfb33vvvWeI9/D22vZgpUdnX4A9zzPHZIAGsZQVEC7pHtDTFR0dImecccaZ9MqX/KbNrrjfYld25afOK00dIa7su1NMK4+oOEoBGnqUJgWrHjt2LDvVMAMjXfXxNwl4ebCycawyQNcLwiW3Y8cOymnk6bsLQqxxPj/JLYute7dL97iKWf/rohVxe+YHUHrNvgM2k447Xt7+fE3KU/jkCSPwcQ0NDWx7FbckgGvh9KtQQL/OGspmkHuyn0MozJdSe15OiwDMitl1rvTilqLyqTNamOP8t7S01La8pgk2yhzhkz9//nzj9eOFgNIAUpkB6u3du9eeo9Fo3n935BL1zm/8PbLT5BXVufLx77ryid3kVK5Ol+di9jUl3K76pk5TLrkdKRegQ3RaBBevsrKSPLO72dL0h3yhbDYU70UreXinzq4QgKYaWoOJ/JC6X8kNWfiUO//5b953sxa92mmq/bA+t/BO1Og6MwTUcvkhw4/PpMYLUCo8ea9QvLd///5IITw8DikUengeKRt6eFGXPO+qP5C3XLAQWOBkUZAE4neUObkhjx/fNFRPFIbkwcjY+oq7YPMmv+mjnDK88j/MWVfIiv0yGYWQp09BaCJRkOV65qswcSjiPTTUBdpJQSYZsJkFXcLHC7sVc80RG5yrriPlUjLzO7KhAOordCIPRfhU4qXShTolWaVsKP97I11uhZ388UrPytnTT3yes66QFaeUxgoiThppmOhzkJ2WJNQ7//zzwUqscwDqGRf86JRkHYJHl0gktoZ8Z3MvVpGzq9+Gw8rZqRMVVRWlnejVukuABfhATv6GHIVMNwTQcP9bZVgjG+rklCgLizqdRypG5+y78v323V2OHtrH/cXVg9uki75UlXOc7iX8MUjO6nZV6MvvXjX0tXtdXV2dP2DAAD06w0jOCt4DUCvgKSA/tA8K6v2mpqZ3gvLOZ7Feziu1wdMyGlIxd/uur7gHdp3m/uPT/0yX52KGnF3hRl/Qt03a3xTP1d2d1bcsZ117KwCUUFLKBmb+5s2b7eip/jwrc2ZDYYzGjBljFYqx/J49e/q6rgLQvLc8wiN9byAz+tT1cd/79GK37kCLRs3/t/tcQ3Oj1XX2h6C/dnN2Bzd4QC9XCBuqHfuOyDBintJQX9+XYC1kgkFDeYB3QSUdfH06tVyqXWuVef5Eqr5jEn699wx3/dZBbnui1J75+aRxh1v2+/w+hfzTkzZNxB1BwwdXHVHWmYItW7a8FvQzbKShvr4Qa7fz2FJjgKqE0IkSanzdpDhdBHAl5OsD1atU5EsE8DXRKe6B+vMc2/1weStrn+w0qE+89KHLpZ2Mc1GBAN22bdsWyUuKDBvlfk1NjcJ4Dz9kzt0AVQmeCrTVxnHblJJmOhlf/7bbbtuiEAFjbHX5/Az/8rw2u6OlN/92nvuk8dM224WVmIkf16x3qwRoWHZ4PmpoX1fV69BuOLy+vc94+MmTJ+NPfCkbihd2Bdz0LjdApaGGrtAOG5pjkvFNKe7Sx8SGtWHvfPJBvf/ATR96fZsiXv74d+7KVX/m5smubqz7IGvbN+XEAP/KVde5VQ33uj0938jajsKJXzubLG9qbGx8DSx0C4ey4eFTEgopO5QMUDRUoIalNPJ1KUKekqdP6e4vtB1hm07nADqsz9GPm09ves5991+nu9Erv2P5tGfnuG8JQJ7hAbSheZ9LRZrczlOfd59VrD9iThMuP7sg2ongnTt3gkFKt3CYxBT2k3KdMslQRMgCewpQWQqM9K0EQI2Xp08uXLjwN4Xa9gy26GsLXN+y02GPSg0CDU1FK7fLefGcrdNuAfpR/xUuHmvx9ONGVruJAjRb246WsfbFixc/q35mP6VgYKPHlhgUJiTTUB6koWx7yOm86hcXF5uGqi61fPnyz2VTa8QXJJUXl7mfXbHQnScTUBCBgZCmkh1uS79fuq8O7+auH3deUJp/JtO3dunSpbwpgASXdC4NhU8PkgZU255CKjkJELQ6nevtjagi+e677z6rvGCpX1kf96tv2Jt2wAAAB6FJREFUL3PXDrmmYDIRNOkrX3czryrIVxvEGb3wwgsrxKQUmwNmSGClYkumiHBpQPUgJfVx/wSrvrZ9Sl/6cE5JefvUqFGjXlVQu0HtCppuGTHDLeyACcg1eD+ZkOXSeuTlatOZctY8ceLE/xYGyaKiooRkAChghqSiQ1s/E1Czo4Gm2rbXhSq3KL6ARVOTb7zxxiJ6F5ouP/NSt2biL938P5rrLmqHw8ocn/a8kGfUHz6zrhB8sGaUK8kJUjJTY8aMAVSxlgDWGH5aAUqBiAa+PtildG5N7dq1KyWPj5YmJeh3vDG16ZL07YFjHVr2zMRfmNZiDgAboEK6Sm0oB/x116629rTpignJoz/HmqWdCZ0ckxoDIP2qqirDSFtaRa1TNkCxB9ahtrYWAcRdSRlmBCaee+65tqPz1vI79YR9BSS2L9oHyCEtkBZTDvg4t04N0M5Ojz32GGtNBDvUsFBXTkfKnO1emEzKBihg2lGUc6oah4KwH8mrr776v7Zv3/4TlZ8sKes6WOPtt9/OtxvTTjnoEAfwgbL2ywYoDf158+aFbyIURG6gKlRY3tzczDGMticdccwUgAtl3rgPZGcmdfHO+gEyzLOuOxeg5qDUg/N9KCQp24HwxMqVK+tWrFgxlYBXbU6qxJoefvjhSVpUQmFSUnfDAMi68SHceRAJqdqBC3kryglo0Aot9WWY/YEDB/o4KJUndK5Nzpgx48ONGzd2+f8I0XjHNOmzxqI77rjjQw1qW10HnCQhpJ7NGWl3ZrWdqrd0NEDNluqe1N+0aVNSoCZ1tccbi8vzJQcPHvwv2BqTdBL8sJazzjprOcdtLcfMm7Z6MnDOKBdrV1Xu1CaghAW8EXVHvQGVixLUnxso7EtcIN/PRNTmhE6sQXbzH7UIgISSupG3taqMrQ4GYrNvdSqgNgFVkI+QTOINMYgN2KtXrwSG+0QHNQPMuNaEoiQEZkI3SilFOqwZQC0HtLaoTUDDjmiqeAMWeyoe4cn6+nqANVB5u0xMdSdUYs7MXZOOywkltKaknlOAqbWm+Oau9bN2NTl6aheggabi3TjnAyaEpuL5DVQN1Yymfvzxx/PxlHo+rhNzlFO9+dxzz71PE21GM4OzegK7qbKUfEeK8DFcv8qOmtoFaCAl8y35vD2VJ3UBHQIa1xG1WUZ92YMPPngFsZzqj8ukGLqWOV544YUr5YBs/tLMhM7q8KYs8h3khI8dWkNHAEU42g/x9gxUtoZGTBCj6njKhOJ33nnnB/pUMJLtpLrjKjGnOXPmTJg9e/YHAZhmMzVJ23FSFHI72KgMJYLEti91CFBEov4iWANVTIo4TfYnnFhccSraepDttGTJkpF6Lsg3KY3V6STnuWH16tVjZR/vf+ihhz6ToLiC9mblKAEEkEm2uTQmFayxQ2BK1qFPIDx0lBhYXpC/QEsqTmWLMDEmSvAflwbEZ82a9WF5efmfr1+/fhKL6ugY+bZnzHXr1k2WaZowZcoU/vIXEG2O2uKAyJzJmb8BGIDZ1tA56zqsoYEkBubE4B5//PFwIuRQsrS0NKEDABqL52QBzbqgXs+i0BJdhdXgFAJZBc+QLbBW8BI15jXaxuv0Upu1U5iLzUv15IDJnENiXfDMCZ68Q9RZQMNBDFRpKoMzEbt81fEtqQ9ZTDYu8Jg4xGKa0ZL+/fvPmj59+iV4WdXXFMKBAaK+e61CJrJl03+ol/iKJmpjy74zfqK6uppnNBKyOasN84fEWsrkraC9P/kCyjgGKozIAJVGhBNNESCrHKfFQrCvzUQDjzzyyO5BgwatVLjy1wpXLkZz33777anSnBVs04MHD9ZmA5oyiMtf2gLgAw888FXJHHLqqafOQiay5RQBMN67d2/LmQPEyyYXpecoPgQwzFXUuVQIQBmZiZiiKtwgVuXtczuT3Lx5Mzw3NwBqixMYIc/zQQlo1j3r2wpjnkGzRNfIbHxDju5i2bP++nJQTa7t21/gXyIaobob9LJ+qD4r5bE3aUsfFIgmC3nhGNJaxrI5DBs2jDwXkKxBXfNLhQLUZqFFZ07KwioBbIuQ0+LWBh5TAMVlZwE01CJ4I2loswAyTZbg5gMHDhhQ0kLKjaecZzk+68OW1s0Q4MXlyePV1dWMATGm0TnnnJPSW4dnnpkkcYVJBQU0mFI4UccpQ4DynFKe4tZG5oAF2UJlZ41HiwBB/ZulnSFAcUCiTOENIB7kWQRvbUItVBsDUiYAuZx0EmxtxlIUktTYjGO3RYe9dHUtbOoKQMMZYlsBEwJQy4nz1IBtl9CCDQA9cyPOohPa1mGZgaS6uICiDqIsrOcCw5515KUuXa4+PFtMSRQiQBmP8VVlKZO3gkL9dCWgh8+RRWjH+eQsMAW4Wiy2lmcAweaSJ2TvLJeQzNyACuriw4cPj+ulEAPTJrwZok04RvhSJcau3SiH7zI6loCyiHCB4cK4FgudGDzAGukzNsCg2eQARm6ELZSwFH8t+NJLL1FmfdBGldsljnLGgMQeu3SsAc1cGYvNJMDjGXCSpsq+n8IOq1NmOUDSxiiwib7+2V0DbYMyscc+fZGAZlstwFk5oISkAsqhNGgqa5Vo26rgC3r4PwAAAP//VXKUywAAAAZJREFUAwBzxcJOMCTp7AAAAABJRU5ErkJggg==",alt:"Google",className:"w-9 h-9"}),(0,qa.jsx)("span",{className:"font-medium text-gray-800",children:"Sign in with Google"})]}),(0,qa.jsx)("p",{className:"text-gray-500 text-sm mt-6 text-center",children:"No separate signup needed \u2014 your Google account is your key."})]})]})]})})};const cN=function(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[a,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{s()},[]);const s=async()=>{i(!0),o(null);try{const e=localStorage.getItem("userId")||"",n=await La.ticket.getTicketsByUser(e),r=Array.isArray(n)?n:(null===n||void 0===n?void 0:n.tickets)||(null===n||void 0===n?void 0:n.data)||[];t(r)}catch(kN){console.error(kN),o("Failed to load tickets. Please try again.")}finally{i(!1)}},l=e=>{const t=(null===e||void 0===e?void 0:e.toLowerCase())||"";return"open"===t||"pending"===t?(0,qa.jsx)(Us,{size:20,className:"text-orange-600"}):"in progress"===t||"inprogress"===t?(0,qa.jsx)(Wc,{size:20,className:"text-blue-600"}):"resolved"===t||"closed"===t?(0,qa.jsx)(Cs,{size:20,className:"text-green-600"}):"cancelled"===t?(0,qa.jsx)(As,{size:20,className:"text-red-600"}):(0,qa.jsx)(zc,{size:20,className:"text-gray-600"})},c=e=>{const t=(null===e||void 0===e?void 0:e.toLowerCase())||"";return"open"===t||"pending"===t?"bg-orange-100 text-orange-700 border-orange-200":"in progress"===t||"inprogress"===t?"bg-blue-100 text-blue-700 border-blue-200":"resolved"===t||"closed"===t?"bg-green-100 text-green-700 border-green-200":"cancelled"===t?"bg-red-100 text-red-700 border-red-200":"bg-gray-100 text-gray-700 border-gray-200"},u=e=>{const t=(null===e||void 0===e?void 0:e.toLowerCase())||"";return"high"===t||"urgent"===t?"bg-red-50 text-red-700 border-red-200":"medium"===t?"bg-yellow-50 text-yellow-700 border-yellow-200":"low"===t?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200"};return(0,qa.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qa.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-6 py-6 shadow-lg",children:(0,qa.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:[(0,qa.jsx)("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,qa.jsx)(Xc,{size:24})}),(0,qa.jsxs)("div",{className:"flex-1",children:[(0,qa.jsx)("h1",{className:"text-2xl font-bold",children:"Support Tickets"}),(0,qa.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:"View and manage your support requests"})]})]})}),(0,qa.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[(0,qa.jsxs)("button",{onClick:()=>window.location.href="/raise-ticket",className:"w-full bg-gradient-to-r from-blue-500 to-blue-700 text-white py-4 rounded-xl flex items-center justify-center gap-3 font-semibold text-lg hover:shadow-lg hover:scale-[1.02] transition-all mb-8",children:[(0,qa.jsx)("div",{className:"bg-white/20 rounded-full p-1.5",children:(0,qa.jsx)($o,{size:22})}),"Create New Support Ticket"]}),a&&(0,qa.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-200 rounded-xl",children:[(0,qa.jsx)("p",{className:"text-red-700 font-medium",children:a}),(0,qa.jsx)("button",{onClick:s,className:"mt-2 text-sm text-red-700 underline hover:text-red-800 font-medium",children:"Try Again"})]}),(0,qa.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n&&(0,qa.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,qa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),!n&&0===e.length&&(0,qa.jsxs)("div",{className:"text-center py-12",children:[(0,qa.jsx)(zc,{size:48,className:"mx-auto text-gray-400 mb-4"}),(0,qa.jsx)("p",{className:"text-gray-600 text-lg font-medium",children:"No tickets found"}),(0,qa.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Create your first support ticket to get started"})]}),!n&&e.length>0&&(0,qa.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,qa.jsxs)("div",{className:"border border-gray-200 p-5 rounded-lg hover:shadow-lg transition-shadow bg-white",children:[(0,qa.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,qa.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[l(e.status),(0,qa.jsx)("h3",{className:"font-bold text-lg text-gray-900",children:e.subject})]})}),(0,qa.jsx)("p",{className:"text-gray-600 mb-4 leading-relaxed",children:e.description}),(0,qa.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,qa.jsx)("div",{className:"inline-flex px-3 py-1.5 rounded-lg border text-sm font-medium ".concat(c(e.status)),children:e.status}),(0,qa.jsxs)("div",{className:"inline-flex px-3 py-1.5 rounded-lg border text-sm font-medium ".concat(u(e.priority)),children:[e.priority," Priority"]}),e.vehicleType&&(0,qa.jsx)("div",{className:"inline-flex px-3 py-1.5 rounded-lg border text-sm font-medium bg-gray-50 text-gray-700 border-gray-200",children:e.vehicleType})]})]},e._id))})]})]})]})};const uN=function(){const[e,t]=(0,r.useState)({issue:"",vehicle:"",description:"",name:"",mobile:"",photos:[]}),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),h=ye();return(0,qa.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50 overflow-hidden",children:[(0,qa.jsx)("div",{className:"bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white px-6 py-4 shadow-lg flex-shrink-0",children:(0,qa.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[(0,qa.jsx)("button",{onClick:()=>{h("/dashboard")},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",type:"button",children:(0,qa.jsx)(Xc,{size:22})}),(0,qa.jsx)("h1",{className:"text-xl font-semibold",children:"Raise Ticket"})]})}),(0,qa.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,qa.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6 h-full",children:[u&&(0,qa.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,qa.jsx)("p",{className:"text-sm text-red-600",children:u})}),(0,qa.jsxs)("div",{className:"grid grid-cols-2 gap-6 h-full",children:[(0,qa.jsxs)("div",{className:"space-y-4",children:[(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("label",{className:"block text-gray-900 font-medium mb-2 text-sm",children:["Select Issue ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsxs)("button",{onClick:()=>i(!n),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 flex items-center justify-between hover:border-gray-400 transition-colors text-sm",type:"button",children:[(0,qa.jsx)("span",{className:e.issue?"text-gray-900":"text-gray-500",children:e.issue||"Select an issue"}),(0,qa.jsx)(so,{className:"text-gray-400",size:18})]}),n&&(0,qa.jsx)("div",{className:"absolute z-10 w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:["Booking issue","Payment issue","Vehicle issue","Driver issue","App issue","Other"].map(e=>(0,qa.jsx)("button",{onClick:()=>{t(t=>c(c({},t),{},{issue:e})),i(!1),d(null)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg",type:"button",children:e},e))})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-900 font-medium mb-2 text-sm",children:"Select Vehicle"}),(0,qa.jsxs)("div",{className:"relative",children:[(0,qa.jsxs)("button",{onClick:()=>o(!a),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 flex items-center justify-between hover:border-gray-400 transition-colors text-sm",type:"button",children:[(0,qa.jsx)("span",{className:e.vehicle?"text-gray-900":"text-gray-500",children:e.vehicle||"Car"}),(0,qa.jsx)(so,{className:"text-gray-400",size:18})]}),a&&(0,qa.jsx)("div",{className:"absolute z-10 w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg",children:["Car","Bike","Auto","Other"].map(e=>(0,qa.jsx)("button",{onClick:()=>{t(t=>c(c({},t),{},{vehicle:e})),o(!1)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg",type:"button",children:e},e))})]})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("label",{className:"block text-gray-900 font-medium mb-2 text-sm",children:["Describe your issue ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("textarea",{value:e.description,onChange:e=>{t(t=>c(c({},t),{},{description:e.target.value})),d(null)},placeholder:"Describe your issue here",rows:4,className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:border-blue-400 resize-none text-sm"})]}),(0,qa.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[(0,qa.jsxs)("label",{className:"flex flex-col items-center justify-center cursor-pointer",children:[(0,qa.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{const n=e.target.files?Array.from(e.target.files):[];t(e=>c(c({},e),{},{photos:[...e.photos||[],...n]}))},className:"hidden"}),(0,qa.jsx)(ws,{size:36,className:"text-gray-600 mb-2",strokeWidth:1.5}),(0,qa.jsx)("span",{className:"text-gray-700 font-medium text-sm",children:"Add Photos"})]}),e.photos&&e.photos.length>0&&(0,qa.jsxs)("div",{className:"mt-2 text-center text-xs text-gray-600",children:[e.photos.length," photo(s) selected"]})]})]}),(0,qa.jsxs)("div",{className:"space-y-4",children:[(0,qa.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),(0,qa.jsxs)("div",{children:[(0,qa.jsxs)("label",{className:"block text-gray-900 font-medium mb-2 text-sm",children:["Name ",(0,qa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qa.jsx)("input",{type:"text",value:e.name,onChange:e=>{t(t=>c(c({},t),{},{name:e.target.value})),d(null)},placeholder:"Enter your name",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:border-blue-400 text-sm"})]}),(0,qa.jsxs)("div",{children:[(0,qa.jsx)("label",{className:"block text-gray-900 font-medium mb-2 text-sm",children:"Mobile Number"}),(0,qa.jsx)("input",{type:"tel",value:e.mobile,onChange:e=>t(t=>c(c({},t),{},{mobile:e.target.value})),placeholder:"Enter mobile number",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:border-blue-400 text-sm"})]}),(0,qa.jsx)("div",{className:"pt-6",children:(0,qa.jsx)("button",{onClick:async()=>{if(e.issue&&e.description&&e.name){l(!0),d(null);try{await La.ticket.createTicket(e),alert("\u2705 Ticket created successfully!"),t({issue:"",vehicle:"",description:"",name:"",mobile:"",photos:[]})}catch(kN){d(kN.message||"Failed to create ticket"),alert("\u274c Failed to create ticket: "+(kN.message||"Unknown error"))}finally{l(!1)}}else d("Please fill in all required fields")},disabled:s,className:"w-full bg-gradient-to-r from-[#0A0747] to-[#4EC8FF] text-white py-3.5 rounded-lg font-semibold text-base hover:shadow-lg transition-shadow disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:s?"Submitting...":"Submit Ticket"})})]})]})]})})]})},dN=Ga("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),hN=12e4,pN="/sounds/new-booking.mp3",mN=()=>{const e=window.currentNotificationAudio;e&&(e.pause(),e.currentTime=0,e.loop=!1,window.currentNotificationAudio=null)};function fN(){const{showOwnerModal:e,setShowOwnerModal:t,currentBooking:n,setCurrentBooking:i,bookingQueue:a,setBookingQueue:o,addBookingToQueue:s,removeBookingFromQueue:l,actionLoading:u,setActionLoading:d}=Cc(),h=(0,r.useRef)(null),p=(0,r.useRef)({}),m=(0,r.useRef)({}),f=(0,r.useRef)(null),g=(0,r.useRef)(null),[y,v]=(0,r.useState)({}),[x,b]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),S=localStorage.getItem("userId")||"",{addNotification:N,updateNotificationStatus:_}=Ba();(0,r.useEffect)(()=>{(async()=>{if(!("Notification"in window))return console.log("This browser does not support notifications"),!1;if("granted"===Notification.permission)return!0;if("denied"!==Notification.permission)return"granted"===await Notification.requestPermission();return!1})().then(e=>{k(e),e?console.log("\u2705 Notification permission granted!"):console.log("\u26a0\ufe0f Notification permission denied. User won't receive browser notifications.")})},[]);const C=()=>{try{A(),f.current||(f.current=new Audio(pN));let e=0;f.current.loop=!1,f.current.currentTime=0;const t=()=>{var n;(e++,e<2)?(f.current.currentTime=0,f.current.play().catch(e=>console.log("Audio play failed:",e))):null===(n=f.current)||void 0===n||n.removeEventListener("ended",t)};f.current.onended=null,f.current.addEventListener("ended",t),f.current.play().catch(e=>console.log("Audio play failed:",e)),console.log("\ud83d\udd0a New booking sound started (double)")}catch(e){console.log("Could not play new booking sound:",e)}},A=()=>{try{f.current&&(f.current.pause(),f.current.currentTime=0,f.current.loop=!1),mN(),console.log("\ud83d\udd07 New booking sound stopped")}catch(e){console.log("Could not stop new booking sound:",e)}},j=e=>{const t=e.vehicleName||e.VehicleName||"your vehicle",n=e.contactName||e.customerName||"A customer";((e,t,n)=>{if("granted"===Notification.permission){const r=new Notification(e,c(c({},t),{},{requireInteraction:!0,silent:!1}));if(n){const e=new Audio(n);e.loop=!0,e.play().catch(e=>console.log("Audio play failed:",e)),window.currentNotificationAudio=e}return r.onclick=()=>{window.focus(),r.close(),mN()},r.onclose=()=>{mN()},r}})("\ud83d\ude97 New Vehicle Booking Received!",{body:"".concat(n," wants to book ").concat(t,". Open dashboard to respond within 2 minutes!"),icon:"/logo.png",badge:"/logo.png",tag:"booking-".concat(e._id||e.id),requireInteraction:!0,data:{bookingId:e._id||e.id,vehicleName:t}},pN)};(0,r.useEffect)(()=>{if(!n)return;const e=n._id||n.id||"",t=setInterval(()=>{const r=(n.expiresAt||0)-Date.now();r<=2e4&&r>0&&!y[e]&&(console.log("\u26a0\ufe0f Warning for booking:",e),(()=>{try{g.current||(g.current=new Audio("/sounds/WhatsApp Audio 2025-11-26 at 12.29.55.mp3")),g.current.currentTime=0,g.current.play().catch(e=>console.log("Warning audio play failed:",e))}catch(e){console.log("Could not play warning sound:",e)}})(),v(t=>c(c({},t),{},{[e]:!0}))),r<=0&&(clearInterval(t),R(e))},500);return()=>clearInterval(t)},[n,y]),(0,r.useEffect)(()=>{if(S)return console.log("\ud83d\udd0c Initializing owner socket for:",S),h.current=er(Sa,{query:{userId:S},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,timeout:2e4}),h.current.on("connect",()=>{console.log("\u2705 Global Socket connected for owner:",S),b(!0),E()}),h.current.on("disconnect",()=>{console.log("\u274c Socket disconnected for owner:",S),b(!1)}),h.current.on("reconnect",e=>{console.log("\ud83d\udd04 Socket reconnected for owner after",e,"attempts"),b(!0),E()}),h.current.on("new-booking-request",e=>{console.log("\ud83d\udd14 New booking received (global) via socket:",e),T(e)}),h.current.on("booking-created",e=>{console.log("\ud83d\udd14 Booking created event received:",e),T(e)}),()=>{console.log("\ud83d\udd0c Cleaning up owner socket"),h.current&&h.current.disconnect(),Object.values(p.current).forEach(clearTimeout),Object.values(m.current).forEach(clearTimeout),A()};console.log("\u26a0\ufe0f No ownerId found, socket not initialized")},[S]),(0,r.useEffect)(()=>{if(S){E();const e=setInterval(()=>{E()},3e3);return()=>clearInterval(e)}},[S]),(0,r.useEffect)(()=>{!n&&a.length>0&&P()},[n,a]);const E=async()=>{try{const e=await fetch("".concat(ka,"/getPendingBookingsOfOwner/").concat(S));if(!e.ok)throw new Error("Failed to fetch bookings");const n=await e.json();let r=[];Array.isArray(n)?r=n:n.data&&Array.isArray(n.data)?r=n.data:n.bookings&&Array.isArray(n.bookings)&&(r=n.bookings);const a=r.filter(e=>{const t=(e.status||"").toLowerCase();return"pending"===t||""===t}),s=Cc.getState().bookingQueue,l=new Set(s.map(e=>e._id||e.id)),u=a.map(e=>c(c({},e),{},{receivedAt:new Date(e.createdAt||e.CreatedAt||Date.now()).getTime(),expiresAt:new Date(e.createdAt||e.CreatedAt||Date.now()).getTime()+hN})),d=u.filter(e=>!l.has(e._id||e.id));d.length>0&&(console.log("\ud83c\udd95 Found",d.length,"new pending booking(s) via polling"),C(),d.forEach(e=>{j(e)})),o(u),u.forEach(e=>{I(e)});const h=Cc.getState().currentBooking;if(u.length>0&&!h){const e=u[0];i(e),t(!0)}}catch(e){console.error("Error fetching bookings:",e)}},T=e=>{if((e.ownerId||e.OwnerId)!==S)return void console.log("Skipping booking - current user is not the owner");const r=a.find(t=>(t._id||t.id)===(e._id||e.id));if(r)return void console.log("\u26a0\ufe0f Booking already in queue, skipping");console.log("\ud83c\udd95 New booking received for owner - showing modal immediately"),C(),j(e);const o=c(c({},e),{},{receivedAt:Date.now(),expiresAt:Date.now()+hN}),l=e.vehicleName||e.VehicleName||"your vehicle",u=e.contactName||e.customerName||"A customer",d=e._id||e.id;N({type:"new_booking",title:"Your car has been booked?",message:"".concat(u," requested to book ").concat(l,"."),vehicleName:l,vehicleId:e.VechileId||e.vehicleId,bookingId:d,userId:S,bookingStatus:"Pending",customerName:u,fromDate:e.FromDate||e.fromDate,toDate:e.ToDate||e.toDate,totalPrice:e.totalPrice}),s(o),I(o),n||(i(o),t(!0))},I=e=>{const t=e._id||e.id||"",n=(e.expiresAt||0)-Date.now();n>0&&(p.current[t]=setTimeout(()=>{R(t)},n))},R=async e=>{console.log("\u23f1\ufe0f Booking expired (timeout):",e);const r=a.find(t=>(t._id||t.id)===e)||n,o=(null===r||void 0===r?void 0:r.userId)||(null===r||void 0===r?void 0:r.customerId),s=(null===r||void 0===r?void 0:r.vehicleName)||(null===r||void 0===r?void 0:r.VehicleName);try{var u;await fetch("".concat(ka,"/confirmBooking/").concat(e,"/Cancelled"),{method:"POST",headers:{"Content-Type":"application/json"}}),_(e,"Expired"),null!==(u=h.current)&&void 0!==u&&u.connected&&o&&h.current.emit("booking-status-update",{bookingId:e,customerId:o,status:"timeout",ownerId:S,vehicleName:s}),l(e),n&&(n._id||n.id)===e&&(A(),i(null),t(!1)),p.current[e]&&(clearTimeout(p.current[e]),delete p.current[e]),m.current[e]&&(clearTimeout(m.current[e]),delete m.current[e]),v(t=>{const n=c({},t);return delete n[e],n})}catch(d){console.error("Error expiring booking:",d)}},P=()=>{if(0===a.length)return;const e=a[0];i(e),t(!0)},M=e=>{const t=Date.now(),n=(e.expiresAt||0)-t;if(n<=0)return"00:00";const r=Math.floor(n/6e4),i=Math.floor(n%6e4/1e3);return"".concat(r.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"))},L=e=>{let{booking:t}=e;const[n,i]=(0,r.useState)(M(t));(0,r.useEffect)(()=>{const e=setInterval(()=>{i(M(t))},1e3);return()=>clearInterval(e)},[t]);const a=(t.expiresAt||0)-Date.now(),o=a<3e4,s=a<1e4;return(0,qa.jsx)("span",{className:"font-mono font-bold text-xl ".concat(s?"text-red-600 animate-pulse":o?"text-orange-600 animate-pulse":"text-blue-600"),children:n})};if(!S||!e||!n)return null;const D=(n.expiresAt||0)-Date.now()<1e4;return(0,qa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[9999] p-4",children:(0,qa.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative animate-fadeIn ".concat(D?"ring-4 ring-red-500 ring-opacity-50":""),children:[(0,qa.jsx)("button",{onClick:()=>{A(),t(!1),i(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",disabled:u,children:(0,qa.jsx)(Wa,{size:24})}),(0,qa.jsxs)("div",{className:"text-center",children:[(0,qa.jsx)("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ".concat(D?"bg-red-100 animate-pulse":"bg-blue-100"),children:(0,qa.jsx)(dN,{className:D?"text-red-600":"text-blue-600",size:48})}),(0,qa.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"You've got a new booking!"}),(0,qa.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-6 p-3 rounded-xl ".concat(D?"bg-red-50":"bg-gray-50"),children:[(0,qa.jsx)(Us,{size:24,className:D?"text-red-600":"text-orange-600"}),(0,qa.jsx)(L,{booking:n}),(0,qa.jsx)("span",{className:"text-sm text-gray-500",children:"remaining"})]}),D&&(0,qa.jsxs)("div",{className:"bg-red-100 text-red-700 p-3 rounded-lg mb-4 flex items-center justify-center gap-2",children:[(0,qa.jsx)(Ns,{size:20}),(0,qa.jsx)("span",{className:"font-semibold",children:"Hurry! Time is running out!"})]}),(0,qa.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 text-left",children:[(0,qa.jsx)("p",{className:"font-bold text-lg text-gray-800 mb-2",children:n.vehicleName||n.VehicleName||"Vehicle"}),(0,qa.jsxs)("p",{className:"text-sm text-gray-600",children:["Customer: ",n.contactName||n.customerName||"N/A"]}),n.totalPrice&&(0,qa.jsxs)("p",{className:"text-sm text-gray-600",children:["Total: \u20b9",n.totalPrice]})]}),(0,qa.jsx)("button",{onClick:async()=>{if(!n)return;const e=n._id||n.id||"",r=n.userId||n.customerId,a=n.vehicleName||n.VehicleName;A(),d(!0);try{var o;if(!(await fetch("".concat(ka,"/confirmBooking/").concat(e,"/Confirmed"),{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to confirm booking");console.log("\u2705 Booking confirmed:",e),_(e,"Confirmed"),null!==(o=h.current)&&void 0!==o&&o.connected&&r&&h.current.emit("booking-status-update",{bookingId:e,customerId:r,status:"accepted",ownerId:S,vehicleName:a}),p.current[e]&&(clearTimeout(p.current[e]),delete p.current[e]),m.current[e]&&(clearTimeout(m.current[e]),delete m.current[e]),v(t=>{const n=c({},t);return delete n[e],n}),l(e),i(null),t(!1),d(!1)}catch(s){console.error("Error confirming booking:",s),alert("Error: ".concat(s.message)),d(!1)}},disabled:u,className:"w-full py-3 rounded-xl text-white font-semibold bg-gradient-to-r from-green-600 to-green-400 hover:opacity-90 mb-4 disabled:opacity-50 flex items-center justify-center gap-2",children:u?(0,qa.jsx)(zs,{className:"animate-spin",size:20}):(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(Pc,{size:20}),"Accept Booking"]})}),(0,qa.jsx)("button",{onClick:async()=>{if(!n)return;const e=n._id||n.id||"",r=n.userId||n.customerId,a=n.vehicleName||n.VehicleName;A(),d(!0);try{var o;if(!(await fetch("".concat(ka,"/confirmBooking/").concat(e,"/Cancelled"),{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to reject booking");console.log("\u274c Booking rejected:",e),_(e,"Rejected"),null!==(o=h.current)&&void 0!==o&&o.connected&&r&&h.current.emit("booking-status-update",{bookingId:e,customerId:r,status:"rejected",ownerId:S,vehicleName:a}),p.current[e]&&(clearTimeout(p.current[e]),delete p.current[e]),m.current[e]&&(clearTimeout(m.current[e]),delete m.current[e]),v(t=>{const n=c({},t);return delete n[e],n}),l(e),i(null),t(!1),d(!1)}catch(s){console.error("Error rejecting booking:",s),alert("Error: ".concat(s.message)),d(!1)}},disabled:u,className:"w-full py-3 rounded-xl font-semibold border border-red-500 text-red-600 hover:bg-red-50 disabled:opacity-50 flex items-center justify-center gap-2",children:u?(0,qa.jsx)(zs,{className:"animate-spin",size:20}):(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(Wa,{size:20}),"Reject Booking"]})})]})]})})}function gN(){const{showWaitingPopup:e,waitingBookingInfo:t,showCustomerTimeoutModal:n,closeWaitingPopup:i}=Cc(),[a,o]=(0,r.useState)(120);if((0,r.useEffect)(()=>{if(e&&t){const e=Math.max(0,Math.floor((t.expiresAt-Date.now())/1e3));o(e>0?e:120)}},[e,null===t||void 0===t?void 0:t.bookingId]),(0,r.useEffect)(()=>{if(!e||!t)return;const r=setInterval(()=>{const e=Math.max(0,Math.floor((t.expiresAt-Date.now())/1e3));if(o(e),e<=0){clearInterval(r);const e=t.vehicleName;n(e)}},1e3);return()=>clearInterval(r)},[e,null===t||void 0===t?void 0:t.bookingId,null===t||void 0===t?void 0:t.expiresAt,n]),!e||!t)return null;const s=2*Math.PI*45,l=Math.max(0,Math.min(1,a/120)),c=s*(1-l);return(0,qa.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-end justify-center",children:[(0,qa.jsx)("div",{className:"absolute inset-0 bg-black/40",style:{backdropFilter:"blur(12px)"}}),(0,qa.jsxs)("div",{className:"relative w-full bg-white rounded-t-3xl shadow-2xl pb-8 pt-6 px-6 animate-slideUp",style:{maxWidth:"600px"},children:[(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-1",children:"Waiting for response!"}),(0,qa.jsx)("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-1",children:"Waiting for response!"}),t.vehicleName&&(0,qa.jsx)("p",{className:"text-center text-sm text-gray-600 mb-2",children:t.vehicleName}),(0,qa.jsx)("div",{className:"w-full h-px bg-gray-300 my-5"}),(0,qa.jsx)("div",{className:"flex justify-center gap-3 mb-8 px-8",children:[0,1,2,3].map(e=>(0,qa.jsx)("div",{className:"flex-1 h-1.5 rounded-full transition-opacity duration-300",style:{background:"linear-gradient(to right, #1A2980, #26D0CE)",opacity:e<Math.floor(4*l)?1:.28}},e))}),(0,qa.jsxs)("div",{className:"flex flex-col items-center",children:[(0,qa.jsxs)("div",{className:"relative w-32 h-32 mb-3",children:[(0,qa.jsxs)("svg",{width:"128",height:"128",viewBox:"0 0 128 128",style:{transform:"rotate(-90deg)"},children:[(0,qa.jsx)("defs",{children:(0,qa.jsxs)("linearGradient",{id:"waitingGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,qa.jsx)("stop",{offset:"0%",stopColor:"#1A2980"}),(0,qa.jsx)("stop",{offset:"100%",stopColor:"#26D0CE"})]})}),(0,qa.jsx)("circle",{cx:"64",cy:"64",r:45,stroke:"#E5E7EB",strokeWidth:10,fill:"none"}),(0,qa.jsx)("circle",{cx:"64",cy:"64",r:45,stroke:"url(#waitingGrad)",strokeWidth:10,strokeDasharray:s,strokeDashoffset:c,strokeLinecap:"round",fill:"none",style:{transition:"stroke-dashoffset 0.45s ease"}})]}),(0,qa.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,qa.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 24 24",fill:"none",children:[(0,qa.jsx)("defs",{children:(0,qa.jsxs)("linearGradient",{id:"waitingClockGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,qa.jsx)("stop",{offset:"0%",stopColor:"#1A2980"}),(0,qa.jsx)("stop",{offset:"100%",stopColor:"#26D0CE"})]})}),(0,qa.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"url(#waitingClockGrad)",strokeWidth:"2",fill:"none"}),(0,qa.jsx)("path",{d:"M12 6V12L16 14",stroke:"url(#waitingClockGrad)",strokeWidth:"2",strokeLinecap:"round"})]})})]}),(0,qa.jsxs)("p",{className:"text-lg font-bold text-gray-800",children:[a," sec"]})]}),(0,qa.jsx)("div",{className:"mt-6 px-4",children:(0,qa.jsx)("button",{onClick:i,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-3 rounded-lg transition font-medium",children:"Cancel Waiting"})})]})]})}function yN(){const{showCustomerModal:e,customerModalType:t,customerBookingInfo:n,closeCustomerModal:i}=Cc(),{addNotification:a}=Ba(),o=(0,r.useRef)(null),s=(0,r.useRef)(null),l=localStorage.getItem("userId")||"",c=()=>{try{s.current||(s.current=new Audio("/sounds/WhatsApp Audio 2025-11-26 at 12.30.04.mp3")),s.current.currentTime=0,s.current.play().catch(e=>console.log("Rejection audio play failed:",e))}catch(e){console.log("Could not play rejection sound:",e)}};return(0,r.useEffect)(()=>{if(l)return o.current=er(Sa,{query:{userId:l},transports:["websocket"],reconnection:!0}),o.current.on("connect",()=>{console.log("\u2705 Global Socket connected for customer:",l)}),o.current.on("booking-status-update",e=>{if(console.log("\ud83d\udd14 Booking status update received (customer):",e),e.customerId&&e.customerId!==l)return void console.log("Ignoring status update - not for this customer");const t=Cc.getState().waitingBookingInfo;Cc.getState().showWaitingPopup||t?t&&t.bookingId&&e.bookingId&&t.bookingId!==e.bookingId?console.log("Ignoring status update - not for current waiting booking"):"accepted"===e.status?(a({type:"booking_confirmed",title:"Booking Confirmed!",message:"Your booking for ".concat(e.vehicleName||"the vehicle"," has been accepted by the owner."),vehicleName:e.vehicleName,bookingId:e.bookingId,userId:l}),Cc.getState().showCustomerAcceptedModal(e.vehicleName,e.ownerName)):"rejected"===e.status?(a({type:"booking_declined",title:"Booking Declined",message:"Your booking for ".concat(e.vehicleName||"the vehicle"," was declined by the owner."),vehicleName:e.vehicleName,bookingId:e.bookingId,userId:l}),c(),Cc.getState().showCustomerRejectedModal(e.vehicleName,e.ownerName)):"timeout"===e.status&&(a({type:"booking_timeout",title:"Booking Auto-Cancelled",message:"Your booking for ".concat(e.vehicleName||"the vehicle"," was auto-cancelled because the owner did not respond in time."),vehicleName:e.vehicleName,bookingId:e.bookingId,userId:l}),c(),Cc.getState().showCustomerTimeoutModal(e.vehicleName)):console.log("Ignoring status update - no waiting popup open")}),()=>{o.current&&o.current.disconnect()}},[l]),(0,r.useEffect)(()=>{!e||"rejected"!==t&&"timeout"!==t||(console.log("\ud83d\udd0a Playing rejection sound for customer modal type:",t),c())},[e,t]),e?(0,qa.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-[9999] p-4",children:["accepted"===t&&(0,qa.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-8 relative animate-fadeIn",children:(0,qa.jsxs)("div",{className:"text-center",children:[(0,qa.jsx)("div",{className:"w-24 h-24 bg-[#4AC9E3] rounded-full flex items-center justify-center mx-auto mb-6",children:(0,qa.jsx)(Pc,{className:"text-white",size:48,strokeWidth:3})}),(0,qa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your booking is confirmed"}),(0,qa.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"with the owner"}),(0,qa.jsx)("p",{className:"text-gray-500 text-sm mb-8",children:"Please meet at the pickup point and complete the process offline."}),(0,qa.jsx)("button",{onClick:i,className:"w-full py-3 rounded-xl text-white font-semibold bg-[#4AC9E3] hover:bg-[#3BB8D2] transition-colors",children:"Okay"})]})}),"rejected"===t&&(0,qa.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-10 relative animate-fadeIn",children:[(0,qa.jsx)("button",{onClick:i,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:(0,qa.jsx)(Wa,{size:24})}),(0,qa.jsxs)("div",{className:"text-center",children:[(0,qa.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-5 animate-bounce",children:(0,qa.jsx)(As,{className:"text-red-600",size:48})}),(0,qa.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Booking Declined"}),(0,qa.jsx)("p",{className:"text-gray-600 text-lg mb-6",children:"Unfortunately, your booking request was not accepted by the owner. Please try another vehicle."}),(null===n||void 0===n?void 0:n.vehicleName)&&(0,qa.jsx)("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-5 mb-6",children:(0,qa.jsx)("p",{className:"text-red-800 font-bold text-lg",children:n.vehicleName})}),(0,qa.jsx)("button",{onClick:i,className:"w-full py-3 rounded-xl text-white font-semibold bg-gradient-to-r from-blue-600 to-blue-400 hover:opacity-90",children:"Browse Other Vehicles"})]})]}),"timeout"===t&&(0,qa.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-10 relative animate-fadeIn",children:[(0,qa.jsx)("button",{onClick:i,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:(0,qa.jsx)(Wa,{size:24})}),(0,qa.jsxs)("div",{className:"text-center",children:[(0,qa.jsx)("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-5 animate-bounce",children:(0,qa.jsx)(Us,{className:"text-orange-600",size:48})}),(0,qa.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Booking Autocancelled"}),(0,qa.jsx)("p",{className:"text-gray-600 text-lg mb-6",children:"The owner did not respond within the time limit. Your booking has been automatically cancelled. Please try booking again or choose another vehicle."}),(null===n||void 0===n?void 0:n.vehicleName)&&(0,qa.jsx)("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-xl p-5 mb-6",children:(0,qa.jsx)("p",{className:"text-orange-800 font-bold text-lg",children:n.vehicleName})}),(0,qa.jsx)("button",{onClick:i,className:"w-full py-3 rounded-xl text-white font-semibold bg-gradient-to-r from-blue-600 to-blue-400 hover:opacity-90",children:"Browse Other Vehicles"})]})]})]}):null}function vN(){return(0,qa.jsxs)(qa.Fragment,{children:[(0,qa.jsx)(fN,{}),(0,qa.jsx)(gN,{}),(0,qa.jsx)(yN,{}),(0,qa.jsx)("style",{children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: scale(0.9);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1);\n          }\n        }\n        .animate-fadeIn {\n          animation: fadeIn 0.3s ease-out;\n        }\n        @keyframes slideUp {\n          from {\n            transform: translateY(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateY(0);\n            opacity: 1;\n          }\n        }\n        .animate-slideUp {\n          animation: slideUp 0.28s ease-out;\n        }\n      "})]})}const xN=()=>{const e=me(),{initializeSocket:t,disconnectSocket:n,fetchNotifications:i}=Ba();(0,r.useEffect)(()=>{const e=localStorage.getItem("userId");return e&&(console.log("\ud83d\udd14 App: Initializing notification system for user:",e),t(e),i(e)),()=>{n()}},[t,n,i]);const a=["/","/register"].includes(e.pathname);return(0,qa.jsxs)("div",{className:"min-h-screen bg-[#f8fafc]",children:[!a&&(0,qa.jsx)(ro,{}),(0,qa.jsxs)(Be,{children:[(0,qa.jsx)(Le,{path:"/",element:(0,qa.jsx)(lN,{})}),(0,qa.jsx)(Le,{path:"/register",element:(0,qa.jsx)(lN,{})}),(0,qa.jsx)(Le,{path:"/rental",element:(0,qa.jsx)(Eo,{})}),(0,qa.jsx)(Le,{path:"/list-car",element:(0,qa.jsx)(as,{})}),(0,qa.jsx)(Le,{path:"/list-bike",element:(0,qa.jsx)(cs,{})}),(0,qa.jsx)(Le,{path:"/nearby-cars",element:(0,qa.jsx)(Co,{})}),(0,qa.jsx)(Le,{path:"/nearby-bikes",element:(0,qa.jsx)(jo,{})}),(0,qa.jsx)(Le,{path:"/vehicle-details/:id",element:(0,qa.jsx)(ps,{})}),(0,qa.jsx)(Le,{path:"/Car-Details/:carId",element:(0,qa.jsx)(xu,{})}),(0,qa.jsx)(Le,{path:"/Bike-Details/:bikeId",element:(0,qa.jsx)(Nu,{})}),(0,qa.jsx)(Le,{path:"/vehicle-history/:vehicleName",element:(0,qa.jsx)(Es,{})}),(0,qa.jsx)(Le,{path:"/vehicle-details/:vehicleName/edit/:bookingId",element:(0,qa.jsx)(Ls,{})}),(0,qa.jsx)(Le,{path:"/book-now/:id",element:(0,qa.jsx)(Ec,{})}),(0,qa.jsx)(Le,{path:"/booking-detail/:vehicleId",element:(0,qa.jsx)(zu,{})}),(0,qa.jsx)(Le,{path:"/profile",element:(0,qa.jsx)(Yc,{})}),(0,qa.jsx)(Le,{path:"/my-profile",element:(0,qa.jsx)(eu,{})}),(0,qa.jsx)(Le,{path:"/mybookings",element:(0,qa.jsx)(nu,{})}),(0,qa.jsx)(Le,{path:"/notifications",element:(0,qa.jsx)(Lc,{})}),(0,qa.jsx)(Le,{path:"/feedback",element:(0,qa.jsx)(uu,{})}),(0,qa.jsx)(Le,{path:"/change-location",element:(0,qa.jsx)(Io,{})}),(0,qa.jsx)(Le,{path:"/privacy-policy",element:(0,qa.jsx)(ru,{})}),(0,qa.jsx)(Le,{path:"/about-us",element:(0,qa.jsx)(su,{})}),(0,qa.jsx)(Le,{path:"/help",element:(0,qa.jsx)(cu,{})}),(0,qa.jsx)(Le,{path:"/listed",element:(0,qa.jsx)(Fu,{})}),(0,qa.jsx)(Le,{path:"/listed-bike",element:(0,qa.jsx)(Vu,{})}),(0,qa.jsx)(Le,{path:"/Support-Ticket",element:(0,qa.jsx)(cN,{})}),(0,qa.jsx)(Le,{path:"/Raise-Ticket",element:(0,qa.jsx)(uN,{})}),(0,qa.jsx)(Le,{path:"/feedback",element:(0,qa.jsx)(uu,{})}),(0,qa.jsx)(Le,{path:"/calendar",element:(0,qa.jsx)(du,{onConfirm:()=>console.log("Confirmed!")})}),(0,qa.jsx)(Le,{path:"/calendar-screen",element:(0,qa.jsx)(hu,{})})]}),(0,qa.jsx)(vN,{})]})};var bN=n(391);const wN=document.getElementById("root");(0,bN.H)(wN).render((0,qa.jsx)(r.StrictMode,{children:(0,qa.jsx)(yt,{children:(0,qa.jsx)(Ja,{children:(0,qa.jsx)(xN,{})})})}))})()})();
//# sourceMappingURL=main.bf828788.js.map